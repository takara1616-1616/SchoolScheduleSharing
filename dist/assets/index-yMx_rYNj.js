function hN(t,n){for(var r=0;r<n.length;r++){const s=n[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(s,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();function Sd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mN(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var n=t.default;if(typeof n=="function"){var r=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),r}var om={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function pN(){if(Wb)return Ml;Wb=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,i,l){var d=null;if(l!==void 0&&(d=""+l),i.key!==void 0&&(d=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:t,type:s,key:d,ref:i!==void 0?i:null,props:l}}return Ml.Fragment=n,Ml.jsx=r,Ml.jsxs=r,Ml}var Fb;function gN(){return Fb||(Fb=1,om.exports=pN()),om.exports}var u=gN(),im={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function vN(){if(qb)return Ge;qb=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function j(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function E(z,X,q){this.props=z,this.context=X,this.refs=S,this.updater=q||N}E.prototype.isReactComponent={},E.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},E.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=E.prototype;function T(z,X,q){this.props=z,this.context=X,this.refs=S,this.updater=q||N}var D=T.prototype=new C;D.constructor=T,_(D,E.prototype),D.isPureReactComponent=!0;var M=Array.isArray;function k(){}var A={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function F(z,X,q){var ne=q.ref;return{$$typeof:t,type:z,key:X,ref:ne!==void 0?ne:null,props:q}}function V(z,X){return F(z.type,X,z.props)}function Q(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function re(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(q){return X[q]})}var J=/\/+/g;function le(z,X){return typeof z=="object"&&z!==null&&z.key!=null?re(""+z.key):X.toString(36)}function fe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(k,k):(z.status="pending",z.then(function(X){z.status==="pending"&&(z.status="fulfilled",z.value=X)},function(X){z.status==="pending"&&(z.status="rejected",z.reason=X)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function R(z,X,q,ne,he){var ye=typeof z;(ye==="undefined"||ye==="boolean")&&(z=null);var se=!1;if(z===null)se=!0;else switch(ye){case"bigint":case"string":case"number":se=!0;break;case"object":switch(z.$$typeof){case t:case n:se=!0;break;case y:return se=z._init,R(se(z._payload),X,q,ne,he)}}if(se)return he=he(z),se=ne===""?"."+le(z,0):ne,M(he)?(q="",se!=null&&(q=se.replace(J,"$&/")+"/"),R(he,X,q,"",function(Pe){return Pe})):he!=null&&(Q(he)&&(he=V(he,q+(he.key==null||z&&z.key===he.key?"":(""+he.key).replace(J,"$&/")+"/")+se)),X.push(he)),1;se=0;var ve=ne===""?".":ne+":";if(M(z))for(var Ee=0;Ee<z.length;Ee++)ne=z[Ee],ye=ve+le(ne,Ee),se+=R(ne,X,q,ye,he);else if(Ee=j(z),typeof Ee=="function")for(z=Ee.call(z),Ee=0;!(ne=z.next()).done;)ne=ne.value,ye=ve+le(ne,Ee++),se+=R(ne,X,q,ye,he);else if(ye==="object"){if(typeof z.then=="function")return R(fe(z),X,q,ne,he);throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return se}function L(z,X,q){if(z==null)return z;var ne=[],he=0;return R(z,ne,"","",function(ye){return X.call(q,ye,he++)}),ne}function $(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(q){(z._status===0||z._status===-1)&&(z._status=1,z._result=q)},function(q){(z._status===0||z._status===-1)&&(z._status=2,z._result=q)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var oe=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},me={map:L,forEach:function(z,X,q){L(z,function(){X.apply(this,arguments)},q)},count:function(z){var X=0;return L(z,function(){X++}),X},toArray:function(z){return L(z,function(X){return X})||[]},only:function(z){if(!Q(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ge.Activity=v,Ge.Children=me,Ge.Component=E,Ge.Fragment=r,Ge.Profiler=i,Ge.PureComponent=T,Ge.StrictMode=s,Ge.Suspense=h,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(z){return A.H.useMemoCache(z)}},Ge.cache=function(z){return function(){return z.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(z,X,q){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ne=_({},z.props),he=z.key;if(X!=null)for(ye in X.key!==void 0&&(he=""+X.key),X)!U.call(X,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&X.ref===void 0||(ne[ye]=X[ye]);var ye=arguments.length-2;if(ye===1)ne.children=q;else if(1<ye){for(var se=Array(ye),ve=0;ve<ye;ve++)se[ve]=arguments[ve+2];ne.children=se}return F(z.type,he,ne)},Ge.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ge.createElement=function(z,X,q){var ne,he={},ye=null;if(X!=null)for(ne in X.key!==void 0&&(ye=""+X.key),X)U.call(X,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(he[ne]=X[ne]);var se=arguments.length-2;if(se===1)he.children=q;else if(1<se){for(var ve=Array(se),Ee=0;Ee<se;Ee++)ve[Ee]=arguments[Ee+2];he.children=ve}if(z&&z.defaultProps)for(ne in se=z.defaultProps,se)he[ne]===void 0&&(he[ne]=se[ne]);return F(z,ye,he)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(z){return{$$typeof:f,render:z}},Ge.isValidElement=Q,Ge.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:$}},Ge.memo=function(z,X){return{$$typeof:m,type:z,compare:X===void 0?null:X}},Ge.startTransition=function(z){var X=A.T,q={};A.T=q;try{var ne=z(),he=A.S;he!==null&&he(q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(k,oe)}catch(ye){oe(ye)}finally{X!==null&&q.types!==null&&(X.types=q.types),A.T=X}},Ge.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ge.use=function(z){return A.H.use(z)},Ge.useActionState=function(z,X,q){return A.H.useActionState(z,X,q)},Ge.useCallback=function(z,X){return A.H.useCallback(z,X)},Ge.useContext=function(z){return A.H.useContext(z)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(z,X){return A.H.useDeferredValue(z,X)},Ge.useEffect=function(z,X){return A.H.useEffect(z,X)},Ge.useEffectEvent=function(z){return A.H.useEffectEvent(z)},Ge.useId=function(){return A.H.useId()},Ge.useImperativeHandle=function(z,X,q){return A.H.useImperativeHandle(z,X,q)},Ge.useInsertionEffect=function(z,X){return A.H.useInsertionEffect(z,X)},Ge.useLayoutEffect=function(z,X){return A.H.useLayoutEffect(z,X)},Ge.useMemo=function(z,X){return A.H.useMemo(z,X)},Ge.useOptimistic=function(z,X){return A.H.useOptimistic(z,X)},Ge.useReducer=function(z,X,q){return A.H.useReducer(z,X,q)},Ge.useRef=function(z){return A.H.useRef(z)},Ge.useState=function(z){return A.H.useState(z)},Ge.useSyncExternalStore=function(z,X,q){return A.H.useSyncExternalStore(z,X,q)},Ge.useTransition=function(){return A.H.useTransition()},Ge.version="19.2.0",Ge}var Yb;function _p(){return Yb||(Yb=1,im.exports=vN()),im.exports}var b=_p();const I=Sd(b),zw=hN({__proto__:null,default:I},[b]);var lm={exports:{}},zl={},cm={exports:{}},um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function yN(){return Vb||(Vb=1,(function(t){function n(R,L){var $=R.length;R.push(L);e:for(;0<$;){var oe=$-1>>>1,me=R[oe];if(0<i(me,L))R[oe]=L,R[$]=me,$=oe;else break e}}function r(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var L=R[0],$=R.pop();if($!==L){R[0]=$;e:for(var oe=0,me=R.length,z=me>>>1;oe<z;){var X=2*(oe+1)-1,q=R[X],ne=X+1,he=R[ne];if(0>i(q,$))ne<me&&0>i(he,q)?(R[oe]=he,R[ne]=$,oe=ne):(R[oe]=q,R[X]=$,oe=X);else if(ne<me&&0>i(he,$))R[oe]=he,R[ne]=$,oe=ne;else break e}}return L}function i(R,L){var $=R.sortIndex-L.sortIndex;return $!==0?$:R.id-L.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();t.unstable_now=function(){return d.now()-f}}var h=[],m=[],y=1,v=null,w=3,j=!1,N=!1,_=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function D(R){for(var L=r(m);L!==null;){if(L.callback===null)s(m);else if(L.startTime<=R)s(m),L.sortIndex=L.expirationTime,n(h,L);else break;L=r(m)}}function M(R){if(_=!1,D(R),!N)if(r(h)!==null)N=!0,k||(k=!0,re());else{var L=r(m);L!==null&&fe(M,L.startTime-R)}}var k=!1,A=-1,U=5,F=-1;function V(){return S?!0:!(t.unstable_now()-F<U)}function Q(){if(S=!1,k){var R=t.unstable_now();F=R;var L=!0;try{e:{N=!1,_&&(_=!1,C(A),A=-1),j=!0;var $=w;try{t:{for(D(R),v=r(h);v!==null&&!(v.expirationTime>R&&V());){var oe=v.callback;if(typeof oe=="function"){v.callback=null,w=v.priorityLevel;var me=oe(v.expirationTime<=R);if(R=t.unstable_now(),typeof me=="function"){v.callback=me,D(R),L=!0;break t}v===r(h)&&s(h),D(R)}else s(h);v=r(h)}if(v!==null)L=!0;else{var z=r(m);z!==null&&fe(M,z.startTime-R),L=!1}}break e}finally{v=null,w=$,j=!1}L=void 0}}finally{L?re():k=!1}}}var re;if(typeof T=="function")re=function(){T(Q)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,le=J.port2;J.port1.onmessage=Q,re=function(){le.postMessage(null)}}else re=function(){E(Q,0)};function fe(R,L){A=E(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(R){switch(w){case 1:case 2:case 3:var L=3;break;default:L=w}var $=w;w=L;try{return R()}finally{w=$}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var $=w;w=R;try{return L()}finally{w=$}},t.unstable_scheduleCallback=function(R,L,$){var oe=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?oe+$:oe):$=oe,R){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=$+me,R={id:y++,callback:L,priorityLevel:R,startTime:$,expirationTime:me,sortIndex:-1},$>oe?(R.sortIndex=$,n(m,R),r(h)===null&&R===r(m)&&(_?(C(A),A=-1):_=!0,fe(M,$-oe))):(R.sortIndex=me,n(h,R),N||j||(N=!0,k||(k=!0,re()))),R},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(R){var L=w;return function(){var $=w;w=L;try{return R.apply(this,arguments)}finally{w=$}}}})(um)),um}var Gb;function bN(){return Gb||(Gb=1,cm.exports=yN()),cm.exports}var dm={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function wN(){if(Kb)return Tn;Kb=1;var t=_p();function n(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:h,containerInfo:m,implementation:y}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Tn.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return l(h,m,null,y)},Tn.flushSync=function(h){var m=d.T,y=s.p;try{if(d.T=null,s.p=2,h)return h()}finally{d.T=m,s.p=y,s.d.f()}},Tn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},Tn.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Tn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,v=f(y,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,j=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:j}):y==="script"&&s.d.X(h,{crossOrigin:v,integrity:w,fetchPriority:j,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},Tn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=f(y,m.crossOrigin);s.d.L(h,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tn.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=f(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},Tn.requestFormReset=function(h){s.d.r(h)},Tn.unstable_batchedUpdates=function(h,m){return h(m)},Tn.useFormState=function(h,m,y){return d.H.useFormState(h,m,y)},Tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Tn.version="19.2.0",Tn}var Xb;function Uw(){if(Xb)return dm.exports;Xb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),dm.exports=wN(),dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb;function xN(){if(Qb)return zl;Qb=1;var t=bN(),n=_p(),r=Uw();function s(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var a=e,o=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(o=a.return),e=a.return;while(e)}return a.tag===3?o:null}function d(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function f(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(s(188))}function m(e){var a=e.alternate;if(!a){if(a=l(e),a===null)throw Error(s(188));return a!==e?null:e}for(var o=e,c=a;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return h(p),e;if(g===c)return h(p),a;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=p,c=g;else{for(var x=!1,O=p.child;O;){if(O===o){x=!0,o=p,c=g;break}if(O===c){x=!0,c=p,o=g;break}O=O.sibling}if(!x){for(O=g.child;O;){if(O===o){x=!0,o=g,c=p;break}if(O===c){x=!0,c=g,o=p;break}O=O.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:a}function y(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=y(e),a!==null)return a;e=e.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var J=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===J?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case k:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case T:return e.displayName||"Context";case C:return(e._context.displayName||"Context")+".Consumer";case D:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A:return a=e.displayName||null,a!==null?a:le(e.type)||"Memo";case U:a=e._payload,e=e._init;try{return le(e(a))}catch{}}return null}var fe=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},oe=[],me=-1;function z(e){return{current:e}}function X(e){0>me||(e.current=oe[me],oe[me]=null,me--)}function q(e,a){me++,oe[me]=e.current,e.current=a}var ne=z(null),he=z(null),ye=z(null),se=z(null);function ve(e,a){switch(q(ye,a),q(he,e),q(ne,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?fb(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=fb(a),e=hb(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ne),q(ne,e)}function Ee(){X(ne),X(he),X(ye)}function Pe(e){e.memoizedState!==null&&q(se,e);var a=ne.current,o=hb(a,e.type);a!==o&&(q(he,e),q(ne,o))}function Me(e){he.current===e&&(X(ne),X(he)),se.current===e&&(X(se),Al._currentValue=$)}var Be,Tt;function W(e){if(Be===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Be=a&&a[1]||"",Tt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Be+e+Tt}var Ae=!1;function Re(e,a){if(!e||Ae)return"";Ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ee){var Z=ee}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ee){Z=ee}e.call(ue.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),x=g[0],O=g[1];if(x&&O){var P=x.split(`
`),K=O.split(`
`);for(p=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(c===P.length||p===K.length)for(c=P.length-1,p=K.length-1;1<=c&&0<=p&&P[c]!==K[p];)p--;for(;1<=c&&0<=p;c--,p--)if(P[c]!==K[p]){if(c!==1||p!==1)do if(c--,p--,0>p||P[c]!==K[p]){var ae=`
`+P[c].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=c&&0<=p);break}}}finally{Ae=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?W(o):""}function Ve(e,a){switch(e.tag){case 26:case 27:case 5:return W(e.type);case 16:return W("Lazy");case 13:return e.child!==a&&a!==null?W("Suspense Fallback"):W("Suspense");case 19:return W("SuspenseList");case 0:case 15:return Re(e.type,!1);case 11:return Re(e.type.render,!1);case 1:return Re(e.type,!0);case 31:return W("Activity");default:return""}}function Ye(e){try{var a="",o=null;do a+=Ve(e,o),o=e,e=e.return;while(e);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Xe=Object.prototype.hasOwnProperty,tt=t.unstable_scheduleCallback,rt=t.unstable_cancelCallback,$e=t.unstable_shouldYield,xe=t.unstable_requestPaint,We=t.unstable_now,Zt=t.unstable_getCurrentPriorityLevel,Ht=t.unstable_ImmediatePriority,yn=t.unstable_UserBlockingPriority,It=t.unstable_NormalPriority,un=t.unstable_LowPriority,Vt=t.unstable_IdlePriority,dn=t.log,Ot=t.unstable_setDisableYieldValue,kt=null,gt=null;function Wt(e){if(typeof dn=="function"&&Ot(e),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(kt,e)}catch{}}var yt=Math.clz32?Math.clz32:ge,Dn=Math.log,He=Math.LN2;function ge(e){return e>>>=0,e===0?32:31-(Dn(e)/He|0)|0}var be=256,Ne=262144,ke=4194304;function Se(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,a,o){var c=e.pendingLanes;if(c===0)return 0;var p=0,g=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var O=c&134217727;return O!==0?(c=O&~g,c!==0?p=Se(c):(x&=O,x!==0?p=Se(x):o||(o=O&~e,o!==0&&(p=Se(o))))):(O=c&~g,O!==0?p=Se(O):x!==0?p=Se(x):o||(o=c&~e,o!==0&&(p=Se(o)))),p===0?0:a!==0&&a!==p&&(a&g)===0&&(g=p&-p,o=a&-a,g>=o||g===32&&(o&4194048)!==0)?a:p}function qe(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function ct(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ut(){var e=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),e}function Ft(e){for(var a=[],o=0;31>o;o++)a.push(e);return a}function dt(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nt(e,a,o,c,p,g){var x=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var O=e.entanglements,P=e.expirationTimes,K=e.hiddenUpdates;for(o=x&~o;0<o;){var ae=31-yt(o),ue=1<<ae;O[ae]=0,P[ae]=-1;var Z=K[ae];if(Z!==null)for(K[ae]=null,ae=0;ae<Z.length;ae++){var ee=Z[ae];ee!==null&&(ee.lane&=-536870913)}o&=~ue}c!==0&&Un(e,c,0),g!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=g&~(x&~a))}function Un(e,a,o){e.pendingLanes|=a,e.suspendedLanes&=~a;var c=31-yt(a);e.entangledLanes|=a,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function fn(e,a){var o=e.entangledLanes|=a;for(e=e.entanglements;o;){var c=31-yt(o),p=1<<c;p&a|e[c]&a&&(e[c]|=a),o&=~p}}function Nn(e,a){var o=a&-a;return o=(o&42)!==0?1:$a(o),(o&(e.suspendedLanes|a))!==0?0:o}function $a(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ui(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:Ub(e.type))}function wc(e,a){var o=L.p;try{return L.p=e,a()}finally{L.p=o}}var Mr=Math.random().toString(36).slice(2),hn="__reactFiber$"+Mr,Cn="__reactProps$"+Mr,Ha="__reactContainer$"+Mr,Pi="__reactEvents$"+Mr,Jd="__reactListeners$"+Mr,ef="__reactHandles$"+Mr,xc="__reactResources$"+Mr,Rs="__reactMarker$"+Mr;function Ii(e){delete e[hn],delete e[Cn],delete e[Pi],delete e[Jd],delete e[ef]}function Wa(e){var a=e[hn];if(a)return a;for(var o=e.parentNode;o;){if(a=o[Ha]||o[hn]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(e=wb(e);e!==null;){if(o=e[hn])return o;e=wb(e)}return a}e=o,o=e.parentNode}return null}function la(e){if(e=e[hn]||e[Ha]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function Ms(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(s(33))}function Fa(e){var a=e[xc];return a||(a=e[xc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Jt(e){e[Rs]=!0}var Sc=new Set,jc={};function ca(e,a){qa(e,a),qa(e+"Capture",a)}function qa(e,a){for(jc[e]=a,e=0;e<a.length;e++)Sc.add(a[e])}var tf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_c={},Ec={};function nf(e){return Xe.call(Ec,e)?!0:Xe.call(_c,e)?!1:tf.test(e)?Ec[e]=!0:(_c[e]=!0,!1)}function bo(e,a,o){if(nf(a))if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+o)}}function wo(e,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+o)}}function wr(e,a,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(a,o,""+c)}}function kn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nc(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rf(e,a,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return p.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(e,a,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Li(e){if(!e._valueTracker){var a=Nc(e)?"checked":"value";e._valueTracker=rf(e,a,""+e[a])}}function Cc(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return e&&(c=Nc(e)?e.checked?"true":"false":e.value),e=c,e!==o?(a.setValue(e),!0):!1}function xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var af=/[\n"\\]/g;function Pn(e){return e.replace(af,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Bi(e,a,o,c,p,g,x,O){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),a!=null?x==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+kn(a)):e.value!==""+kn(a)&&(e.value=""+kn(a)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),a!=null?Hi(e,x,kn(a)):o!=null?Hi(e,x,kn(o)):c!=null&&e.removeAttribute("value"),p==null&&g!=null&&(e.defaultChecked=!!g),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.name=""+kn(O):e.removeAttribute("name")}function $i(e,a,o,c,p,g,x,O){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null)){Li(e);return}o=o!=null?""+kn(o):"",a=a!=null?""+kn(a):o,O||a===e.value||(e.value=a),e.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=O?e.checked:!!c,e.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Li(e)}function Hi(e,a,o){a==="number"&&xo(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Ya(e,a,o,c){if(e=e.options,a){a={};for(var p=0;p<o.length;p++)a["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=a.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&c&&(e[o].defaultSelected=!0)}else{for(o=""+kn(o),a=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}a!==null||e[p].disabled||(a=e[p])}a!==null&&(a.selected=!0)}}function Tc(e,a,o){if(a!=null&&(a=""+kn(a),a!==e.value&&(e.value=a),o==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=o!=null?""+kn(o):""}function Oc(e,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(s(92));if(fe(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=kn(a),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),Li(e)}function Va(e,a){if(a){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=a;return}}e.textContent=a}var Wi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ac(e,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":c?e.setProperty(a,o):typeof o!="number"||o===0||Wi.has(a)?a==="float"?e.cssFloat=o:e[a]=(""+o).trim():e[a]=o+"px"}function Dc(e,a,o){if(a!=null&&typeof a!="object")throw Error(s(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&o[p]!==c&&Ac(e,p,c)}else for(var g in a)a.hasOwnProperty(g)&&Ac(e,g,a[g])}function Fi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function So(e){return of.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xr(){}var qi=null;function Yi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,Ga=null;function kc(e){var a=la(e);if(a&&(e=a.stateNode)){var o=e[Cn]||null;e:switch(e=a.stateNode,a.type){case"input":if(Bi(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==e&&c.form===e.form){var p=c[Cn]||null;if(!p)throw Error(s(90));Bi(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===e.form&&Cc(c)}break e;case"textarea":Tc(e,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Ya(e,!!o.multiple,a,!1)}}}var Vi=!1;function Rc(e,a,o){if(Vi)return e(a,o);Vi=!0;try{var c=e(a);return c}finally{if(Vi=!1,(ua!==null||Ga!==null)&&(vu(),ua&&(a=ua,e=Ga,Ga=ua=null,kc(a),e)))for(a=0;a<e.length;a++)kc(e[a])}}function zs(e,a){var o=e.stateNode;if(o===null)return null;var c=o[Cn]||null;if(c===null)return null;o=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gi=!1;if(Sr)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Gi=!1}var B=null,ie=null,we=null;function et(){if(we)return we;var e,a=ie,o=a.length,c,p="value"in B?B.value:B.textContent,g=p.length;for(e=0;e<o&&a[e]===p[e];e++);var x=o-e;for(c=1;c<=x&&a[o-c]===p[g-c];c++);return we=p.slice(e,1<c?1-c:void 0)}function ft(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function or(){return!0}function mg(){return!1}function In(e){function a(o,c,p,g,x){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(o=e[O],this[O]=o?o(g):g[O]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?or:mg,this.isPropagationStopped=mg,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),a}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=In(Ps),Ki=v({},Ps,{view:0,detail:0}),d1=In(Ki),lf,cf,Xi,zc=v({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:df,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xi&&(Xi&&e.type==="mousemove"?(lf=e.screenX-Xi.screenX,cf=e.screenY-Xi.screenY):cf=lf=0,Xi=e),lf)},movementY:function(e){return"movementY"in e?e.movementY:cf}}),pg=In(zc),f1=v({},zc,{dataTransfer:0}),h1=In(f1),m1=v({},Ki,{relatedTarget:0}),uf=In(m1),p1=v({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),g1=In(p1),v1=v({},Ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y1=In(v1),b1=v({},Ps,{data:0}),gg=In(b1),w1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j1(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=S1[e])?!!a[e]:!1}function df(){return j1}var _1=v({},Ki,{key:function(e){if(e.key){var a=w1[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=ft(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:df,charCode:function(e){return e.type==="keypress"?ft(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ft(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E1=In(_1),N1=v({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vg=In(N1),C1=v({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:df}),T1=In(C1),O1=v({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),A1=In(O1),D1=v({},zc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k1=In(D1),R1=v({},Ps,{newState:0,oldState:0}),M1=In(R1),z1=[9,13,27,32],ff=Sr&&"CompositionEvent"in window,Qi=null;Sr&&"documentMode"in document&&(Qi=document.documentMode);var U1=Sr&&"TextEvent"in window&&!Qi,yg=Sr&&(!ff||Qi&&8<Qi&&11>=Qi),bg=" ",wg=!1;function xg(e,a){switch(e){case"keyup":return z1.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jo=!1;function P1(e,a){switch(e){case"compositionend":return Sg(a);case"keypress":return a.which!==32?null:(wg=!0,bg);case"textInput":return e=a.data,e===bg&&wg?null:e;default:return null}}function I1(e,a){if(jo)return e==="compositionend"||!ff&&xg(e,a)?(e=et(),we=ie=B=null,jo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return yg&&a.locale!=="ko"?null:a.data;default:return null}}var L1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jg(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!L1[e.type]:a==="textarea"}function _g(e,a,o,c){ua?Ga?Ga.push(c):Ga=[c]:ua=c,a=_u(a,"onChange"),0<a.length&&(o=new Mc("onChange","change",null,o,c),e.push({event:o,listeners:a}))}var Zi=null,Ji=null;function B1(e){ob(e,0)}function Uc(e){var a=Ms(e);if(Cc(a))return e}function Eg(e,a){if(e==="change")return a}var Ng=!1;if(Sr){var hf;if(Sr){var mf="oninput"in document;if(!mf){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),mf=typeof Cg.oninput=="function"}hf=mf}else hf=!1;Ng=hf&&(!document.documentMode||9<document.documentMode)}function Tg(){Zi&&(Zi.detachEvent("onpropertychange",Og),Ji=Zi=null)}function Og(e){if(e.propertyName==="value"&&Uc(Ji)){var a=[];_g(a,Ji,e,Yi(e)),Rc(B1,a)}}function $1(e,a,o){e==="focusin"?(Tg(),Zi=a,Ji=o,Zi.attachEvent("onpropertychange",Og)):e==="focusout"&&Tg()}function H1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uc(Ji)}function W1(e,a){if(e==="click")return Uc(a)}function F1(e,a){if(e==="input"||e==="change")return Uc(a)}function q1(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Vn=typeof Object.is=="function"?Object.is:q1;function el(e,a){if(Vn(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var o=Object.keys(e),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Xe.call(a,p)||!Vn(e[p],a[p]))return!1}return!0}function Ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dg(e,a){var o=Ag(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=a&&c>=a)return{node:o,offset:a-e};e=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ag(o)}}function kg(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?kg(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=xo(e.document);a instanceof e.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)e=a.contentWindow;else break;a=xo(e.document)}return a}function pf(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var Y1=Sr&&"documentMode"in document&&11>=document.documentMode,_o=null,gf=null,tl=null,vf=!1;function Mg(e,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vf||_o==null||_o!==xo(c)||(c=_o,"selectionStart"in c&&pf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),tl&&el(tl,c)||(tl=c,c=_u(gf,"onSelect"),0<c.length&&(a=new Mc("onSelect","select",null,a,o),e.push({event:a,listeners:c}),a.target=_o)))}function Is(e,a){var o={};return o[e.toLowerCase()]=a.toLowerCase(),o["Webkit"+e]="webkit"+a,o["Moz"+e]="moz"+a,o}var Eo={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},yf={},zg={};Sr&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Ls(e){if(yf[e])return yf[e];if(!Eo[e])return e;var a=Eo[e],o;for(o in a)if(a.hasOwnProperty(o)&&o in zg)return yf[e]=a[o];return e}var Ug=Ls("animationend"),Pg=Ls("animationiteration"),Ig=Ls("animationstart"),V1=Ls("transitionrun"),G1=Ls("transitionstart"),K1=Ls("transitioncancel"),Lg=Ls("transitionend"),Bg=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function jr(e,a){Bg.set(e,a),ca(a,[e])}var Pc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ir=[],No=0,wf=0;function Ic(){for(var e=No,a=wf=No=0;a<e;){var o=ir[a];ir[a++]=null;var c=ir[a];ir[a++]=null;var p=ir[a];ir[a++]=null;var g=ir[a];if(ir[a++]=null,c!==null&&p!==null){var x=c.pending;x===null?p.next=p:(p.next=x.next,x.next=p),c.pending=p}g!==0&&$g(o,p,g)}}function Lc(e,a,o,c){ir[No++]=e,ir[No++]=a,ir[No++]=o,ir[No++]=c,wf|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function xf(e,a,o,c){return Lc(e,a,o,c),Bc(e)}function Bs(e,a){return Lc(e,null,null,a),Bc(e)}function $g(e,a,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(p=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,p&&a!==null&&(p=31-yt(o),e=g.hiddenUpdates,c=e[p],c===null?e[p]=[a]:c.push(a),a.lane=o|536870912),g):null}function Bc(e){if(50<jl)throw jl=0,Ah=null,Error(s(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var Co={};function X1(e,a,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,a,o,c){return new X1(e,a,o,c)}function Sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function da(e,a){var o=e.alternate;return o===null?(o=Gn(e.tag,a,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=a,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Hg(e,a){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,a=o.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function $c(e,a,o,c,p,g){var x=0;if(c=e,typeof e=="function")Sf(e)&&(x=1);else if(typeof e=="string")x=tN(e,o,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Gn(31,o,a,p),e.elementType=F,e.lanes=g,e;case _:return $s(o.children,p,g,a);case S:x=8,p|=24;break;case E:return e=Gn(12,o,a,p|2),e.elementType=E,e.lanes=g,e;case M:return e=Gn(13,o,a,p),e.elementType=M,e.lanes=g,e;case k:return e=Gn(19,o,a,p),e.elementType=k,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:x=10;break e;case C:x=9;break e;case D:x=11;break e;case A:x=14;break e;case U:x=16,c=null;break e}x=29,o=Error(s(130,e===null?"null":typeof e,"")),c=null}return a=Gn(x,o,a,p),a.elementType=e,a.type=c,a.lanes=g,a}function $s(e,a,o,c){return e=Gn(7,e,c,a),e.lanes=o,e}function jf(e,a,o){return e=Gn(6,e,null,a),e.lanes=o,e}function Wg(e){var a=Gn(18,null,null,0);return a.stateNode=e,a}function _f(e,a,o){return a=Gn(4,e.children!==null?e.children:[],e.key,a),a.lanes=o,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Fg=new WeakMap;function lr(e,a){if(typeof e=="object"&&e!==null){var o=Fg.get(e);return o!==void 0?o:(a={value:e,source:a,stack:Ye(a)},Fg.set(e,a),a)}return{value:e,source:a,stack:Ye(a)}}var To=[],Oo=0,Hc=null,nl=0,cr=[],ur=0,Ka=null,zr=1,Ur="";function fa(e,a){To[Oo++]=nl,To[Oo++]=Hc,Hc=e,nl=a}function qg(e,a,o){cr[ur++]=zr,cr[ur++]=Ur,cr[ur++]=Ka,Ka=e;var c=zr;e=Ur;var p=32-yt(c)-1;c&=~(1<<p),o+=1;var g=32-yt(a)+p;if(30<g){var x=p-p%5;g=(c&(1<<x)-1).toString(32),c>>=x,p-=x,zr=1<<32-yt(a)+p|o<<p|c,Ur=g+e}else zr=1<<g|o<<p|c,Ur=e}function Ef(e){e.return!==null&&(fa(e,1),qg(e,1,0))}function Nf(e){for(;e===Hc;)Hc=To[--Oo],To[Oo]=null,nl=To[--Oo],To[Oo]=null;for(;e===Ka;)Ka=cr[--ur],cr[ur]=null,Ur=cr[--ur],cr[ur]=null,zr=cr[--ur],cr[ur]=null}function Yg(e,a){cr[ur++]=zr,cr[ur++]=Ur,cr[ur++]=Ka,zr=a.id,Ur=a.overflow,Ka=e}var xn=null,Rt=null,lt=!1,Xa=null,dr=!1,Cf=Error(s(519));function Qa(e){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(lr(a,e)),Cf}function Vg(e){var a=e.stateNode,o=e.type,c=e.memoizedProps;switch(a[hn]=e,a[Cn]=c,o){case"dialog":st("cancel",a),st("close",a);break;case"iframe":case"object":case"embed":st("load",a);break;case"video":case"audio":for(o=0;o<El.length;o++)st(El[o],a);break;case"source":st("error",a);break;case"img":case"image":case"link":st("error",a),st("load",a);break;case"details":st("toggle",a);break;case"input":st("invalid",a),$i(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":st("invalid",a);break;case"textarea":st("invalid",a),Oc(a,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||ub(a.textContent,o)?(c.popover!=null&&(st("beforetoggle",a),st("toggle",a)),c.onScroll!=null&&st("scroll",a),c.onScrollEnd!=null&&st("scrollend",a),c.onClick!=null&&(a.onclick=xr),a=!0):a=!1,a||Qa(e,!0)}function Gg(e){for(xn=e.return;xn;)switch(xn.tag){case 5:case 31:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:xn=xn.return}}function Ao(e){if(e!==xn)return!1;if(!lt)return Gg(e),lt=!0,!1;var a=e.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||qh(e.type,e.memoizedProps)),o=!o),o&&Rt&&Qa(e),Gg(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Rt=bb(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Rt=bb(e)}else a===27?(a=Rt,ds(e.type)?(e=Xh,Xh=null,Rt=e):Rt=a):Rt=xn?hr(e.stateNode.nextSibling):null;return!0}function Hs(){Rt=xn=null,lt=!1}function Tf(){var e=Xa;return e!==null&&(Hn===null?Hn=e:Hn.push.apply(Hn,e),Xa=null),e}function rl(e){Xa===null?Xa=[e]:Xa.push(e)}var Of=z(null),Ws=null,ha=null;function Za(e,a,o){q(Of,a._currentValue),a._currentValue=o}function ma(e){e._currentValue=Of.current,X(Of)}function Af(e,a,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),e===o)break;e=e.return}}function Df(e,a,o,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var g=p.dependencies;if(g!==null){var x=p.child;g=g.firstContext;e:for(;g!==null;){var O=g;g=p;for(var P=0;P<a.length;P++)if(O.context===a[P]){g.lanes|=o,O=g.alternate,O!==null&&(O.lanes|=o),Af(g.return,o,e),c||(x=null);break e}g=O.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(s(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),Af(x,o,e),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===e){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Do(e,a,o,c){e=null;for(var p=a,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var O=p.type;Vn(p.pendingProps.value,x.value)||(e!==null?e.push(O):e=[O])}}else if(p===se.current){if(x=p.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Al):e=[Al])}p=p.return}e!==null&&Df(a,e,o,c),a.flags|=262144}function Wc(e){for(e=e.firstContext;e!==null;){if(!Vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fs(e){Ws=e,ha=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sn(e){return Kg(Ws,e)}function Fc(e,a){return Ws===null&&Fs(e),Kg(e,a)}function Kg(e,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},ha===null){if(e===null)throw Error(s(308));ha=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else ha=ha.next=a;return o}var Q1=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){a.aborted=!0,e.forEach(function(o){return o()})}},Z1=t.unstable_scheduleCallback,J1=t.unstable_NormalPriority,en={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new Q1,data:new Map,refCount:0}}function al(e){e.refCount--,e.refCount===0&&Z1(J1,function(){e.controller.abort()})}var sl=null,Rf=0,ko=0,Ro=null;function eE(e,a){if(sl===null){var o=sl=[];Rf=0,ko=Uh(),Ro={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Rf++,a.then(Xg,Xg),a}function Xg(){if(--Rf===0&&sl!==null){Ro!==null&&(Ro.status="fulfilled");var e=sl;sl=null,ko=0,Ro=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function tE(e,a){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<o.length;p++)(0,o[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var Qg=R.S;R.S=function(e,a){My=We(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&eE(e,a),Qg!==null&&Qg(e,a)};var qs=z(null);function Mf(){var e=qs.current;return e!==null?e:Ct.pooledCache}function qc(e,a){a===null?q(qs,qs.current):q(qs,a.pool)}function Zg(){var e=Mf();return e===null?null:{parent:en._currentValue,pool:e}}var Mo=Error(s(460)),zf=Error(s(474)),Yc=Error(s(542)),Vc={then:function(){}};function Jg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ev(e,a,o){switch(o=e[o],o===void 0?e.push(a):o!==a&&(a.then(xr,xr),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,nv(e),e;default:if(typeof a.status=="string")a.then(xr,xr);else{if(e=Ct,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=a,e.status="pending",e.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,nv(e),e}throw Vs=a,Mo}}function Ys(e){try{var a=e._init;return a(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Vs=o,Mo):o}}var Vs=null;function tv(){if(Vs===null)throw Error(s(459));var e=Vs;return Vs=null,e}function nv(e){if(e===Mo||e===Yc)throw Error(s(483))}var zo=null,ol=0;function Gc(e){var a=ol;return ol+=1,zo===null&&(zo=[]),ev(zo,e,a)}function il(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Kc(e,a){throw a.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(a),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function rv(e){function a(Y,H){if(e){var G=Y.deletions;G===null?(Y.deletions=[H],Y.flags|=16):G.push(H)}}function o(Y,H){if(!e)return null;for(;H!==null;)a(Y,H),H=H.sibling;return null}function c(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function p(Y,H){return Y=da(Y,H),Y.index=0,Y.sibling=null,Y}function g(Y,H,G){return Y.index=G,e?(G=Y.alternate,G!==null?(G=G.index,G<H?(Y.flags|=67108866,H):G):(Y.flags|=67108866,H)):(Y.flags|=1048576,H)}function x(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function O(Y,H,G,ce){return H===null||H.tag!==6?(H=jf(G,Y.mode,ce),H.return=Y,H):(H=p(H,G),H.return=Y,H)}function P(Y,H,G,ce){var Ue=G.type;return Ue===_?ae(Y,H,G.props.children,ce,G.key):H!==null&&(H.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===U&&Ys(Ue)===H.type)?(H=p(H,G.props),il(H,G),H.return=Y,H):(H=$c(G.type,G.key,G.props,null,Y.mode,ce),il(H,G),H.return=Y,H)}function K(Y,H,G,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==G.containerInfo||H.stateNode.implementation!==G.implementation?(H=_f(G,Y.mode,ce),H.return=Y,H):(H=p(H,G.children||[]),H.return=Y,H)}function ae(Y,H,G,ce,Ue){return H===null||H.tag!==7?(H=$s(G,Y.mode,ce,Ue),H.return=Y,H):(H=p(H,G),H.return=Y,H)}function ue(Y,H,G){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=jf(""+H,Y.mode,G),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return G=$c(H.type,H.key,H.props,null,Y.mode,G),il(G,H),G.return=Y,G;case N:return H=_f(H,Y.mode,G),H.return=Y,H;case U:return H=Ys(H),ue(Y,H,G)}if(fe(H)||re(H))return H=$s(H,Y.mode,G,null),H.return=Y,H;if(typeof H.then=="function")return ue(Y,Gc(H),G);if(H.$$typeof===T)return ue(Y,Fc(Y,H),G);Kc(Y,H)}return null}function Z(Y,H,G,ce){var Ue=H!==null?H.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ue!==null?null:O(Y,H,""+G,ce);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case j:return G.key===Ue?P(Y,H,G,ce):null;case N:return G.key===Ue?K(Y,H,G,ce):null;case U:return G=Ys(G),Z(Y,H,G,ce)}if(fe(G)||re(G))return Ue!==null?null:ae(Y,H,G,ce,null);if(typeof G.then=="function")return Z(Y,H,Gc(G),ce);if(G.$$typeof===T)return Z(Y,H,Fc(Y,G),ce);Kc(Y,G)}return null}function ee(Y,H,G,ce,Ue){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Y=Y.get(G)||null,O(H,Y,""+ce,Ue);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case j:return Y=Y.get(ce.key===null?G:ce.key)||null,P(H,Y,ce,Ue);case N:return Y=Y.get(ce.key===null?G:ce.key)||null,K(H,Y,ce,Ue);case U:return ce=Ys(ce),ee(Y,H,G,ce,Ue)}if(fe(ce)||re(ce))return Y=Y.get(G)||null,ae(H,Y,ce,Ue,null);if(typeof ce.then=="function")return ee(Y,H,G,Gc(ce),Ue);if(ce.$$typeof===T)return ee(Y,H,G,Fc(H,ce),Ue);Kc(H,ce)}return null}function Ce(Y,H,G,ce){for(var Ue=null,ht=null,De=H,Je=H=0,it=null;De!==null&&Je<G.length;Je++){De.index>Je?(it=De,De=null):it=De.sibling;var mt=Z(Y,De,G[Je],ce);if(mt===null){De===null&&(De=it);break}e&&De&&mt.alternate===null&&a(Y,De),H=g(mt,H,Je),ht===null?Ue=mt:ht.sibling=mt,ht=mt,De=it}if(Je===G.length)return o(Y,De),lt&&fa(Y,Je),Ue;if(De===null){for(;Je<G.length;Je++)De=ue(Y,G[Je],ce),De!==null&&(H=g(De,H,Je),ht===null?Ue=De:ht.sibling=De,ht=De);return lt&&fa(Y,Je),Ue}for(De=c(De);Je<G.length;Je++)it=ee(De,Y,Je,G[Je],ce),it!==null&&(e&&it.alternate!==null&&De.delete(it.key===null?Je:it.key),H=g(it,H,Je),ht===null?Ue=it:ht.sibling=it,ht=it);return e&&De.forEach(function(gs){return a(Y,gs)}),lt&&fa(Y,Je),Ue}function Le(Y,H,G,ce){if(G==null)throw Error(s(151));for(var Ue=null,ht=null,De=H,Je=H=0,it=null,mt=G.next();De!==null&&!mt.done;Je++,mt=G.next()){De.index>Je?(it=De,De=null):it=De.sibling;var gs=Z(Y,De,mt.value,ce);if(gs===null){De===null&&(De=it);break}e&&De&&gs.alternate===null&&a(Y,De),H=g(gs,H,Je),ht===null?Ue=gs:ht.sibling=gs,ht=gs,De=it}if(mt.done)return o(Y,De),lt&&fa(Y,Je),Ue;if(De===null){for(;!mt.done;Je++,mt=G.next())mt=ue(Y,mt.value,ce),mt!==null&&(H=g(mt,H,Je),ht===null?Ue=mt:ht.sibling=mt,ht=mt);return lt&&fa(Y,Je),Ue}for(De=c(De);!mt.done;Je++,mt=G.next())mt=ee(De,Y,Je,mt.value,ce),mt!==null&&(e&&mt.alternate!==null&&De.delete(mt.key===null?Je:mt.key),H=g(mt,H,Je),ht===null?Ue=mt:ht.sibling=mt,ht=mt);return e&&De.forEach(function(fN){return a(Y,fN)}),lt&&fa(Y,Je),Ue}function _t(Y,H,G,ce){if(typeof G=="object"&&G!==null&&G.type===_&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case j:e:{for(var Ue=G.key;H!==null;){if(H.key===Ue){if(Ue=G.type,Ue===_){if(H.tag===7){o(Y,H.sibling),ce=p(H,G.props.children),ce.return=Y,Y=ce;break e}}else if(H.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===U&&Ys(Ue)===H.type){o(Y,H.sibling),ce=p(H,G.props),il(ce,G),ce.return=Y,Y=ce;break e}o(Y,H);break}else a(Y,H);H=H.sibling}G.type===_?(ce=$s(G.props.children,Y.mode,ce,G.key),ce.return=Y,Y=ce):(ce=$c(G.type,G.key,G.props,null,Y.mode,ce),il(ce,G),ce.return=Y,Y=ce)}return x(Y);case N:e:{for(Ue=G.key;H!==null;){if(H.key===Ue)if(H.tag===4&&H.stateNode.containerInfo===G.containerInfo&&H.stateNode.implementation===G.implementation){o(Y,H.sibling),ce=p(H,G.children||[]),ce.return=Y,Y=ce;break e}else{o(Y,H);break}else a(Y,H);H=H.sibling}ce=_f(G,Y.mode,ce),ce.return=Y,Y=ce}return x(Y);case U:return G=Ys(G),_t(Y,H,G,ce)}if(fe(G))return Ce(Y,H,G,ce);if(re(G)){if(Ue=re(G),typeof Ue!="function")throw Error(s(150));return G=Ue.call(G),Le(Y,H,G,ce)}if(typeof G.then=="function")return _t(Y,H,Gc(G),ce);if(G.$$typeof===T)return _t(Y,H,Fc(Y,G),ce);Kc(Y,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,H!==null&&H.tag===6?(o(Y,H.sibling),ce=p(H,G),ce.return=Y,Y=ce):(o(Y,H),ce=jf(G,Y.mode,ce),ce.return=Y,Y=ce),x(Y)):o(Y,H)}return function(Y,H,G,ce){try{ol=0;var Ue=_t(Y,H,G,ce);return zo=null,Ue}catch(De){if(De===Mo||De===Yc)throw De;var ht=Gn(29,De,null,Y.mode);return ht.lanes=ce,ht.return=Y,ht}finally{}}}var Gs=rv(!0),av=rv(!1),Ja=!1;function Uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ts(e,a,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(vt&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=Bc(e),$g(e,null,o),a}return Lc(e,c,a,o),Bc(e)}function ll(e,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var c=a.lanes;c&=e.pendingLanes,o|=c,a.lanes=o,fn(e,o)}}function If(e,a){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?p=g=a:g=g.next=a}else p=g=a;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=a:e.next=a,o.lastBaseUpdate=a}var Lf=!1;function cl(){if(Lf){var e=Ro;if(e!==null)throw e}}function ul(e,a,o,c){Lf=!1;var p=e.updateQueue;Ja=!1;var g=p.firstBaseUpdate,x=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var P=O,K=P.next;P.next=null,x===null?g=K:x.next=K,x=P;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,O=ae.lastBaseUpdate,O!==x&&(O===null?ae.firstBaseUpdate=K:O.next=K,ae.lastBaseUpdate=P))}if(g!==null){var ue=p.baseState;x=0,ae=K=P=null,O=g;do{var Z=O.lane&-536870913,ee=Z!==O.lane;if(ee?(ot&Z)===Z:(c&Z)===Z){Z!==0&&Z===ko&&(Lf=!0),ae!==null&&(ae=ae.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ce=e,Le=O;Z=a;var _t=o;switch(Le.tag){case 1:if(Ce=Le.payload,typeof Ce=="function"){ue=Ce.call(_t,ue,Z);break e}ue=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Le.payload,Z=typeof Ce=="function"?Ce.call(_t,ue,Z):Ce,Z==null)break e;ue=v({},ue,Z);break e;case 2:Ja=!0}}Z=O.callback,Z!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ae===null?(K=ae=ee,P=ue):ae=ae.next=ee,x|=Z;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ee=O,O=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);ae===null&&(P=ue),p.baseState=P,p.firstBaseUpdate=K,p.lastBaseUpdate=ae,g===null&&(p.shared.lanes=0),os|=x,e.lanes=x,e.memoizedState=ue}}function sv(e,a){if(typeof e!="function")throw Error(s(191,e));e.call(a)}function ov(e,a){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)sv(o[e],a)}var Uo=z(null),Xc=z(0);function iv(e,a){e=ja,q(Xc,e),q(Uo,a),ja=e|a.baseLanes}function Bf(){q(Xc,ja),q(Uo,Uo.current)}function $f(){ja=Xc.current,X(Uo),X(Xc)}var Kn=z(null),fr=null;function ns(e){var a=e.alternate;q(Gt,Gt.current&1),q(Kn,e),fr===null&&(a===null||Uo.current!==null||a.memoizedState!==null)&&(fr=e)}function Hf(e){q(Gt,Gt.current),q(Kn,e),fr===null&&(fr=e)}function lv(e){e.tag===22?(q(Gt,Gt.current),q(Kn,e),fr===null&&(fr=e)):rs()}function rs(){q(Gt,Gt.current),q(Kn,Kn.current)}function Xn(e){X(Kn),fr===e&&(fr=null),X(Gt)}var Gt=z(0);function Qc(e){for(var a=e;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Gh(o)||Kh(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var pa=0,Ze=null,St=null,tn=null,Zc=!1,Po=!1,Ks=!1,Jc=0,dl=0,Io=null,nE=0;function qt(){throw Error(s(321))}function Wf(e,a){if(a===null)return!1;for(var o=0;o<a.length&&o<e.length;o++)if(!Vn(e[o],a[o]))return!1;return!0}function Ff(e,a,o,c,p,g){return pa=g,Ze=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=e===null||e.memoizedState===null?qv:sh,Ks=!1,g=o(c,p),Ks=!1,Po&&(g=uv(a,o,c,p)),cv(e),g}function cv(e){R.H=ml;var a=St!==null&&St.next!==null;if(pa=0,tn=St=Ze=null,Zc=!1,dl=0,Io=null,a)throw Error(s(300));e===null||nn||(e=e.dependencies,e!==null&&Wc(e)&&(nn=!0))}function uv(e,a,o,c){Ze=e;var p=0;do{if(Po&&(Io=null),dl=0,Po=!1,25<=p)throw Error(s(301));if(p+=1,tn=St=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}R.H=Yv,g=a(o,c)}while(Po);return g}function rE(){var e=R.H,a=e.useState()[0];return a=typeof a.then=="function"?fl(a):a,e=e.useState()[0],(St!==null?St.memoizedState:null)!==e&&(Ze.flags|=1024),a}function qf(){var e=Jc!==0;return Jc=0,e}function Yf(e,a,o){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~o}function Vf(e){if(Zc){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Zc=!1}pa=0,tn=St=Ze=null,Po=!1,dl=Jc=0,Io=null}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Ze.memoizedState=tn=e:tn=tn.next=e,tn}function Kt(){if(St===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var a=tn===null?Ze.memoizedState:tn.next;if(a!==null)tn=a,St=e;else{if(e===null)throw Ze.alternate===null?Error(s(467)):Error(s(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},tn===null?Ze.memoizedState=tn=e:tn=tn.next=e}return tn}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(e){var a=dl;return dl+=1,Io===null&&(Io=[]),e=ev(Io,e,a),a=Ze,(tn===null?a.memoizedState:tn.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?qv:sh),e}function tu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fl(e);if(e.$$typeof===T)return Sn(e)}throw Error(s(438,String(e)))}function Gf(e){var a=null,o=Ze.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=Ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=eu(),Ze.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(e),c=0;c<e;c++)o[c]=V;return a.index++,o}function ga(e,a){return typeof a=="function"?a(e):a}function nu(e){var a=Kt();return Kf(a,St,e)}function Kf(e,a,o){var c=e.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var p=e.baseQueue,g=c.pending;if(g!==null){if(p!==null){var x=p.next;p.next=g.next,g.next=x}a.baseQueue=p=g,c.pending=null}if(g=e.baseState,p===null)e.memoizedState=g;else{a=p.next;var O=x=null,P=null,K=a,ae=!1;do{var ue=K.lane&-536870913;if(ue!==K.lane?(ot&ue)===ue:(pa&ue)===ue){var Z=K.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ue===ko&&(ae=!0);else if((pa&Z)===Z){K=K.next,Z===ko&&(ae=!0);continue}else ue={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(O=P=ue,x=g):P=P.next=ue,Ze.lanes|=Z,os|=Z;ue=K.action,Ks&&o(g,ue),g=K.hasEagerState?K.eagerState:o(g,ue)}else Z={lane:ue,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(O=P=Z,x=g):P=P.next=Z,Ze.lanes|=ue,os|=ue;K=K.next}while(K!==null&&K!==a);if(P===null?x=g:P.next=O,!Vn(g,e.memoizedState)&&(nn=!0,ae&&(o=Ro,o!==null)))throw o;e.memoizedState=g,e.baseState=x,e.baseQueue=P,c.lastRenderedState=g}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Xf(e){var a=Kt(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var c=o.dispatch,p=o.pending,g=a.memoizedState;if(p!==null){o.pending=null;var x=p=p.next;do g=e(g,x.action),x=x.next;while(x!==p);Vn(g,a.memoizedState)||(nn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,c]}function dv(e,a,o){var c=Ze,p=Kt(),g=lt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=a();var x=!Vn((St||p).memoizedState,o);if(x&&(p.memoizedState=o,nn=!0),p=p.queue,Jf(mv.bind(null,c,p,e),[e]),p.getSnapshot!==a||x||tn!==null&&tn.memoizedState.tag&1){if(c.flags|=2048,Lo(9,{destroy:void 0},hv.bind(null,c,p,o,a),null),Ct===null)throw Error(s(349));g||(pa&127)!==0||fv(c,a,o)}return o}function fv(e,a,o){e.flags|=16384,e={getSnapshot:a,value:o},a=Ze.updateQueue,a===null?(a=eu(),Ze.updateQueue=a,a.stores=[e]):(o=a.stores,o===null?a.stores=[e]:o.push(e))}function hv(e,a,o,c){a.value=o,a.getSnapshot=c,pv(a)&&gv(e)}function mv(e,a,o){return o(function(){pv(a)&&gv(e)})}function pv(e){var a=e.getSnapshot;e=e.value;try{var o=a();return!Vn(e,o)}catch{return!0}}function gv(e){var a=Bs(e,2);a!==null&&Wn(a,e,2)}function Qf(e){var a=Rn();if(typeof e=="function"){var o=e;if(e=o(),Ks){Wt(!0);try{o()}finally{Wt(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},a}function vv(e,a,o,c){return e.baseState=o,Kf(e,St,typeof c=="function"?c:ga)}function aE(e,a,o,c,p){if(su(e))throw Error(s(485));if(e=a.action,e!==null){var g={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};R.T!==null?o(!0):g.isTransition=!1,c(g),o=a.pending,o===null?(g.next=a.pending=g,yv(a,g)):(g.next=o.next,a.pending=o.next=g)}}function yv(e,a){var o=a.action,c=a.payload,p=e.state;if(a.isTransition){var g=R.T,x={};R.T=x;try{var O=o(p,c),P=R.S;P!==null&&P(x,O),bv(e,a,O)}catch(K){Zf(e,a,K)}finally{g!==null&&x.types!==null&&(g.types=x.types),R.T=g}}else try{g=o(p,c),bv(e,a,g)}catch(K){Zf(e,a,K)}}function bv(e,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){wv(e,a,c)},function(c){return Zf(e,a,c)}):wv(e,a,o)}function wv(e,a,o){a.status="fulfilled",a.value=o,xv(a),e.state=o,a=e.pending,a!==null&&(o=a.next,o===a?e.pending=null:(o=o.next,a.next=o,yv(e,o)))}function Zf(e,a,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,xv(a),a=a.next;while(a!==c)}e.action=null}function xv(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Sv(e,a){return a}function jv(e,a){if(lt){var o=Ct.formState;if(o!==null){e:{var c=Ze;if(lt){if(Rt){t:{for(var p=Rt,g=dr;p.nodeType!==8;){if(!g){p=null;break t}if(p=hr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Rt=hr(p.nextSibling),c=p.data==="F!";break e}}Qa(c)}c=!1}c&&(a=o[0])}}return o=Rn(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sv,lastRenderedState:a},o.queue=c,o=Hv.bind(null,Ze,c),c.dispatch=o,c=Qf(!1),g=ah.bind(null,Ze,!1,c.queue),c=Rn(),p={state:a,dispatch:null,action:e,pending:null},c.queue=p,o=aE.bind(null,Ze,p,g,o),p.dispatch=o,c.memoizedState=e,[a,o,!1]}function _v(e){var a=Kt();return Ev(a,St,e)}function Ev(e,a,o){if(a=Kf(e,a,Sv)[0],e=nu(ga)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=fl(a)}catch(x){throw x===Mo?Yc:x}else c=a;a=Kt();var p=a.queue,g=p.dispatch;return o!==a.memoizedState&&(Ze.flags|=2048,Lo(9,{destroy:void 0},sE.bind(null,p,o),null)),[c,g,e]}function sE(e,a){e.action=a}function Nv(e){var a=Kt(),o=St;if(o!==null)return Ev(a,o,e);Kt(),a=a.memoizedState,o=Kt();var c=o.queue.dispatch;return o.memoizedState=e,[a,c,!1]}function Lo(e,a,o,c){return e={tag:e,create:o,deps:c,inst:a,next:null},a=Ze.updateQueue,a===null&&(a=eu(),Ze.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,a.lastEffect=e),e}function Cv(){return Kt().memoizedState}function ru(e,a,o,c){var p=Rn();Ze.flags|=e,p.memoizedState=Lo(1|a,{destroy:void 0},o,c===void 0?null:c)}function au(e,a,o,c){var p=Kt();c=c===void 0?null:c;var g=p.memoizedState.inst;St!==null&&c!==null&&Wf(c,St.memoizedState.deps)?p.memoizedState=Lo(a,g,o,c):(Ze.flags|=e,p.memoizedState=Lo(1|a,g,o,c))}function Tv(e,a){ru(8390656,8,e,a)}function Jf(e,a){au(2048,8,e,a)}function oE(e){Ze.flags|=4;var a=Ze.updateQueue;if(a===null)a=eu(),Ze.updateQueue=a,a.events=[e];else{var o=a.events;o===null?a.events=[e]:o.push(e)}}function Ov(e){var a=Kt().memoizedState;return oE({ref:a,nextImpl:e}),function(){if((vt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function Av(e,a){return au(4,2,e,a)}function Dv(e,a){return au(4,4,e,a)}function kv(e,a){if(typeof a=="function"){e=e();var o=a(e);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function Rv(e,a,o){o=o!=null?o.concat([e]):null,au(4,4,kv.bind(null,a,e),o)}function eh(){}function Mv(e,a){var o=Kt();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&Wf(a,c[1])?c[0]:(o.memoizedState=[e,a],e)}function zv(e,a){var o=Kt();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&Wf(a,c[1]))return c[0];if(c=e(),Ks){Wt(!0);try{e()}finally{Wt(!1)}}return o.memoizedState=[c,a],c}function th(e,a,o){return o===void 0||(pa&1073741824)!==0&&(ot&261930)===0?e.memoizedState=a:(e.memoizedState=o,e=Uy(),Ze.lanes|=e,os|=e,o)}function Uv(e,a,o,c){return Vn(o,a)?o:Uo.current!==null?(e=th(e,o,c),Vn(e,a)||(nn=!0),e):(pa&42)===0||(pa&1073741824)!==0&&(ot&261930)===0?(nn=!0,e.memoizedState=o):(e=Uy(),Ze.lanes|=e,os|=e,a)}function Pv(e,a,o,c,p){var g=L.p;L.p=g!==0&&8>g?g:8;var x=R.T,O={};R.T=O,ah(e,!1,a,o);try{var P=p(),K=R.S;if(K!==null&&K(O,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ae=tE(P,c);hl(e,a,ae,Jn(e))}else hl(e,a,c,Jn(e))}catch(ue){hl(e,a,{then:function(){},status:"rejected",reason:ue},Jn())}finally{L.p=g,x!==null&&O.types!==null&&(x.types=O.types),R.T=x}}function iE(){}function nh(e,a,o,c){if(e.tag!==5)throw Error(s(476));var p=Iv(e).queue;Pv(e,p,a,$,o===null?iE:function(){return Lv(e),o(c)})}function Iv(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:$},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:o},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function Lv(e){var a=Iv(e);a.next===null&&(a=e.alternate.memoizedState),hl(e,a.next.queue,{},Jn())}function rh(){return Sn(Al)}function Bv(){return Kt().memoizedState}function $v(){return Kt().memoizedState}function lE(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var o=Jn();e=es(o);var c=ts(a,e,o);c!==null&&(Wn(c,a,o),ll(c,a,o)),a={cache:kf()},e.payload=a;return}a=a.return}}function cE(e,a,o){var c=Jn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},su(e)?Wv(a,o):(o=xf(e,a,o,c),o!==null&&(Wn(o,e,c),Fv(o,a,c)))}function Hv(e,a,o){var c=Jn();hl(e,a,o,c)}function hl(e,a,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(su(e))Wv(a,p);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var x=a.lastRenderedState,O=g(x,o);if(p.hasEagerState=!0,p.eagerState=O,Vn(O,x))return Lc(e,a,p,0),Ct===null&&Ic(),!1}catch{}finally{}if(o=xf(e,a,p,c),o!==null)return Wn(o,e,c),Fv(o,a,c),!0}return!1}function ah(e,a,o,c){if(c={lane:2,revertLane:Uh(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},su(e)){if(a)throw Error(s(479))}else a=xf(e,o,c,2),a!==null&&Wn(a,e,2)}function su(e){var a=e.alternate;return e===Ze||a!==null&&a===Ze}function Wv(e,a){Po=Zc=!0;var o=e.pending;o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a}function Fv(e,a,o){if((o&4194048)!==0){var c=a.lanes;c&=e.pendingLanes,o|=c,a.lanes=o,fn(e,o)}}var ml={readContext:Sn,use:tu,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};ml.useEffectEvent=qt;var qv={readContext:Sn,use:tu,useCallback:function(e,a){return Rn().memoizedState=[e,a===void 0?null:a],e},useContext:Sn,useEffect:Tv,useImperativeHandle:function(e,a,o){o=o!=null?o.concat([e]):null,ru(4194308,4,kv.bind(null,a,e),o)},useLayoutEffect:function(e,a){return ru(4194308,4,e,a)},useInsertionEffect:function(e,a){ru(4,2,e,a)},useMemo:function(e,a){var o=Rn();a=a===void 0?null:a;var c=e();if(Ks){Wt(!0);try{e()}finally{Wt(!1)}}return o.memoizedState=[c,a],c},useReducer:function(e,a,o){var c=Rn();if(o!==void 0){var p=o(a);if(Ks){Wt(!0);try{o(a)}finally{Wt(!1)}}}else p=a;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=cE.bind(null,Ze,e),[c.memoizedState,e]},useRef:function(e){var a=Rn();return e={current:e},a.memoizedState=e},useState:function(e){e=Qf(e);var a=e.queue,o=Hv.bind(null,Ze,a);return a.dispatch=o,[e.memoizedState,o]},useDebugValue:eh,useDeferredValue:function(e,a){var o=Rn();return th(o,e,a)},useTransition:function(){var e=Qf(!1);return e=Pv.bind(null,Ze,e.queue,!0,!1),Rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,o){var c=Ze,p=Rn();if(lt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),Ct===null)throw Error(s(349));(ot&127)!==0||fv(c,a,o)}p.memoizedState=o;var g={value:o,getSnapshot:a};return p.queue=g,Tv(mv.bind(null,c,g,e),[e]),c.flags|=2048,Lo(9,{destroy:void 0},hv.bind(null,c,g,o,a),null),o},useId:function(){var e=Rn(),a=Ct.identifierPrefix;if(lt){var o=Ur,c=zr;o=(c&~(1<<32-yt(c)-1)).toString(32)+o,a="_"+a+"R_"+o,o=Jc++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=nE++,a="_"+a+"r_"+o.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:rh,useFormState:jv,useActionState:jv,useOptimistic:function(e){var a=Rn();a.memoizedState=a.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=ah.bind(null,Ze,!0,o),o.dispatch=a,[e,a]},useMemoCache:Gf,useCacheRefresh:function(){return Rn().memoizedState=lE.bind(null,Ze)},useEffectEvent:function(e){var a=Rn(),o={impl:e};return a.memoizedState=o,function(){if((vt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},sh={readContext:Sn,use:tu,useCallback:Mv,useContext:Sn,useEffect:Jf,useImperativeHandle:Rv,useInsertionEffect:Av,useLayoutEffect:Dv,useMemo:zv,useReducer:nu,useRef:Cv,useState:function(){return nu(ga)},useDebugValue:eh,useDeferredValue:function(e,a){var o=Kt();return Uv(o,St.memoizedState,e,a)},useTransition:function(){var e=nu(ga)[0],a=Kt().memoizedState;return[typeof e=="boolean"?e:fl(e),a]},useSyncExternalStore:dv,useId:Bv,useHostTransitionStatus:rh,useFormState:_v,useActionState:_v,useOptimistic:function(e,a){var o=Kt();return vv(o,St,e,a)},useMemoCache:Gf,useCacheRefresh:$v};sh.useEffectEvent=Ov;var Yv={readContext:Sn,use:tu,useCallback:Mv,useContext:Sn,useEffect:Jf,useImperativeHandle:Rv,useInsertionEffect:Av,useLayoutEffect:Dv,useMemo:zv,useReducer:Xf,useRef:Cv,useState:function(){return Xf(ga)},useDebugValue:eh,useDeferredValue:function(e,a){var o=Kt();return St===null?th(o,e,a):Uv(o,St.memoizedState,e,a)},useTransition:function(){var e=Xf(ga)[0],a=Kt().memoizedState;return[typeof e=="boolean"?e:fl(e),a]},useSyncExternalStore:dv,useId:Bv,useHostTransitionStatus:rh,useFormState:Nv,useActionState:Nv,useOptimistic:function(e,a){var o=Kt();return St!==null?vv(o,St,e,a):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:$v};Yv.useEffectEvent=Ov;function oh(e,a,o,c){a=e.memoizedState,o=o(c,a),o=o==null?a:v({},a,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var ih={enqueueSetState:function(e,a,o){e=e._reactInternals;var c=Jn(),p=es(c);p.payload=a,o!=null&&(p.callback=o),a=ts(e,p,c),a!==null&&(Wn(a,e,c),ll(a,e,c))},enqueueReplaceState:function(e,a,o){e=e._reactInternals;var c=Jn(),p=es(c);p.tag=1,p.payload=a,o!=null&&(p.callback=o),a=ts(e,p,c),a!==null&&(Wn(a,e,c),ll(a,e,c))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var o=Jn(),c=es(o);c.tag=2,a!=null&&(c.callback=a),a=ts(e,c,o),a!==null&&(Wn(a,e,o),ll(a,e,o))}};function Vv(e,a,o,c,p,g,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,x):a.prototype&&a.prototype.isPureReactComponent?!el(o,c)||!el(p,g):!0}function Gv(e,a,o,c){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==e&&ih.enqueueReplaceState(a,a.state,null)}function Xs(e,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(e=e.defaultProps){o===a&&(o=v({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}function Kv(e){Pc(e)}function Xv(e){console.error(e)}function Qv(e){Pc(e)}function ou(e,a){try{var o=e.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Zv(e,a,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function lh(e,a,o){return o=es(o),o.tag=3,o.payload={element:null},o.callback=function(){ou(e,a)},o}function Jv(e){return e=es(e),e.tag=3,e}function ey(e,a,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;e.payload=function(){return p(g)},e.callback=function(){Zv(a,o,c)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Zv(a,o,c),typeof p!="function"&&(is===null?is=new Set([this]):is.add(this));var O=c.stack;this.componentDidCatch(c.value,{componentStack:O!==null?O:""})})}function uE(e,a,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&Do(a,o,p,!0),o=Kn.current,o!==null){switch(o.tag){case 31:case 13:return fr===null?yu():o.alternate===null&&Yt===0&&(Yt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===Vc?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),Rh(e,c,p)),!1;case 22:return o.flags|=65536,c===Vc?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),Rh(e,c,p)),!1}throw Error(s(435,o.tag))}return Rh(e,c,p),yu(),!1}if(lt)return a=Kn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==Cf&&(e=Error(s(422),{cause:c}),rl(lr(e,o)))):(c!==Cf&&(a=Error(s(423),{cause:c}),rl(lr(a,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=lr(c,o),p=lh(e.stateNode,c,p),If(e,p),Yt!==4&&(Yt=2)),!1;var g=Error(s(520),{cause:c});if(g=lr(g,o),Sl===null?Sl=[g]:Sl.push(g),Yt!==4&&(Yt=2),a===null)return!0;c=lr(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=lh(o.stateNode,c,e),If(o,e),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(is===null||!is.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Jv(p),ey(p,e,o,c),If(o,p),!1}o=o.return}while(o!==null);return!1}var ch=Error(s(461)),nn=!1;function jn(e,a,o,c){a.child=e===null?av(a,null,o,c):Gs(a,e.child,o,c)}function ty(e,a,o,c,p){o=o.render;var g=a.ref;if("ref"in c){var x={};for(var O in c)O!=="ref"&&(x[O]=c[O])}else x=c;return Fs(a),c=Ff(e,a,o,x,g,p),O=qf(),e!==null&&!nn?(Yf(e,a,p),va(e,a,p)):(lt&&O&&Ef(a),a.flags|=1,jn(e,a,c,p),a.child)}function ny(e,a,o,c,p){if(e===null){var g=o.type;return typeof g=="function"&&!Sf(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,ry(e,a,g,c,p)):(e=$c(o.type,null,c,a,a.mode,p),e.ref=a.ref,e.return=a,a.child=e)}if(g=e.child,!vh(e,p)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:el,o(x,c)&&e.ref===a.ref)return va(e,a,p)}return a.flags|=1,e=da(g,c),e.ref=a.ref,e.return=a,a.child=e}function ry(e,a,o,c,p){if(e!==null){var g=e.memoizedProps;if(el(g,c)&&e.ref===a.ref)if(nn=!1,a.pendingProps=c=g,vh(e,p))(e.flags&131072)!==0&&(nn=!0);else return a.lanes=e.lanes,va(e,a,p)}return uh(e,a,o,c,p)}function ay(e,a,o,c){var p=c.children,g=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=a.child=e.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,a.child=null;return sy(e,a,g,o,c)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&qc(a,g!==null?g.cachePool:null),g!==null?iv(a,g):Bf(),lv(a);else return c=a.lanes=536870912,sy(e,a,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(qc(a,g.cachePool),iv(a,g),rs(),a.memoizedState=null):(e!==null&&qc(a,null),Bf(),rs());return jn(e,a,p,o),a.child}function pl(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function sy(e,a,o,c,p){var g=Mf();return g=g===null?null:{parent:en._currentValue,pool:g},a.memoizedState={baseLanes:o,cachePool:g},e!==null&&qc(a,null),Bf(),lv(a),e!==null&&Do(e,a,c,!0),a.childLanes=p,null}function iu(e,a){return a=cu({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function oy(e,a,o){return Gs(a,e.child,null,o),e=iu(a,a.pendingProps),e.flags|=2,Xn(a),a.memoizedState=null,e}function dE(e,a,o){var c=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(lt){if(c.mode==="hidden")return e=iu(a,c),a.lanes=536870912,pl(null,e);if(Hf(a),(e=Rt)?(e=yb(e,dr),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:zr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},o=Wg(e),o.return=a,a.child=o,xn=a,Rt=null)):e=null,e===null)throw Qa(a);return a.lanes=536870912,null}return iu(a,c)}var g=e.memoizedState;if(g!==null){var x=g.dehydrated;if(Hf(a),p)if(a.flags&256)a.flags&=-257,a=oy(e,a,o);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(s(558));else if(nn||Do(e,a,o,!1),p=(o&e.childLanes)!==0,nn||p){if(c=Ct,c!==null&&(x=Nn(c,o),x!==0&&x!==g.retryLane))throw g.retryLane=x,Bs(e,x),Wn(c,e,x),ch;yu(),a=oy(e,a,o)}else e=g.treeContext,Rt=hr(x.nextSibling),xn=a,lt=!0,Xa=null,dr=!1,e!==null&&Yg(a,e),a=iu(a,c),a.flags|=4096;return a}return e=da(e.child,{mode:c.mode,children:c.children}),e.ref=a.ref,a.child=e,e.return=a,e}function lu(e,a){var o=a.ref;if(o===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(e===null||e.ref!==o)&&(a.flags|=4194816)}}function uh(e,a,o,c,p){return Fs(a),o=Ff(e,a,o,c,void 0,p),c=qf(),e!==null&&!nn?(Yf(e,a,p),va(e,a,p)):(lt&&c&&Ef(a),a.flags|=1,jn(e,a,o,p),a.child)}function iy(e,a,o,c,p,g){return Fs(a),a.updateQueue=null,o=uv(a,c,o,p),cv(e),c=qf(),e!==null&&!nn?(Yf(e,a,g),va(e,a,g)):(lt&&c&&Ef(a),a.flags|=1,jn(e,a,o,g),a.child)}function ly(e,a,o,c,p){if(Fs(a),a.stateNode===null){var g=Co,x=o.contextType;typeof x=="object"&&x!==null&&(g=Sn(x)),g=new o(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ih,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},Uf(a),x=o.contextType,g.context=typeof x=="object"&&x!==null?Sn(x):Co,g.state=a.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(oh(a,o,x,c),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&ih.enqueueReplaceState(g,g.state,null),ul(a,c,g,p),cl(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(e===null){g=a.stateNode;var O=a.memoizedProps,P=Xs(o,O);g.props=P;var K=g.context,ae=o.contextType;x=Co,typeof ae=="object"&&ae!==null&&(x=Sn(ae));var ue=o.getDerivedStateFromProps;ae=typeof ue=="function"||typeof g.getSnapshotBeforeUpdate=="function",O=a.pendingProps!==O,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(O||K!==x)&&Gv(a,g,c,x),Ja=!1;var Z=a.memoizedState;g.state=Z,ul(a,c,g,p),cl(),K=a.memoizedState,O||Z!==K||Ja?(typeof ue=="function"&&(oh(a,o,ue,c),K=a.memoizedState),(P=Ja||Vv(a,o,P,c,Z,K,x))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),g.props=c,g.state=K,g.context=x,c=P):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,Pf(e,a),x=a.memoizedProps,ae=Xs(o,x),g.props=ae,ue=a.pendingProps,Z=g.context,K=o.contextType,P=Co,typeof K=="object"&&K!==null&&(P=Sn(K)),O=o.getDerivedStateFromProps,(K=typeof O=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==ue||Z!==P)&&Gv(a,g,c,P),Ja=!1,Z=a.memoizedState,g.state=Z,ul(a,c,g,p),cl();var ee=a.memoizedState;x!==ue||Z!==ee||Ja||e!==null&&e.dependencies!==null&&Wc(e.dependencies)?(typeof O=="function"&&(oh(a,o,O,c),ee=a.memoizedState),(ae=Ja||Vv(a,o,ae,c,Z,ee,P)||e!==null&&e.dependencies!==null&&Wc(e.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ee,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ee,P)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&Z===e.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&Z===e.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ee),g.props=c,g.state=ee,g.context=P,c=ae):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&Z===e.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&Z===e.memoizedState||(a.flags|=1024),c=!1)}return g=c,lu(e,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,e!==null&&c?(a.child=Gs(a,e.child,null,p),a.child=Gs(a,null,o,p)):jn(e,a,o,p),a.memoizedState=g.state,e=a.child):e=va(e,a,p),e}function cy(e,a,o,c){return Hs(),a.flags|=256,jn(e,a,o,c),a.child}var dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fh(e){return{baseLanes:e,cachePool:Zg()}}function hh(e,a,o){return e=e!==null?e.childLanes&~o:0,a&&(e|=Zn),e}function uy(e,a,o){var c=a.pendingProps,p=!1,g=(a.flags&128)!==0,x;if((x=g)||(x=e!==null&&e.memoizedState===null?!1:(Gt.current&2)!==0),x&&(p=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,e===null){if(lt){if(p?ns(a):rs(),(e=Rt)?(e=yb(e,dr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:zr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},o=Wg(e),o.return=a,a.child=o,xn=a,Rt=null)):e=null,e===null)throw Qa(a);return Kh(e)?a.lanes=32:a.lanes=536870912,null}var O=c.children;return c=c.fallback,p?(rs(),p=a.mode,O=cu({mode:"hidden",children:O},p),c=$s(c,p,o,null),O.return=a,c.return=a,O.sibling=c,a.child=O,c=a.child,c.memoizedState=fh(o),c.childLanes=hh(e,x,o),a.memoizedState=dh,pl(null,c)):(ns(a),mh(a,O))}var P=e.memoizedState;if(P!==null&&(O=P.dehydrated,O!==null)){if(g)a.flags&256?(ns(a),a.flags&=-257,a=ph(e,a,o)):a.memoizedState!==null?(rs(),a.child=e.child,a.flags|=128,a=null):(rs(),O=c.fallback,p=a.mode,c=cu({mode:"visible",children:c.children},p),O=$s(O,p,o,null),O.flags|=2,c.return=a,O.return=a,c.sibling=O,a.child=c,Gs(a,e.child,null,o),c=a.child,c.memoizedState=fh(o),c.childLanes=hh(e,x,o),a.memoizedState=dh,a=pl(null,c));else if(ns(a),Kh(O)){if(x=O.nextSibling&&O.nextSibling.dataset,x)var K=x.dgst;x=K,c=Error(s(419)),c.stack="",c.digest=x,rl({value:c,source:null,stack:null}),a=ph(e,a,o)}else if(nn||Do(e,a,o,!1),x=(o&e.childLanes)!==0,nn||x){if(x=Ct,x!==null&&(c=Nn(x,o),c!==0&&c!==P.retryLane))throw P.retryLane=c,Bs(e,c),Wn(x,e,c),ch;Gh(O)||yu(),a=ph(e,a,o)}else Gh(O)?(a.flags|=192,a.child=e.child,a=null):(e=P.treeContext,Rt=hr(O.nextSibling),xn=a,lt=!0,Xa=null,dr=!1,e!==null&&Yg(a,e),a=mh(a,c.children),a.flags|=4096);return a}return p?(rs(),O=c.fallback,p=a.mode,P=e.child,K=P.sibling,c=da(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,K!==null?O=da(K,O):(O=$s(O,p,o,null),O.flags|=2),O.return=a,c.return=a,c.sibling=O,a.child=c,pl(null,c),c=a.child,O=e.child.memoizedState,O===null?O=fh(o):(p=O.cachePool,p!==null?(P=en._currentValue,p=p.parent!==P?{parent:P,pool:P}:p):p=Zg(),O={baseLanes:O.baseLanes|o,cachePool:p}),c.memoizedState=O,c.childLanes=hh(e,x,o),a.memoizedState=dh,pl(e.child,c)):(ns(a),o=e.child,e=o.sibling,o=da(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,e!==null&&(x=a.deletions,x===null?(a.deletions=[e],a.flags|=16):x.push(e)),a.child=o,a.memoizedState=null,o)}function mh(e,a){return a=cu({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function cu(e,a){return e=Gn(22,e,null,a),e.lanes=0,e}function ph(e,a,o){return Gs(a,e.child,null,o),e=mh(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function dy(e,a,o){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a),Af(e.return,a,o)}function gh(e,a,o,c,p,g){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=o,x.tailMode=p,x.treeForkCount=g)}function fy(e,a,o){var c=a.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var x=Gt.current,O=(x&2)!==0;if(O?(x=x&1|2,a.flags|=128):x&=1,q(Gt,x),jn(e,a,c,o),c=lt?nl:0,!O&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dy(e,o,a);else if(e.tag===19)dy(e,o,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(o=a.child,p=null;o!==null;)e=o.alternate,e!==null&&Qc(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=a.child,a.child=null):(p=o.sibling,o.sibling=null),gh(a,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=a.child,a.child=null;p!==null;){if(e=p.alternate,e!==null&&Qc(e)===null){a.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}gh(a,!0,o,null,g,c);break;case"together":gh(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function va(e,a,o){if(e!==null&&(a.dependencies=e.dependencies),os|=a.lanes,(o&a.childLanes)===0)if(e!==null){if(Do(e,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(s(153));if(a.child!==null){for(e=a.child,o=da(e,e.pendingProps),a.child=o,o.return=a;e.sibling!==null;)e=e.sibling,o=o.sibling=da(e,e.pendingProps),o.return=a;o.sibling=null}return a.child}function vh(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Wc(e)))}function fE(e,a,o){switch(a.tag){case 3:ve(a,a.stateNode.containerInfo),Za(a,en,e.memoizedState.cache),Hs();break;case 27:case 5:Pe(a);break;case 4:ve(a,a.stateNode.containerInfo);break;case 10:Za(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Hf(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ns(a),a.flags|=128,null):(o&a.child.childLanes)!==0?uy(e,a,o):(ns(a),e=va(e,a,o),e!==null?e.sibling:null);ns(a);break;case 19:var p=(e.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(Do(e,a,o,!1),c=(o&a.childLanes)!==0),p){if(c)return fy(e,a,o);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),q(Gt,Gt.current),c)break;return null;case 22:return a.lanes=0,ay(e,a,o,a.pendingProps);case 24:Za(a,en,e.memoizedState.cache)}return va(e,a,o)}function hy(e,a,o){if(e!==null)if(e.memoizedProps!==a.pendingProps)nn=!0;else{if(!vh(e,o)&&(a.flags&128)===0)return nn=!1,fE(e,a,o);nn=(e.flags&131072)!==0}else nn=!1,lt&&(a.flags&1048576)!==0&&qg(a,nl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(e=Ys(a.elementType),a.type=e,typeof e=="function")Sf(e)?(c=Xs(e,c),a.tag=1,a=ly(null,a,e,c,o)):(a.tag=0,a=uh(null,a,e,c,o));else{if(e!=null){var p=e.$$typeof;if(p===D){a.tag=11,a=ty(null,a,e,c,o);break e}else if(p===A){a.tag=14,a=ny(null,a,e,c,o);break e}}throw a=le(e)||e,Error(s(306,a,""))}}return a;case 0:return uh(e,a,a.type,a.pendingProps,o);case 1:return c=a.type,p=Xs(c,a.pendingProps),ly(e,a,c,p,o);case 3:e:{if(ve(a,a.stateNode.containerInfo),e===null)throw Error(s(387));c=a.pendingProps;var g=a.memoizedState;p=g.element,Pf(e,a),ul(a,c,null,o);var x=a.memoizedState;if(c=x.cache,Za(a,en,c),c!==g.cache&&Df(a,[en],o,!0),cl(),c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=cy(e,a,c,o);break e}else if(c!==p){p=lr(Error(s(424)),a),rl(p),a=cy(e,a,c,o);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Rt=hr(e.firstChild),xn=a,lt=!0,Xa=null,dr=!0,o=av(a,null,c,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Hs(),c===p){a=va(e,a,o);break e}jn(e,a,c,o)}a=a.child}return a;case 26:return lu(e,a),e===null?(o=_b(a.type,null,a.pendingProps,null))?a.memoizedState=o:lt||(o=a.type,e=a.pendingProps,c=Eu(ye.current).createElement(o),c[hn]=a,c[Cn]=e,_n(c,o,e),Jt(c),a.stateNode=c):a.memoizedState=_b(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return Pe(a),e===null&&lt&&(c=a.stateNode=xb(a.type,a.pendingProps,ye.current),xn=a,dr=!0,p=Rt,ds(a.type)?(Xh=p,Rt=hr(c.firstChild)):Rt=p),jn(e,a,a.pendingProps.children,o),lu(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&lt&&((p=c=Rt)&&(c=HE(c,a.type,a.pendingProps,dr),c!==null?(a.stateNode=c,xn=a,Rt=hr(c.firstChild),dr=!1,p=!0):p=!1),p||Qa(a)),Pe(a),p=a.type,g=a.pendingProps,x=e!==null?e.memoizedProps:null,c=g.children,qh(p,g)?c=null:x!==null&&qh(p,x)&&(a.flags|=32),a.memoizedState!==null&&(p=Ff(e,a,rE,null,null,o),Al._currentValue=p),lu(e,a),jn(e,a,c,o),a.child;case 6:return e===null&&lt&&((e=o=Rt)&&(o=WE(o,a.pendingProps,dr),o!==null?(a.stateNode=o,xn=a,Rt=null,e=!0):e=!1),e||Qa(a)),null;case 13:return uy(e,a,o);case 4:return ve(a,a.stateNode.containerInfo),c=a.pendingProps,e===null?a.child=Gs(a,null,c,o):jn(e,a,c,o),a.child;case 11:return ty(e,a,a.type,a.pendingProps,o);case 7:return jn(e,a,a.pendingProps,o),a.child;case 8:return jn(e,a,a.pendingProps.children,o),a.child;case 12:return jn(e,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,Za(a,a.type,c.value),jn(e,a,c.children,o),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,Fs(a),p=Sn(p),c=c(p),a.flags|=1,jn(e,a,c,o),a.child;case 14:return ny(e,a,a.type,a.pendingProps,o);case 15:return ry(e,a,a.type,a.pendingProps,o);case 19:return fy(e,a,o);case 31:return dE(e,a,o);case 22:return ay(e,a,o,a.pendingProps);case 24:return Fs(a),c=Sn(en),e===null?(p=Mf(),p===null&&(p=Ct,g=kf(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),a.memoizedState={parent:c,cache:p},Uf(a),Za(a,en,p)):((e.lanes&o)!==0&&(Pf(e,a),ul(a,null,null,o),cl()),p=e.memoizedState,g=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Za(a,en,c)):(c=g.cache,Za(a,en,c),c!==p.cache&&Df(a,[en],o,!0))),jn(e,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function ya(e){e.flags|=4}function yh(e,a,o,c,p){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(By())e.flags|=8192;else throw Vs=Vc,zf}else e.flags&=-16777217}function my(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ob(a))if(By())e.flags|=8192;else throw Vs=Vc,zf}function uu(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?ut():536870912,e.lanes|=a,Wo|=a)}function gl(e,a){if(!lt)switch(e.tailMode){case"hidden":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Mt(e){var a=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(a)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=o,a}function hE(e,a,o){var c=a.pendingProps;switch(Nf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(a),null;case 1:return Mt(a),null;case 3:return o=a.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ma(en),Ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ao(a)?ya(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Tf())),Mt(a),null;case 26:var p=a.type,g=a.memoizedState;return e===null?(ya(a),g!==null?(Mt(a),my(a,g)):(Mt(a),yh(a,p,null,c,o))):g?g!==e.memoizedState?(ya(a),Mt(a),my(a,g)):(Mt(a),a.flags&=-16777217):(e=e.memoizedProps,e!==c&&ya(a),Mt(a),yh(a,p,e,c,o)),null;case 27:if(Me(a),o=ye.current,p=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&ya(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return Mt(a),null}e=ne.current,Ao(a)?Vg(a):(e=xb(p,c,o),a.stateNode=e,ya(a))}return Mt(a),null;case 5:if(Me(a),p=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&ya(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return Mt(a),null}if(g=ne.current,Ao(a))Vg(a);else{var x=Eu(ye.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?x.createElement(p,{is:c.is}):x.createElement(p)}}g[hn]=a,g[Cn]=c;e:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break e;for(;x.sibling===null;){if(x.return===null||x.return===a)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=g;e:switch(_n(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ya(a)}}return Mt(a),yh(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,o),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==c&&ya(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(s(166));if(e=ye.current,Ao(a)){if(e=a.stateNode,o=a.memoizedProps,c=null,p=xn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[hn]=a,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||ub(e.nodeValue,o)),e||Qa(a,!0)}else e=Eu(e).createTextNode(c),e[hn]=a,a.stateNode=e}return Mt(a),null;case 31:if(o=a.memoizedState,e===null||e.memoizedState!==null){if(c=Ao(a),o!==null){if(e===null){if(!c)throw Error(s(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[hn]=a}else Hs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),e=!1}else o=Tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return a.flags&256?(Xn(a),a):(Xn(a),null);if((a.flags&128)!==0)throw Error(s(558))}return Mt(a),null;case 13:if(c=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Ao(a),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[hn]=a}else Hs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),p=!1}else p=Tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Xn(a),a):(Xn(a),null)}return Xn(a),(a.flags&128)!==0?(a.lanes=o,a):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==e&&o&&(a.child.flags|=8192),uu(a,a.updateQueue),Mt(a),null);case 4:return Ee(),e===null&&Bh(a.stateNode.containerInfo),Mt(a),null;case 10:return ma(a.type),Mt(a),null;case 19:if(X(Gt),c=a.memoizedState,c===null)return Mt(a),null;if(p=(a.flags&128)!==0,g=c.rendering,g===null)if(p)gl(c,!1);else{if(Yt!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(g=Qc(e),g!==null){for(a.flags|=128,gl(c,!1),e=g.updateQueue,a.updateQueue=e,uu(a,e),a.subtreeFlags=0,e=o,o=a.child;o!==null;)Hg(o,e),o=o.sibling;return q(Gt,Gt.current&1|2),lt&&fa(a,c.treeForkCount),a.child}e=e.sibling}c.tail!==null&&We()>pu&&(a.flags|=128,p=!0,gl(c,!1),a.lanes=4194304)}else{if(!p)if(e=Qc(g),e!==null){if(a.flags|=128,p=!0,e=e.updateQueue,a.updateQueue=e,uu(a,e),gl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!lt)return Mt(a),null}else 2*We()-c.renderingStartTime>pu&&o!==536870912&&(a.flags|=128,p=!0,gl(c,!1),a.lanes=4194304);c.isBackwards?(g.sibling=a.child,a.child=g):(e=c.last,e!==null?e.sibling=g:a.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=We(),e.sibling=null,o=Gt.current,q(Gt,p?o&1|2:o&1),lt&&fa(a,c.treeForkCount),e):(Mt(a),null);case 22:case 23:return Xn(a),$f(),c=a.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(o&536870912)!==0&&(a.flags&128)===0&&(Mt(a),a.subtreeFlags&6&&(a.flags|=8192)):Mt(a),o=a.updateQueue,o!==null&&uu(a,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),e!==null&&X(qs),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),ma(en),Mt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function mE(e,a){switch(Nf(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return ma(en),Ee(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return Me(a),null;case 31:if(a.memoizedState!==null){if(Xn(a),a.alternate===null)throw Error(s(340));Hs()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Xn(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Hs()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return X(Gt),null;case 4:return Ee(),null;case 10:return ma(a.type),null;case 22:case 23:return Xn(a),$f(),e!==null&&X(qs),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return ma(en),null;case 25:return null;default:return null}}function py(e,a){switch(Nf(a),a.tag){case 3:ma(en),Ee();break;case 26:case 27:case 5:Me(a);break;case 4:Ee();break;case 31:a.memoizedState!==null&&Xn(a);break;case 13:Xn(a);break;case 19:X(Gt);break;case 10:ma(a.type);break;case 22:case 23:Xn(a),$f(),e!==null&&X(qs);break;case 24:ma(en)}}function vl(e,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&e)===e){c=void 0;var g=o.create,x=o.inst;c=g(),x.destroy=c}o=o.next}while(o!==p)}}catch(O){wt(a,a.return,O)}}function as(e,a,o){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&e)===e){var x=c.inst,O=x.destroy;if(O!==void 0){x.destroy=void 0,p=a;var P=o,K=O;try{K()}catch(ae){wt(p,P,ae)}}}c=c.next}while(c!==g)}}catch(ae){wt(a,a.return,ae)}}function gy(e){var a=e.updateQueue;if(a!==null){var o=e.stateNode;try{ov(a,o)}catch(c){wt(e,e.return,c)}}}function vy(e,a,o){o.props=Xs(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){wt(e,a,c)}}function yl(e,a){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(p){wt(e,a,p)}}function Pr(e,a){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){wt(e,a,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){wt(e,a,p)}else o.current=null}function yy(e){var a=e.type,o=e.memoizedProps,c=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){wt(e,e.return,p)}}function bh(e,a,o){try{var c=e.stateNode;UE(c,e.type,o,a),c[Cn]=a}catch(p){wt(e,e.return,p)}}function by(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ds(e.type)||e.tag===4}function wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||by(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xh(e,a,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(e),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=xr));else if(c!==4&&(c===27&&ds(e.type)&&(o=e.stateNode,a=null),e=e.child,e!==null))for(xh(e,a,o),e=e.sibling;e!==null;)xh(e,a,o),e=e.sibling}function du(e,a,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?o.insertBefore(e,a):o.appendChild(e);else if(c!==4&&(c===27&&ds(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(du(e,a,o),e=e.sibling;e!==null;)du(e,a,o),e=e.sibling}function wy(e){var a=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);_n(a,c,o),a[hn]=e,a[Cn]=o}catch(g){wt(e,e.return,g)}}var ba=!1,rn=!1,Sh=!1,xy=typeof WeakSet=="function"?WeakSet:Set,bn=null;function pE(e,a){if(e=e.containerInfo,Wh=ku,e=Rg(e),pf(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,O=-1,P=-1,K=0,ae=0,ue=e,Z=null;t:for(;;){for(var ee;ue!==o||p!==0&&ue.nodeType!==3||(O=x+p),ue!==g||c!==0&&ue.nodeType!==3||(P=x+c),ue.nodeType===3&&(x+=ue.nodeValue.length),(ee=ue.firstChild)!==null;)Z=ue,ue=ee;for(;;){if(ue===e)break t;if(Z===o&&++K===p&&(O=x),Z===g&&++ae===c&&(P=x),(ee=ue.nextSibling)!==null)break;ue=Z,Z=ue.parentNode}ue=ee}o=O===-1||P===-1?null:{start:O,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fh={focusedElem:e,selectionRange:o},ku=!1,bn=a;bn!==null;)if(a=bn,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,bn=e;else for(;bn!==null;){switch(a=bn,g=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)p=e[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=a,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Ce=Xs(o.type,p);e=c.getSnapshotBeforeUpdate(Ce,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(Le){wt(o,o.return,Le)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,o=e.nodeType,o===9)Vh(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=a.sibling,e!==null){e.return=a.return,bn=e;break}bn=a.return}}function Sy(e,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:xa(e,o),c&4&&vl(5,o);break;case 1:if(xa(e,o),c&4)if(e=o.stateNode,a===null)try{e.componentDidMount()}catch(x){wt(o,o.return,x)}else{var p=Xs(o.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(p,a,e.__reactInternalSnapshotBeforeUpdate)}catch(x){wt(o,o.return,x)}}c&64&&gy(o),c&512&&yl(o,o.return);break;case 3:if(xa(e,o),c&64&&(e=o.updateQueue,e!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{ov(e,a)}catch(x){wt(o,o.return,x)}}break;case 27:a===null&&c&4&&wy(o);case 26:case 5:xa(e,o),a===null&&c&4&&yy(o),c&512&&yl(o,o.return);break;case 12:xa(e,o);break;case 31:xa(e,o),c&4&&Ey(e,o);break;case 13:xa(e,o),c&4&&Ny(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=_E.bind(null,o),FE(e,o))));break;case 22:if(c=o.memoizedState!==null||ba,!c){a=a!==null&&a.memoizedState!==null||rn,p=ba;var g=rn;ba=c,(rn=a)&&!g?Sa(e,o,(o.subtreeFlags&8772)!==0):xa(e,o),ba=p,rn=g}break;case 30:break;default:xa(e,o)}}function jy(e){var a=e.alternate;a!==null&&(e.alternate=null,jy(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&Ii(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var zt=null,Ln=!1;function wa(e,a,o){for(o=o.child;o!==null;)_y(e,a,o),o=o.sibling}function _y(e,a,o){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(kt,o)}catch{}switch(o.tag){case 26:rn||Pr(o,a),wa(e,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:rn||Pr(o,a);var c=zt,p=Ln;ds(o.type)&&(zt=o.stateNode,Ln=!1),wa(e,a,o),Cl(o.stateNode),zt=c,Ln=p;break;case 5:rn||Pr(o,a);case 6:if(c=zt,p=Ln,zt=null,wa(e,a,o),zt=c,Ln=p,zt!==null)if(Ln)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(o.stateNode)}catch(g){wt(o,a,g)}else try{zt.removeChild(o.stateNode)}catch(g){wt(o,a,g)}break;case 18:zt!==null&&(Ln?(e=zt,gb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Qo(e)):gb(zt,o.stateNode));break;case 4:c=zt,p=Ln,zt=o.stateNode.containerInfo,Ln=!0,wa(e,a,o),zt=c,Ln=p;break;case 0:case 11:case 14:case 15:as(2,o,a),rn||as(4,o,a),wa(e,a,o);break;case 1:rn||(Pr(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&vy(o,a,c)),wa(e,a,o);break;case 21:wa(e,a,o);break;case 22:rn=(c=rn)||o.memoizedState!==null,wa(e,a,o),rn=c;break;default:wa(e,a,o)}}function Ey(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qo(e)}catch(o){wt(a,a.return,o)}}}function Ny(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qo(e)}catch(o){wt(a,a.return,o)}}function gE(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new xy),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new xy),a;default:throw Error(s(435,e.tag))}}function fu(e,a){var o=gE(e);a.forEach(function(c){if(!o.has(c)){o.add(c);var p=EE.bind(null,e,c);c.then(p,p)}})}function Bn(e,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=e,x=a,O=x;e:for(;O!==null;){switch(O.tag){case 27:if(ds(O.type)){zt=O.stateNode,Ln=!1;break e}break;case 5:zt=O.stateNode,Ln=!1;break e;case 3:case 4:zt=O.stateNode.containerInfo,Ln=!0;break e}O=O.return}if(zt===null)throw Error(s(160));_y(g,x,p),zt=null,Ln=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Cy(a,e),a=a.sibling}var _r=null;function Cy(e,a){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bn(a,e),$n(e),c&4&&(as(3,e,e.return),vl(3,e),as(5,e,e.return));break;case 1:Bn(a,e),$n(e),c&512&&(rn||o===null||Pr(o,o.return)),c&64&&ba&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=_r;if(Bn(a,e),$n(e),c&512&&(rn||o===null||Pr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){e:{c=e.type,o=e.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Rs]||g[hn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),_n(g,c,o),g[hn]=e,Jt(g),c=g;break e;case"link":var x=Cb("link","href",p).get(c+(o.href||""));if(x){for(var O=0;O<x.length;O++)if(g=x[O],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(O,1);break t}}g=p.createElement(c),_n(g,c,o),p.head.appendChild(g);break;case"meta":if(x=Cb("meta","content",p).get(c+(o.content||""))){for(O=0;O<x.length;O++)if(g=x[O],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(O,1);break t}}g=p.createElement(c),_n(g,c,o),p.head.appendChild(g);break;default:throw Error(s(468,c))}g[hn]=e,Jt(g),c=g}e.stateNode=c}else Tb(p,e.type,e.stateNode);else e.stateNode=Nb(p,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Tb(p,e.type,e.stateNode):Nb(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&bh(e,e.memoizedProps,o.memoizedProps)}break;case 27:Bn(a,e),$n(e),c&512&&(rn||o===null||Pr(o,o.return)),o!==null&&c&4&&bh(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Bn(a,e),$n(e),c&512&&(rn||o===null||Pr(o,o.return)),e.flags&32){p=e.stateNode;try{Va(p,"")}catch(Ce){wt(e,e.return,Ce)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,bh(e,p,o!==null?o.memoizedProps:p)),c&1024&&(Sh=!0);break;case 6:if(Bn(a,e),$n(e),c&4){if(e.stateNode===null)throw Error(s(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Ce){wt(e,e.return,Ce)}}break;case 3:if(Tu=null,p=_r,_r=Nu(a.containerInfo),Bn(a,e),_r=p,$n(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Qo(a.containerInfo)}catch(Ce){wt(e,e.return,Ce)}Sh&&(Sh=!1,Ty(e));break;case 4:c=_r,_r=Nu(e.stateNode.containerInfo),Bn(a,e),$n(e),_r=c;break;case 12:Bn(a,e),$n(e);break;case 31:Bn(a,e),$n(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,fu(e,c)));break;case 13:Bn(a,e),$n(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(mu=We()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,fu(e,c)));break;case 22:p=e.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,K=ba,ae=rn;if(ba=K||p,rn=ae||P,Bn(a,e),rn=ae,ba=K,$n(e),c&8192)e:for(a=e.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(o===null||P||ba||rn||Qs(e)),o=null,a=e;;){if(a.tag===5||a.tag===26){if(o===null){P=o=a;try{if(g=P.stateNode,p)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{O=P.stateNode;var ue=P.memoizedProps.style,Z=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;O.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ce){wt(P,P.return,Ce)}}}else if(a.tag===6){if(o===null){P=a;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(Ce){wt(P,P.return,Ce)}}}else if(a.tag===18){if(o===null){P=a;try{var ee=P.stateNode;p?vb(ee,!0):vb(P.stateNode,!1)}catch(Ce){wt(P,P.return,Ce)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,fu(e,o))));break;case 19:Bn(a,e),$n(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,fu(e,c)));break;case 30:break;case 21:break;default:Bn(a,e),$n(e)}}function $n(e){var a=e.flags;if(a&2){try{for(var o,c=e.return;c!==null;){if(by(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,g=wh(e);du(e,g,p);break;case 5:var x=o.stateNode;o.flags&32&&(Va(x,""),o.flags&=-33);var O=wh(e);du(e,O,x);break;case 3:case 4:var P=o.stateNode.containerInfo,K=wh(e);xh(e,K,P);break;default:throw Error(s(161))}}catch(ae){wt(e,e.return,ae)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function Ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;Ty(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function xa(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Sy(e,a.alternate,a),a=a.sibling}function Qs(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:as(4,a,a.return),Qs(a);break;case 1:Pr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&vy(a,a.return,o),Qs(a);break;case 27:Cl(a.stateNode);case 26:case 5:Pr(a,a.return),Qs(a);break;case 22:a.memoizedState===null&&Qs(a);break;case 30:Qs(a);break;default:Qs(a)}e=e.sibling}}function Sa(e,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=e,g=a,x=g.flags;switch(g.tag){case 0:case 11:case 15:Sa(p,g,o),vl(4,g);break;case 1:if(Sa(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){wt(c,c.return,K)}if(c=g,p=c.updateQueue,p!==null){var O=c.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)sv(P[p],O)}catch(K){wt(c,c.return,K)}}o&&x&64&&gy(g),yl(g,g.return);break;case 27:wy(g);case 26:case 5:Sa(p,g,o),o&&c===null&&x&4&&yy(g),yl(g,g.return);break;case 12:Sa(p,g,o);break;case 31:Sa(p,g,o),o&&x&4&&Ey(p,g);break;case 13:Sa(p,g,o),o&&x&4&&Ny(p,g);break;case 22:g.memoizedState===null&&Sa(p,g,o),yl(g,g.return);break;case 30:break;default:Sa(p,g,o)}a=a.sibling}}function jh(e,a){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&al(o))}function _h(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&al(e))}function Er(e,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Oy(e,a,o,c),a=a.sibling}function Oy(e,a,o,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Er(e,a,o,c),p&2048&&vl(9,a);break;case 1:Er(e,a,o,c);break;case 3:Er(e,a,o,c),p&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&al(e)));break;case 12:if(p&2048){Er(e,a,o,c),e=a.stateNode;try{var g=a.memoizedProps,x=g.id,O=g.onPostCommit;typeof O=="function"&&O(x,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){wt(a,a.return,P)}}else Er(e,a,o,c);break;case 31:Er(e,a,o,c);break;case 13:Er(e,a,o,c);break;case 23:break;case 22:g=a.stateNode,x=a.alternate,a.memoizedState!==null?g._visibility&2?Er(e,a,o,c):bl(e,a):g._visibility&2?Er(e,a,o,c):(g._visibility|=2,Bo(e,a,o,c,(a.subtreeFlags&10256)!==0||!1)),p&2048&&jh(x,a);break;case 24:Er(e,a,o,c),p&2048&&_h(a.alternate,a);break;default:Er(e,a,o,c)}}function Bo(e,a,o,c,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var g=e,x=a,O=o,P=c,K=x.flags;switch(x.tag){case 0:case 11:case 15:Bo(g,x,O,P,p),vl(8,x);break;case 23:break;case 22:var ae=x.stateNode;x.memoizedState!==null?ae._visibility&2?Bo(g,x,O,P,p):bl(g,x):(ae._visibility|=2,Bo(g,x,O,P,p)),p&&K&2048&&jh(x.alternate,x);break;case 24:Bo(g,x,O,P,p),p&&K&2048&&_h(x.alternate,x);break;default:Bo(g,x,O,P,p)}a=a.sibling}}function bl(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=e,c=a,p=c.flags;switch(c.tag){case 22:bl(o,c),p&2048&&jh(c.alternate,c);break;case 24:bl(o,c),p&2048&&_h(c.alternate,c);break;default:bl(o,c)}a=a.sibling}}var wl=8192;function $o(e,a,o){if(e.subtreeFlags&wl)for(e=e.child;e!==null;)Ay(e,a,o),e=e.sibling}function Ay(e,a,o){switch(e.tag){case 26:$o(e,a,o),e.flags&wl&&e.memoizedState!==null&&nN(o,_r,e.memoizedState,e.memoizedProps);break;case 5:$o(e,a,o);break;case 3:case 4:var c=_r;_r=Nu(e.stateNode.containerInfo),$o(e,a,o),_r=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=wl,wl=16777216,$o(e,a,o),wl=c):$o(e,a,o));break;default:$o(e,a,o)}}function Dy(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function xl(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];bn=c,Ry(c,e)}Dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ky(e),e=e.sibling}function ky(e){switch(e.tag){case 0:case 11:case 15:xl(e),e.flags&2048&&as(9,e,e.return);break;case 3:xl(e);break;case 12:xl(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,hu(e)):xl(e);break;default:xl(e)}}function hu(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];bn=c,Ry(c,e)}Dy(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:as(8,a,a.return),hu(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,hu(a));break;default:hu(a)}e=e.sibling}}function Ry(e,a){for(;bn!==null;){var o=bn;switch(o.tag){case 0:case 11:case 15:as(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:al(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,bn=c;else e:for(o=e;bn!==null;){c=bn;var p=c.sibling,g=c.return;if(jy(c),c===o){bn=null;break e}if(p!==null){p.return=g,bn=p;break e}bn=g}}}var vE={getCacheForType:function(e){var a=Sn(en),o=a.data.get(e);return o===void 0&&(o=e(),a.data.set(e,o)),o},cacheSignal:function(){return Sn(en).controller.signal}},yE=typeof WeakMap=="function"?WeakMap:Map,vt=0,Ct=null,at=null,ot=0,bt=0,Qn=null,ss=!1,Ho=!1,Eh=!1,ja=0,Yt=0,os=0,Zs=0,Nh=0,Zn=0,Wo=0,Sl=null,Hn=null,Ch=!1,mu=0,My=0,pu=1/0,gu=null,is=null,mn=0,ls=null,Fo=null,_a=0,Th=0,Oh=null,zy=null,jl=0,Ah=null;function Jn(){return(vt&2)!==0&&ot!==0?ot&-ot:R.T!==null?Uh():Ui()}function Uy(){if(Zn===0)if((ot&536870912)===0||lt){var e=Ne;Ne<<=1,(Ne&3932160)===0&&(Ne=262144),Zn=e}else Zn=536870912;return e=Kn.current,e!==null&&(e.flags|=32),Zn}function Wn(e,a,o){(e===Ct&&(bt===2||bt===9)||e.cancelPendingCommit!==null)&&(qo(e,0),cs(e,ot,Zn,!1)),dt(e,o),((vt&2)===0||e!==Ct)&&(e===Ct&&((vt&2)===0&&(Zs|=o),Yt===4&&cs(e,ot,Zn,!1)),Ir(e))}function Py(e,a,o){if((vt&6)!==0)throw Error(s(327));var c=!o&&(a&127)===0&&(a&e.expiredLanes)===0||qe(e,a),p=c?xE(e,a):kh(e,a,!0),g=c;do{if(p===0){Ho&&!c&&cs(e,a,0,!1);break}else{if(o=e.current.alternate,g&&!bE(o)){p=kh(e,a,!1),g=!1;continue}if(p===2){if(g=a,e.errorRecoveryDisabledLanes&g)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;e:{var O=e;p=Sl;var P=O.current.memoizedState.isDehydrated;if(P&&(qo(O,x).flags|=256),x=kh(O,x,!1),x!==2){if(Eh&&!P){O.errorRecoveryDisabledLanes|=g,Zs|=g,p=4;break e}g=Hn,Hn=p,g!==null&&(Hn===null?Hn=g:Hn.push.apply(Hn,g))}p=x}if(g=!1,p!==2)continue}}if(p===1){qo(e,0),cs(e,a,0,!0);break}e:{switch(c=e,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:cs(c,a,Zn,!ss);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(p=mu+300-We(),10<p)){if(cs(c,a,Zn,!ss),_e(c,0,!0)!==0)break e;_a=a,c.timeoutHandle=mb(Iy.bind(null,c,o,Hn,gu,Ch,a,Zn,Zs,Wo,ss,g,"Throttled",-0,0),p);break e}Iy(c,o,Hn,gu,Ch,a,Zn,Zs,Wo,ss,g,null,-0,0)}}break}while(!0);Ir(e)}function Iy(e,a,o,c,p,g,x,O,P,K,ae,ue,Z,ee){if(e.timeoutHandle=-1,ue=a.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xr},Ay(a,g,ue);var Ce=(g&62914560)===g?mu-We():(g&4194048)===g?My-We():0;if(Ce=rN(ue,Ce),Ce!==null){_a=g,e.cancelPendingCommit=Ce(Yy.bind(null,e,a,g,o,c,p,x,O,P,ae,ue,null,Z,ee)),cs(e,g,x,!K);return}}Yy(e,a,g,o,c,p,x,O,P)}function bE(e){for(var a=e;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!Vn(g(),p))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function cs(e,a,o,c){a&=~Nh,a&=~Zs,e.suspendedLanes|=a,e.pingedLanes&=~a,c&&(e.warmLanes|=a),c=e.expirationTimes;for(var p=a;0<p;){var g=31-yt(p),x=1<<g;c[g]=-1,p&=~x}o!==0&&Un(e,o,a)}function vu(){return(vt&6)===0?(_l(0),!1):!0}function Dh(){if(at!==null){if(bt===0)var e=at.return;else e=at,ha=Ws=null,Vf(e),zo=null,ol=0,e=at;for(;e!==null;)py(e.alternate,e),e=e.return;at=null}}function qo(e,a){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,LE(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),_a=0,Dh(),Ct=e,at=o=da(e.current,null),ot=a,bt=0,Qn=null,ss=!1,Ho=qe(e,a),Eh=!1,Wo=Zn=Nh=Zs=os=Yt=0,Hn=Sl=null,Ch=!1,(a&8)!==0&&(a|=a&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=a;0<c;){var p=31-yt(c),g=1<<p;a|=e[p],c&=~g}return ja=a,Ic(),o}function Ly(e,a){Ze=null,R.H=ml,a===Mo||a===Yc?(a=tv(),bt=3):a===zf?(a=tv(),bt=4):bt=a===ch?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Qn=a,at===null&&(Yt=1,ou(e,lr(a,e.current)))}function By(){var e=Kn.current;return e===null?!0:(ot&4194048)===ot?fr===null:(ot&62914560)===ot||(ot&536870912)!==0?e===fr:!1}function $y(){var e=R.H;return R.H=ml,e===null?ml:e}function Hy(){var e=R.A;return R.A=vE,e}function yu(){Yt=4,ss||(ot&4194048)!==ot&&Kn.current!==null||(Ho=!0),(os&134217727)===0&&(Zs&134217727)===0||Ct===null||cs(Ct,ot,Zn,!1)}function kh(e,a,o){var c=vt;vt|=2;var p=$y(),g=Hy();(Ct!==e||ot!==a)&&(gu=null,qo(e,a)),a=!1;var x=Yt;e:do try{if(bt!==0&&at!==null){var O=at,P=Qn;switch(bt){case 8:Dh(),x=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(a=!0);var K=bt;if(bt=0,Qn=null,Yo(e,O,P,K),o&&Ho){x=0;break e}break;default:K=bt,bt=0,Qn=null,Yo(e,O,P,K)}}wE(),x=Yt;break}catch(ae){Ly(e,ae)}while(!0);return a&&e.shellSuspendCounter++,ha=Ws=null,vt=c,R.H=p,R.A=g,at===null&&(Ct=null,ot=0,Ic()),x}function wE(){for(;at!==null;)Wy(at)}function xE(e,a){var o=vt;vt|=2;var c=$y(),p=Hy();Ct!==e||ot!==a?(gu=null,pu=We()+500,qo(e,a)):Ho=qe(e,a);e:do try{if(bt!==0&&at!==null){a=at;var g=Qn;t:switch(bt){case 1:bt=0,Qn=null,Yo(e,a,g,1);break;case 2:case 9:if(Jg(g)){bt=0,Qn=null,Fy(a);break}a=function(){bt!==2&&bt!==9||Ct!==e||(bt=7),Ir(e)},g.then(a,a);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:Jg(g)?(bt=0,Qn=null,Fy(a)):(bt=0,Qn=null,Yo(e,a,g,7));break;case 5:var x=null;switch(at.tag){case 26:x=at.memoizedState;case 5:case 27:var O=at;if(x?Ob(x):O.stateNode.complete){bt=0,Qn=null;var P=O.sibling;if(P!==null)at=P;else{var K=O.return;K!==null?(at=K,bu(K)):at=null}break t}}bt=0,Qn=null,Yo(e,a,g,5);break;case 6:bt=0,Qn=null,Yo(e,a,g,6);break;case 8:Dh(),Yt=6;break e;default:throw Error(s(462))}}SE();break}catch(ae){Ly(e,ae)}while(!0);return ha=Ws=null,R.H=c,R.A=p,vt=o,at!==null?0:(Ct=null,ot=0,Ic(),Yt)}function SE(){for(;at!==null&&!$e();)Wy(at)}function Wy(e){var a=hy(e.alternate,e,ja);e.memoizedProps=e.pendingProps,a===null?bu(e):at=a}function Fy(e){var a=e,o=a.alternate;switch(a.tag){case 15:case 0:a=iy(o,a,a.pendingProps,a.type,void 0,ot);break;case 11:a=iy(o,a,a.pendingProps,a.type.render,a.ref,ot);break;case 5:Vf(a);default:py(o,a),a=at=Hg(a,ja),a=hy(o,a,ja)}e.memoizedProps=e.pendingProps,a===null?bu(e):at=a}function Yo(e,a,o,c){ha=Ws=null,Vf(a),zo=null,ol=0;var p=a.return;try{if(uE(e,p,a,o,ot)){Yt=1,ou(e,lr(o,e.current)),at=null;return}}catch(g){if(p!==null)throw at=p,g;Yt=1,ou(e,lr(o,e.current)),at=null;return}a.flags&32768?(lt||c===1?e=!0:Ho||(ot&536870912)!==0?e=!1:(ss=e=!0,(c===2||c===9||c===3||c===6)&&(c=Kn.current,c!==null&&c.tag===13&&(c.flags|=16384))),qy(a,e)):bu(a)}function bu(e){var a=e;do{if((a.flags&32768)!==0){qy(a,ss);return}e=a.return;var o=hE(a.alternate,a,ja);if(o!==null){at=o;return}if(a=a.sibling,a!==null){at=a;return}at=a=e}while(a!==null);Yt===0&&(Yt=5)}function qy(e,a){do{var o=mE(e.alternate,e);if(o!==null){o.flags&=32767,at=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(e=e.sibling,e!==null)){at=e;return}at=e=o}while(e!==null);Yt=6,at=null}function Yy(e,a,o,c,p,g,x,O,P){e.cancelPendingCommit=null;do wu();while(mn!==0);if((vt&6)!==0)throw Error(s(327));if(a!==null){if(a===e.current)throw Error(s(177));if(g=a.lanes|a.childLanes,g|=wf,Nt(e,o,g,x,O,P),e===Ct&&(at=Ct=null,ot=0),Fo=a,ls=e,_a=o,Th=g,Oh=p,zy=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,NE(It,function(){return Qy(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=R.T,R.T=null,p=L.p,L.p=2,x=vt,vt|=4;try{pE(e,a,o)}finally{vt=x,L.p=p,R.T=c}}mn=1,Vy(),Gy(),Ky()}}function Vy(){if(mn===1){mn=0;var e=ls,a=Fo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=R.T,R.T=null;var c=L.p;L.p=2;var p=vt;vt|=4;try{Cy(a,e);var g=Fh,x=Rg(e.containerInfo),O=g.focusedElem,P=g.selectionRange;if(x!==O&&O&&O.ownerDocument&&kg(O.ownerDocument.documentElement,O)){if(P!==null&&pf(O)){var K=P.start,ae=P.end;if(ae===void 0&&(ae=K),"selectionStart"in O)O.selectionStart=K,O.selectionEnd=Math.min(ae,O.value.length);else{var ue=O.ownerDocument||document,Z=ue&&ue.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),Ce=O.textContent.length,Le=Math.min(P.start,Ce),_t=P.end===void 0?Le:Math.min(P.end,Ce);!ee.extend&&Le>_t&&(x=_t,_t=Le,Le=x);var Y=Dg(O,Le),H=Dg(O,_t);if(Y&&H&&(ee.rangeCount!==1||ee.anchorNode!==Y.node||ee.anchorOffset!==Y.offset||ee.focusNode!==H.node||ee.focusOffset!==H.offset)){var G=ue.createRange();G.setStart(Y.node,Y.offset),ee.removeAllRanges(),Le>_t?(ee.addRange(G),ee.extend(H.node,H.offset)):(G.setEnd(H.node,H.offset),ee.addRange(G))}}}}for(ue=[],ee=O;ee=ee.parentNode;)ee.nodeType===1&&ue.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ue.length;O++){var ce=ue[O];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}ku=!!Wh,Fh=Wh=null}finally{vt=p,L.p=c,R.T=o}}e.current=a,mn=2}}function Gy(){if(mn===2){mn=0;var e=ls,a=Fo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=R.T,R.T=null;var c=L.p;L.p=2;var p=vt;vt|=4;try{Sy(e,a.alternate,a)}finally{vt=p,L.p=c,R.T=o}}mn=3}}function Ky(){if(mn===4||mn===3){mn=0,xe();var e=ls,a=Fo,o=_a,c=zy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?mn=5:(mn=0,Fo=ls=null,Xy(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(is=null),Yn(o),a=a.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(kt,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=R.T,p=L.p,L.p=2,R.T=null;try{for(var g=e.onRecoverableError,x=0;x<c.length;x++){var O=c[x];g(O.value,{componentStack:O.stack})}}finally{R.T=a,L.p=p}}(_a&3)!==0&&wu(),Ir(e),p=e.pendingLanes,(o&261930)!==0&&(p&42)!==0?e===Ah?jl++:(jl=0,Ah=e):jl=0,_l(0)}}function Xy(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,al(a)))}function wu(){return Vy(),Gy(),Ky(),Qy()}function Qy(){if(mn!==5)return!1;var e=ls,a=Th;Th=0;var o=Yn(_a),c=R.T,p=L.p;try{L.p=32>o?32:o,R.T=null,o=Oh,Oh=null;var g=ls,x=_a;if(mn=0,Fo=ls=null,_a=0,(vt&6)!==0)throw Error(s(331));var O=vt;if(vt|=4,ky(g.current),Oy(g,g.current,x,o),vt=O,_l(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(kt,g)}catch{}return!0}finally{L.p=p,R.T=c,Xy(e,a)}}function Zy(e,a,o){a=lr(o,a),a=lh(e.stateNode,a,2),e=ts(e,a,2),e!==null&&(dt(e,2),Ir(e))}function wt(e,a,o){if(e.tag===3)Zy(e,e,o);else for(;a!==null;){if(a.tag===3){Zy(a,e,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(is===null||!is.has(c))){e=lr(o,e),o=Jv(2),c=ts(a,o,2),c!==null&&(ey(o,c,a,e),dt(c,2),Ir(c));break}}a=a.return}}function Rh(e,a,o){var c=e.pingCache;if(c===null){c=e.pingCache=new yE;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(o)||(Eh=!0,p.add(o),e=jE.bind(null,e,a,o),a.then(e,e))}function jE(e,a,o){var c=e.pingCache;c!==null&&c.delete(a),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ct===e&&(ot&o)===o&&(Yt===4||Yt===3&&(ot&62914560)===ot&&300>We()-mu?(vt&2)===0&&qo(e,0):Nh|=o,Wo===ot&&(Wo=0)),Ir(e)}function Jy(e,a){a===0&&(a=ut()),e=Bs(e,a),e!==null&&(dt(e,a),Ir(e))}function _E(e){var a=e.memoizedState,o=0;a!==null&&(o=a.retryLane),Jy(e,o)}function EE(e,a){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(a),Jy(e,o)}function NE(e,a){return tt(e,a)}var xu=null,Vo=null,Mh=!1,Su=!1,zh=!1,us=0;function Ir(e){e!==Vo&&e.next===null&&(Vo===null?xu=Vo=e:Vo=Vo.next=e),Su=!0,Mh||(Mh=!0,TE())}function _l(e,a){if(!zh&&Su){zh=!0;do for(var o=!1,c=xu;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var x=c.suspendedLanes,O=c.pingedLanes;g=(1<<31-yt(42|e)+1)-1,g&=p&~(x&~O),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,rb(c,g))}else g=ot,g=_e(c,c===Ct?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||qe(c,g)||(o=!0,rb(c,g));c=c.next}while(o);zh=!1}}function CE(){eb()}function eb(){Su=Mh=!1;var e=0;us!==0&&IE()&&(e=us);for(var a=We(),o=null,c=xu;c!==null;){var p=c.next,g=tb(c,a);g===0?(c.next=null,o===null?xu=p:o.next=p,p===null&&(Vo=o)):(o=c,(e!==0||(g&3)!==0)&&(Su=!0)),c=p}mn!==0&&mn!==5||_l(e),us!==0&&(us=0)}function tb(e,a){for(var o=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var x=31-yt(g),O=1<<x,P=p[x];P===-1?((O&o)===0||(O&c)!==0)&&(p[x]=ct(O,a)):P<=a&&(e.expiredLanes|=O),g&=~O}if(a=Ct,o=ot,o=_e(e,e===a?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===a&&(bt===2||bt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&rt(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||qe(e,o)){if(a=o&-o,a===e.callbackPriority)return a;switch(c!==null&&rt(c),Yn(o)){case 2:case 8:o=yn;break;case 32:o=It;break;case 268435456:o=Vt;break;default:o=It}return c=nb.bind(null,e),o=tt(o,c),e.callbackPriority=a,e.callbackNode=o,a}return c!==null&&c!==null&&rt(c),e.callbackPriority=2,e.callbackNode=null,2}function nb(e,a){if(mn!==0&&mn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(wu()&&e.callbackNode!==o)return null;var c=ot;return c=_e(e,e===Ct?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Py(e,c,a),tb(e,We()),e.callbackNode!=null&&e.callbackNode===o?nb.bind(null,e):null)}function rb(e,a){if(wu())return null;Py(e,a,!0)}function TE(){BE(function(){(vt&6)!==0?tt(Ht,CE):eb()})}function Uh(){if(us===0){var e=ko;e===0&&(e=be,be<<=1,(be&261888)===0&&(be=256)),us=e}return us}function ab(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:So(""+e)}function sb(e,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,e.id&&o.setAttribute("form",e.id),a.parentNode.insertBefore(o,a),e=new FormData(e),o.parentNode.removeChild(o),e}function OE(e,a,o,c,p){if(a==="submit"&&o&&o.stateNode===p){var g=ab((p[Cn]||null).action),x=c.submitter;x&&(a=(a=x[Cn]||null)?ab(a.formAction):x.getAttribute("formAction"),a!==null&&(g=a,x=null));var O=new Mc("action","action",null,c,p);e.push({event:O,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(us!==0){var P=x?sb(p,x):new FormData(p);nh(o,{pending:!0,data:P,method:p.method,action:g},null,P)}}else typeof g=="function"&&(O.preventDefault(),P=x?sb(p,x):new FormData(p),nh(o,{pending:!0,data:P,method:p.method,action:g},g,P))},currentTarget:p}]})}}for(var Ph=0;Ph<bf.length;Ph++){var Ih=bf[Ph],AE=Ih.toLowerCase(),DE=Ih[0].toUpperCase()+Ih.slice(1);jr(AE,"on"+DE)}jr(Ug,"onAnimationEnd"),jr(Pg,"onAnimationIteration"),jr(Ig,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(V1,"onTransitionRun"),jr(G1,"onTransitionStart"),jr(K1,"onTransitionCancel"),jr(Lg,"onTransitionEnd"),qa("onMouseEnter",["mouseout","mouseover"]),qa("onMouseLeave",["mouseout","mouseover"]),qa("onPointerEnter",["pointerout","pointerover"]),qa("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function ob(e,a){a=(a&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],p=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var x=c.length-1;0<=x;x--){var O=c[x],P=O.instance,K=O.currentTarget;if(O=O.listener,P!==g&&p.isPropagationStopped())break e;g=O,p.currentTarget=K;try{g(p)}catch(ae){Pc(ae)}p.currentTarget=null,g=P}else for(x=0;x<c.length;x++){if(O=c[x],P=O.instance,K=O.currentTarget,O=O.listener,P!==g&&p.isPropagationStopped())break e;g=O,p.currentTarget=K;try{g(p)}catch(ae){Pc(ae)}p.currentTarget=null,g=P}}}}function st(e,a){var o=a[Pi];o===void 0&&(o=a[Pi]=new Set);var c=e+"__bubble";o.has(c)||(ib(a,e,2,!1),o.add(c))}function Lh(e,a,o){var c=0;a&&(c|=4),ib(o,e,c,a)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Bh(e){if(!e[ju]){e[ju]=!0,Sc.forEach(function(o){o!=="selectionchange"&&(kE.has(o)||Lh(o,!1,e),Lh(o,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[ju]||(a[ju]=!0,Lh("selectionchange",!1,a))}}function ib(e,a,o,c){switch(Ub(a)){case 2:var p=oN;break;case 8:p=iN;break;default:p=tm}o=p.bind(null,a,o,e),p=void 0,!Gi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(a,o,{capture:!0,passive:p}):e.addEventListener(a,o,!0):p!==void 0?e.addEventListener(a,o,{passive:p}):e.addEventListener(a,o,!1)}function $h(e,a,o,c,p){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var O=c.stateNode.containerInfo;if(O===p)break;if(x===4)for(x=c.return;x!==null;){var P=x.tag;if((P===3||P===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;O!==null;){if(x=Wa(O),x===null)return;if(P=x.tag,P===5||P===6||P===26||P===27){c=g=x;continue e}O=O.parentNode}}c=c.return}Rc(function(){var K=g,ae=Yi(o),ue=[];e:{var Z=Bg.get(e);if(Z!==void 0){var ee=Mc,Ce=e;switch(e){case"keypress":if(ft(o)===0)break e;case"keydown":case"keyup":ee=E1;break;case"focusin":Ce="focus",ee=uf;break;case"focusout":Ce="blur",ee=uf;break;case"beforeblur":case"afterblur":ee=uf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=h1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=T1;break;case Ug:case Pg:case Ig:ee=g1;break;case Lg:ee=A1;break;case"scroll":case"scrollend":ee=d1;break;case"wheel":ee=k1;break;case"copy":case"cut":case"paste":ee=y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=vg;break;case"toggle":case"beforetoggle":ee=M1}var Le=(a&4)!==0,_t=!Le&&(e==="scroll"||e==="scrollend"),Y=Le?Z!==null?Z+"Capture":null:Z;Le=[];for(var H=K,G;H!==null;){var ce=H;if(G=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||G===null||Y===null||(ce=zs(H,Y),ce!=null&&Le.push(Nl(H,ce,G))),_t)break;H=H.return}0<Le.length&&(Z=new ee(Z,Ce,null,o,ae),ue.push({event:Z,listeners:Le}))}}if((a&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",Z&&o!==qi&&(Ce=o.relatedTarget||o.fromElement)&&(Wa(Ce)||Ce[Ha]))break e;if((ee||Z)&&(Z=ae.window===ae?ae:(Z=ae.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(Ce=o.relatedTarget||o.toElement,ee=K,Ce=Ce?Wa(Ce):null,Ce!==null&&(_t=l(Ce),Le=Ce.tag,Ce!==_t||Le!==5&&Le!==27&&Le!==6)&&(Ce=null)):(ee=null,Ce=K),ee!==Ce)){if(Le=pg,ce="onMouseLeave",Y="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Le=vg,ce="onPointerLeave",Y="onPointerEnter",H="pointer"),_t=ee==null?Z:Ms(ee),G=Ce==null?Z:Ms(Ce),Z=new Le(ce,H+"leave",ee,o,ae),Z.target=_t,Z.relatedTarget=G,ce=null,Wa(ae)===K&&(Le=new Le(Y,H+"enter",Ce,o,ae),Le.target=G,Le.relatedTarget=_t,ce=Le),_t=ce,ee&&Ce)t:{for(Le=RE,Y=ee,H=Ce,G=0,ce=Y;ce;ce=Le(ce))G++;ce=0;for(var Ue=H;Ue;Ue=Le(Ue))ce++;for(;0<G-ce;)Y=Le(Y),G--;for(;0<ce-G;)H=Le(H),ce--;for(;G--;){if(Y===H||H!==null&&Y===H.alternate){Le=Y;break t}Y=Le(Y),H=Le(H)}Le=null}else Le=null;ee!==null&&lb(ue,Z,ee,Le,!1),Ce!==null&&_t!==null&&lb(ue,_t,Ce,Le,!0)}}e:{if(Z=K?Ms(K):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var ht=Eg;else if(jg(Z))if(Ng)ht=F1;else{ht=H1;var De=$1}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&Fi(K.elementType)&&(ht=Eg):ht=W1;if(ht&&(ht=ht(e,K))){_g(ue,ht,o,ae);break e}De&&De(e,Z,K),e==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&Hi(Z,"number",Z.value)}switch(De=K?Ms(K):window,e){case"focusin":(jg(De)||De.contentEditable==="true")&&(_o=De,gf=K,tl=null);break;case"focusout":tl=gf=_o=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,Mg(ue,o,ae);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":Mg(ue,o,ae)}var Je;if(ff)e:{switch(e){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else jo?xg(e,o)&&(it="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(it="onCompositionStart");it&&(yg&&o.locale!=="ko"&&(jo||it!=="onCompositionStart"?it==="onCompositionEnd"&&jo&&(Je=et()):(B=ae,ie="value"in B?B.value:B.textContent,jo=!0)),De=_u(K,it),0<De.length&&(it=new gg(it,e,null,o,ae),ue.push({event:it,listeners:De}),Je?it.data=Je:(Je=Sg(o),Je!==null&&(it.data=Je)))),(Je=U1?P1(e,o):I1(e,o))&&(it=_u(K,"onBeforeInput"),0<it.length&&(De=new gg("onBeforeInput","beforeinput",null,o,ae),ue.push({event:De,listeners:it}),De.data=Je)),OE(ue,e,K,o,ae)}ob(ue,a)})}function Nl(e,a,o){return{instance:e,listener:a,currentTarget:o}}function _u(e,a){for(var o=a+"Capture",c=[];e!==null;){var p=e,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=zs(e,o),p!=null&&c.unshift(Nl(e,p,g)),p=zs(e,a),p!=null&&c.push(Nl(e,p,g))),e.tag===3)return c;e=e.return}return[]}function RE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lb(e,a,o,c,p){for(var g=a._reactName,x=[];o!==null&&o!==c;){var O=o,P=O.alternate,K=O.stateNode;if(O=O.tag,P!==null&&P===c)break;O!==5&&O!==26&&O!==27||K===null||(P=K,p?(K=zs(o,g),K!=null&&x.unshift(Nl(o,K,P))):p||(K=zs(o,g),K!=null&&x.push(Nl(o,K,P)))),o=o.return}x.length!==0&&e.push({event:a,listeners:x})}var ME=/\r\n?/g,zE=/\u0000|\uFFFD/g;function cb(e){return(typeof e=="string"?e:""+e).replace(ME,`
`).replace(zE,"")}function ub(e,a){return a=cb(a),cb(e)===a}function jt(e,a,o,c,p,g){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Va(e,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Va(e,""+c);break;case"className":wo(e,"class",c);break;case"tabIndex":wo(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":wo(e,o,c);break;case"style":Dc(e,c,g);break;case"data":if(a!=="object"){wo(e,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=So(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&jt(e,a,"name",p.name,p,null),jt(e,a,"formEncType",p.formEncType,p,null),jt(e,a,"formMethod",p.formMethod,p,null),jt(e,a,"formTarget",p.formTarget,p,null)):(jt(e,a,"encType",p.encType,p,null),jt(e,a,"method",p.method,p,null),jt(e,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=So(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=xr);break;case"onScroll":c!=null&&st("scroll",e);break;case"onScrollEnd":c!=null&&st("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=So(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":st("beforetoggle",e),st("toggle",e),bo(e,"popover",c);break;case"xlinkActuate":wr(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":wr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":wr(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":wr(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":wr(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":wr(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":wr(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":wr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":wr(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":bo(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sf.get(o)||o,bo(e,o,c))}}function Hh(e,a,o,c,p,g){switch(o){case"style":Dc(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"children":typeof c=="string"?Va(e,c):(typeof c=="number"||typeof c=="bigint")&&Va(e,""+c);break;case"onScroll":c!=null&&st("scroll",e);break;case"onScrollEnd":c!=null&&st("scrollend",e);break;case"onClick":c!=null&&(e.onclick=xr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),a=o.slice(2,p?o.length-7:void 0),g=e[Cn]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(a,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(a,c,p);break e}o in e?e[o]=c:c===!0?e.setAttribute(o,""):bo(e,o,c)}}}function _n(e,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",e),st("load",e);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:jt(e,a,g,x,o,null)}}p&&jt(e,a,"srcSet",o.srcSet,o,null),c&&jt(e,a,"src",o.src,o,null);return;case"input":st("invalid",e);var O=g=x=p=null,P=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var ae=o[c];if(ae!=null)switch(c){case"name":p=ae;break;case"type":x=ae;break;case"checked":P=ae;break;case"defaultChecked":K=ae;break;case"value":g=ae;break;case"defaultValue":O=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,a));break;default:jt(e,a,c,ae,o,null)}}$i(e,g,O,P,K,x,p,!1);return;case"select":st("invalid",e),c=x=g=null;for(p in o)if(o.hasOwnProperty(p)&&(O=o[p],O!=null))switch(p){case"value":g=O;break;case"defaultValue":x=O;break;case"multiple":c=O;default:jt(e,a,p,O,o,null)}a=g,o=x,e.multiple=!!c,a!=null?Ya(e,!!c,a,!1):o!=null&&Ya(e,!!c,o,!0);return;case"textarea":st("invalid",e),g=p=c=null;for(x in o)if(o.hasOwnProperty(x)&&(O=o[x],O!=null))switch(x){case"value":c=O;break;case"defaultValue":p=O;break;case"children":g=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:jt(e,a,x,O,o,null)}Oc(e,c,p,g);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(c=o[P],c!=null))switch(P){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:jt(e,a,P,c,o,null)}return;case"dialog":st("beforetoggle",e),st("toggle",e),st("cancel",e),st("close",e);break;case"iframe":case"object":st("load",e);break;case"video":case"audio":for(c=0;c<El.length;c++)st(El[c],e);break;case"image":st("error",e),st("load",e);break;case"details":st("toggle",e);break;case"embed":case"source":case"link":st("error",e),st("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:jt(e,a,K,c,o,null)}return;default:if(Fi(a)){for(ae in o)o.hasOwnProperty(ae)&&(c=o[ae],c!==void 0&&Hh(e,a,ae,c,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(c=o[O],c!=null&&jt(e,a,O,c,o,null))}function UE(e,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,x=null,O=null,P=null,K=null,ae=null;for(ee in o){var ue=o[ee];if(o.hasOwnProperty(ee)&&ue!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":P=ue;default:c.hasOwnProperty(ee)||jt(e,a,ee,null,c,ue)}}for(var Z in c){var ee=c[Z];if(ue=o[Z],c.hasOwnProperty(Z)&&(ee!=null||ue!=null))switch(Z){case"type":g=ee;break;case"name":p=ee;break;case"checked":K=ee;break;case"defaultChecked":ae=ee;break;case"value":x=ee;break;case"defaultValue":O=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,a));break;default:ee!==ue&&jt(e,a,Z,ee,c,ue)}}Bi(e,x,O,P,K,ae,g,p);return;case"select":ee=x=O=Z=null;for(g in o)if(P=o[g],o.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":ee=P;default:c.hasOwnProperty(g)||jt(e,a,g,null,c,P)}for(p in c)if(g=c[p],P=o[p],c.hasOwnProperty(p)&&(g!=null||P!=null))switch(p){case"value":Z=g;break;case"defaultValue":O=g;break;case"multiple":x=g;default:g!==P&&jt(e,a,p,g,c,P)}a=O,o=x,c=ee,Z!=null?Ya(e,!!o,Z,!1):!!c!=!!o&&(a!=null?Ya(e,!!o,a,!0):Ya(e,!!o,o?[]:"",!1));return;case"textarea":ee=Z=null;for(O in o)if(p=o[O],o.hasOwnProperty(O)&&p!=null&&!c.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:jt(e,a,O,null,c,p)}for(x in c)if(p=c[x],g=o[x],c.hasOwnProperty(x)&&(p!=null||g!=null))switch(x){case"value":Z=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&jt(e,a,x,p,c,g)}Tc(e,Z,ee);return;case"option":for(var Ce in o)if(Z=o[Ce],o.hasOwnProperty(Ce)&&Z!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":e.selected=!1;break;default:jt(e,a,Ce,null,c,Z)}for(P in c)if(Z=c[P],ee=o[P],c.hasOwnProperty(P)&&Z!==ee&&(Z!=null||ee!=null))switch(P){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:jt(e,a,P,Z,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in o)Z=o[Le],o.hasOwnProperty(Le)&&Z!=null&&!c.hasOwnProperty(Le)&&jt(e,a,Le,null,c,Z);for(K in c)if(Z=c[K],ee=o[K],c.hasOwnProperty(K)&&Z!==ee&&(Z!=null||ee!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,a));break;default:jt(e,a,K,Z,c,ee)}return;default:if(Fi(a)){for(var _t in o)Z=o[_t],o.hasOwnProperty(_t)&&Z!==void 0&&!c.hasOwnProperty(_t)&&Hh(e,a,_t,void 0,c,Z);for(ae in c)Z=c[ae],ee=o[ae],!c.hasOwnProperty(ae)||Z===ee||Z===void 0&&ee===void 0||Hh(e,a,ae,Z,c,ee);return}}for(var Y in o)Z=o[Y],o.hasOwnProperty(Y)&&Z!=null&&!c.hasOwnProperty(Y)&&jt(e,a,Y,null,c,Z);for(ue in c)Z=c[ue],ee=o[ue],!c.hasOwnProperty(ue)||Z===ee||Z==null&&ee==null||jt(e,a,ue,Z,c,ee)}function db(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,x=p.initiatorType,O=p.duration;if(g&&O&&db(x)){for(x=0,O=p.responseEnd,c+=1;c<o.length;c++){var P=o[c],K=P.startTime;if(K>O)break;var ae=P.transferSize,ue=P.initiatorType;ae&&db(ue)&&(P=P.responseEnd,x+=ae*(P<O?1:(O-K)/(P-K)))}if(--c,a+=8*(g+x)/(p.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wh=null,Fh=null;function Eu(e){return e.nodeType===9?e:e.ownerDocument}function fb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hb(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function qh(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Yh=null;function IE(){var e=window.event;return e&&e.type==="popstate"?e===Yh?!1:(Yh=e,!0):(Yh=null,!1)}var mb=typeof setTimeout=="function"?setTimeout:void 0,LE=typeof clearTimeout=="function"?clearTimeout:void 0,pb=typeof Promise=="function"?Promise:void 0,BE=typeof queueMicrotask=="function"?queueMicrotask:typeof pb<"u"?function(e){return pb.resolve(null).then(e).catch($E)}:mb;function $E(e){setTimeout(function(){throw e})}function ds(e){return e==="head"}function gb(e,a){var o=a,c=0;do{var p=o.nextSibling;if(e.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(p),Qo(a);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Cl(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Cl(o);for(var g=o.firstChild;g;){var x=g.nextSibling,O=g.nodeName;g[Rs]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=x}}else o==="body"&&Cl(e.ownerDocument.body);o=p}while(o);Qo(a)}function vb(e,a){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function Vh(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Vh(o),Ii(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function HE(e,a,o,c){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Rs])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=hr(e.nextSibling),e===null)break}return null}function WE(e,a,o){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=hr(e.nextSibling),e===null))return null;return e}function yb(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=hr(e.nextSibling),e===null))return null;return e}function Gh(e){return e.data==="$?"||e.data==="$~"}function Kh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function FE(e,a){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||o.readyState!=="loading")a();else{var c=function(){a(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function hr(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var Xh=null;function bb(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(a===0)return hr(e.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}e=e.nextSibling}return null}function wb(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return e;a--}else o!=="/$"&&o!=="/&"||a++}e=e.previousSibling}return null}function xb(e,a,o){switch(a=Eu(o),e){case"html":if(e=a.documentElement,!e)throw Error(s(452));return e;case"head":if(e=a.head,!e)throw Error(s(453));return e;case"body":if(e=a.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Cl(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Ii(e)}var mr=new Map,Sb=new Set;function Nu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ea=L.d;L.d={f:qE,r:YE,D:VE,C:GE,L:KE,m:XE,X:ZE,S:QE,M:JE};function qE(){var e=Ea.f(),a=vu();return e||a}function YE(e){var a=la(e);a!==null&&a.tag===5&&a.type==="form"?Lv(a):Ea.r(e)}var Go=typeof document>"u"?null:document;function jb(e,a,o){var c=Go;if(c&&typeof a=="string"&&a){var p=Pn(a);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Sb.has(p)||(Sb.add(p),e={rel:e,crossOrigin:o,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),_n(a,"link",e),Jt(a),c.head.appendChild(a)))}}function VE(e){Ea.D(e),jb("dns-prefetch",e,null)}function GE(e,a){Ea.C(e,a),jb("preconnect",e,a)}function KE(e,a,o){Ea.L(e,a,o);var c=Go;if(c&&e&&a){var p='link[rel="preload"][as="'+Pn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Pn(o.imageSizes)+'"]')):p+='[href="'+Pn(e)+'"]';var g=p;switch(a){case"style":g=Ko(e);break;case"script":g=Xo(e)}mr.has(g)||(e=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:e,as:a},o),mr.set(g,e),c.querySelector(p)!==null||a==="style"&&c.querySelector(Tl(g))||a==="script"&&c.querySelector(Ol(g))||(a=c.createElement("link"),_n(a,"link",e),Jt(a),c.head.appendChild(a)))}}function XE(e,a){Ea.m(e,a);var o=Go;if(o&&e){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Pn(c)+'"][href="'+Pn(e)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Xo(e)}if(!mr.has(g)&&(e=v({rel:"modulepreload",href:e},a),mr.set(g,e),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ol(g)))return}c=o.createElement("link"),_n(c,"link",e),Jt(c),o.head.appendChild(c)}}}function QE(e,a,o){Ea.S(e,a,o);var c=Go;if(c&&e){var p=Fa(c).hoistableStyles,g=Ko(e);a=a||"default";var x=p.get(g);if(!x){var O={loading:0,preload:null};if(x=c.querySelector(Tl(g)))O.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":a},o),(o=mr.get(g))&&Qh(e,o);var P=x=c.createElement("link");Jt(P),_n(P,"link",e),P._p=new Promise(function(K,ae){P.onload=K,P.onerror=ae}),P.addEventListener("load",function(){O.loading|=1}),P.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Cu(x,a,c)}x={type:"stylesheet",instance:x,count:1,state:O},p.set(g,x)}}}function ZE(e,a){Ea.X(e,a);var o=Go;if(o&&e){var c=Fa(o).hoistableScripts,p=Xo(e),g=c.get(p);g||(g=o.querySelector(Ol(p)),g||(e=v({src:e,async:!0},a),(a=mr.get(p))&&Zh(e,a),g=o.createElement("script"),Jt(g),_n(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function JE(e,a){Ea.M(e,a);var o=Go;if(o&&e){var c=Fa(o).hoistableScripts,p=Xo(e),g=c.get(p);g||(g=o.querySelector(Ol(p)),g||(e=v({src:e,async:!0,type:"module"},a),(a=mr.get(p))&&Zh(e,a),g=o.createElement("script"),Jt(g),_n(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function _b(e,a,o,c){var p=(p=ye.current)?Nu(p):null;if(!p)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Ko(o.href),o=Fa(p).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Ko(o.href);var g=Fa(p).hoistableStyles,x=g.get(e);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,x),(g=p.querySelector(Tl(e)))&&!g._p&&(x.instance=g,x.state.loading=5),mr.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},mr.set(e,o),g||eN(p,e,o,x.state))),a&&c===null)throw Error(s(528,""));return x}if(a&&c!==null)throw Error(s(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Xo(o),o=Fa(p).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ko(e){return'href="'+Pn(e)+'"'}function Tl(e){return'link[rel="stylesheet"]['+e+"]"}function Eb(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function eN(e,a,o,c){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=e.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),_n(a,"link",o),Jt(a),e.head.appendChild(a))}function Xo(e){return'[src="'+Pn(e)+'"]'}function Ol(e){return"script[async]"+e}function Nb(e,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=e.querySelector('style[data-href~="'+Pn(o.href)+'"]');if(c)return a.instance=c,Jt(c),c;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Jt(c),_n(c,"style",p),Cu(c,o.precedence,e),a.instance=c;case"stylesheet":p=Ko(o.href);var g=e.querySelector(Tl(p));if(g)return a.state.loading|=4,a.instance=g,Jt(g),g;c=Eb(o),(p=mr.get(p))&&Qh(c,p),g=(e.ownerDocument||e).createElement("link"),Jt(g);var x=g;return x._p=new Promise(function(O,P){x.onload=O,x.onerror=P}),_n(g,"link",c),a.state.loading|=4,Cu(g,o.precedence,e),a.instance=g;case"script":return g=Xo(o.src),(p=e.querySelector(Ol(g)))?(a.instance=p,Jt(p),p):(c=o,(p=mr.get(g))&&(c=v({},o),Zh(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),Jt(p),_n(p,"link",c),e.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Cu(c,o.precedence,e));return a.instance}function Cu(e,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,x=0;x<c.length;x++){var O=c[x];if(O.dataset.precedence===a)g=O;else if(g!==p)break}g?g.parentNode.insertBefore(e,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(e,a.firstChild))}function Qh(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function Zh(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var Tu=null;function Cb(e,a,o){if(Tu===null){var c=new Map,p=Tu=new Map;p.set(o,c)}else p=Tu,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var g=o[p];if(!(g[Rs]||g[hn]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(a)||"";x=e+x;var O=c.get(x);O?O.push(g):c.set(x,[g])}}return c}function Tb(e,a,o){e=e.ownerDocument||e,e.head.insertBefore(o,a==="title"?e.querySelector("head > title"):null)}function tN(e,a,o){if(o===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ob(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function nN(e,a,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Ko(c.href),g=a.querySelector(Tl(p));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=Ou.bind(e),a.then(e,e)),o.state.loading|=4,o.instance=g,Jt(g);return}g=a.ownerDocument||a,c=Eb(c),(p=mr.get(p))&&Qh(c,p),g=g.createElement("link"),Jt(g);var x=g;x._p=new Promise(function(O,P){x.onload=O,x.onerror=P}),_n(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Ou.bind(e),a.addEventListener("load",o),a.addEventListener("error",o))}}var Jh=0;function rN(e,a){return e.stylesheets&&e.count===0&&Du(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&Du(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+a);0<e.imgBytes&&Jh===0&&(Jh=62500*PE());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Du(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Jh?50:800)+a);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Ou(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Du(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Au=null;function Du(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Au=new Map,a.forEach(aN,e),Au=null,Ou.call(e))}function aN(e,a){if(!(a.state.loading&4)){var o=Au.get(e);if(o)var c=o.get(null);else{o=new Map,Au.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var x=p[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),c=x)}c&&o.set(null,c)}p=a.instance,x=p.getAttribute("data-precedence"),g=o.get(x)||c,g===c&&o.set(null,p),o.set(x,p),this.count++,c=Ou.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),a.state.loading|=4}}var Al={$$typeof:T,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function sN(e,a,o,c,p,g,x,O,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.hiddenUpdates=Ft(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Ab(e,a,o,c,p,g,x,O,P,K,ae,ue){return e=new sN(e,a,o,x,P,K,ae,ue,O),a=1,g===!0&&(a|=24),g=Gn(3,null,null,a),e.current=g,g.stateNode=e,a=kf(),a.refCount++,e.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:a},Uf(g),e}function Db(e){return e?(e=Co,e):Co}function kb(e,a,o,c,p,g){p=Db(p),c.context===null?c.context=p:c.pendingContext=p,c=es(a),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ts(e,c,a),o!==null&&(Wn(o,e,a),ll(o,e,a))}function Rb(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<a?o:a}}function em(e,a){Rb(e,a),(e=e.alternate)&&Rb(e,a)}function Mb(e){if(e.tag===13||e.tag===31){var a=Bs(e,67108864);a!==null&&Wn(a,e,67108864),em(e,67108864)}}function zb(e){if(e.tag===13||e.tag===31){var a=Jn();a=$a(a);var o=Bs(e,a);o!==null&&Wn(o,e,a),em(e,a)}}var ku=!0;function oN(e,a,o,c){var p=R.T;R.T=null;var g=L.p;try{L.p=2,tm(e,a,o,c)}finally{L.p=g,R.T=p}}function iN(e,a,o,c){var p=R.T;R.T=null;var g=L.p;try{L.p=8,tm(e,a,o,c)}finally{L.p=g,R.T=p}}function tm(e,a,o,c){if(ku){var p=nm(c);if(p===null)$h(e,a,c,Ru,o),Pb(e,c);else if(cN(p,e,a,o,c))c.stopPropagation();else if(Pb(e,c),a&4&&-1<lN.indexOf(e)){for(;p!==null;){var g=la(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Se(g.pendingLanes);if(x!==0){var O=g;for(O.pendingLanes|=2,O.entangledLanes|=2;x;){var P=1<<31-yt(x);O.entanglements[1]|=P,x&=~P}Ir(g),(vt&6)===0&&(pu=We()+500,_l(0))}}break;case 31:case 13:O=Bs(g,2),O!==null&&Wn(O,g,2),vu(),em(g,2)}if(g=nm(c),g===null&&$h(e,a,c,Ru,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else $h(e,a,c,null,o)}}function nm(e){return e=Yi(e),rm(e)}var Ru=null;function rm(e){if(Ru=null,e=Wa(e),e!==null){var a=l(e);if(a===null)e=null;else{var o=a.tag;if(o===13){if(e=d(a),e!==null)return e;e=null}else if(o===31){if(e=f(a),e!==null)return e;e=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return Ru=e,null}function Ub(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case Ht:return 2;case yn:return 8;case It:case un:return 32;case Vt:return 268435456;default:return 32}default:return 32}}var am=!1,fs=null,hs=null,ms=null,Dl=new Map,kl=new Map,ps=[],lN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pb(e,a){switch(e){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Dl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(a.pointerId)}}function Rl(e,a,o,c,p,g){return e===null||e.nativeEvent!==g?(e={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},a!==null&&(a=la(a),a!==null&&Mb(a)),e):(e.eventSystemFlags|=c,a=e.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),e)}function cN(e,a,o,c,p){switch(a){case"focusin":return fs=Rl(fs,e,a,o,c,p),!0;case"dragenter":return hs=Rl(hs,e,a,o,c,p),!0;case"mouseover":return ms=Rl(ms,e,a,o,c,p),!0;case"pointerover":var g=p.pointerId;return Dl.set(g,Rl(Dl.get(g)||null,e,a,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,kl.set(g,Rl(kl.get(g)||null,e,a,o,c,p)),!0}return!1}function Ib(e){var a=Wa(e.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=d(o),a!==null){e.blockedOn=a,wc(e.priority,function(){zb(o)});return}}else if(a===31){if(a=f(o),a!==null){e.blockedOn=a,wc(e.priority,function(){zb(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mu(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var o=nm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);qi=c,o.target.dispatchEvent(c),qi=null}else return a=la(o),a!==null&&Mb(a),e.blockedOn=o,!1;a.shift()}return!0}function Lb(e,a,o){Mu(e)&&o.delete(a)}function uN(){am=!1,fs!==null&&Mu(fs)&&(fs=null),hs!==null&&Mu(hs)&&(hs=null),ms!==null&&Mu(ms)&&(ms=null),Dl.forEach(Lb),kl.forEach(Lb)}function zu(e,a){e.blockedOn===a&&(e.blockedOn=null,am||(am=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,uN)))}var Uu=null;function Bb(e){Uu!==e&&(Uu=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Uu===e&&(Uu=null);for(var a=0;a<e.length;a+=3){var o=e[a],c=e[a+1],p=e[a+2];if(typeof c!="function"){if(rm(c||o)===null)continue;break}var g=la(o);g!==null&&(e.splice(a,3),a-=3,nh(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Qo(e){function a(P){return zu(P,e)}fs!==null&&zu(fs,e),hs!==null&&zu(hs,e),ms!==null&&zu(ms,e),Dl.forEach(a),kl.forEach(a);for(var o=0;o<ps.length;o++){var c=ps[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<ps.length&&(o=ps[0],o.blockedOn===null);)Ib(o),o.blockedOn===null&&ps.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],x=p[Cn]||null;if(typeof g=="function")x||Bb(o);else if(x){var O=null;if(g&&g.hasAttribute("formAction")){if(p=g,x=g[Cn]||null)O=x.formAction;else if(rm(p)!==null)continue}else O=x.action;typeof O=="function"?o[c+1]=O:(o.splice(c,3),c-=3),Bb(o)}}}function $b(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function sm(e){this._internalRoot=e}Pu.prototype.render=sm.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(s(409));var o=a.current,c=Jn();kb(o,c,e,a,null,null)},Pu.prototype.unmount=sm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;kb(e.current,2,null,e,null,null),vu(),a[Ha]=null}};function Pu(e){this._internalRoot=e}Pu.prototype.unstable_scheduleHydration=function(e){if(e){var a=Ui();e={blockedOn:null,target:e,priority:a};for(var o=0;o<ps.length&&a!==0&&a<ps[o].priority;o++);ps.splice(o,0,e),o===0&&Ib(e)}};var Hb=n.version;if(Hb!=="19.2.0")throw Error(s(527,Hb,"19.2.0"));L.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(a),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var dN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{kt=Iu.inject(dN),gt=Iu}catch{}}return zl.createRoot=function(e,a){if(!i(e))throw Error(s(299));var o=!1,c="",p=Kv,g=Xv,x=Qv;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Ab(e,1,!1,null,null,o,c,null,p,g,x,$b),e[Ha]=a.current,Bh(e),new sm(a)},zl.hydrateRoot=function(e,a,o){if(!i(e))throw Error(s(299));var c=!1,p="",g=Kv,x=Xv,O=Qv,P=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),a=Ab(e,1,!0,a,o??null,c,p,P,g,x,O,$b),a.context=Db(null),o=a.current,c=Jn(),c=$a(c),p=es(c),p.callback=null,ts(o,p,c),o=c,a.current.lanes=o,dt(a,o),Ir(a),e[Ha]=a.current,Bh(e),new Pu(a)},zl.version="19.2.0",zl}var Zb;function SN(){if(Zb)return lm.exports;Zb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),lm.exports=xN(),lm.exports}var jN=SN();const _N=Sd(jN);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jb="popstate";function EN(t={}){function n(s,i){let{pathname:l,search:d,hash:f}=s.location;return Hm("",{pathname:l,search:d,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:Vl(i)}return CN(n,r,null,t)}function $t(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function ea(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function NN(){return Math.random().toString(36).substring(2,10)}function e0(t,n){return{usr:t.state,key:t.key,idx:n}}function Hm(t,n,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?Ni(n):n,state:r,key:n&&n.key||s||NN()}}function Vl({pathname:t="/",search:n="",hash:r=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ni(t){let n={};if(t){let r=t.indexOf("#");r>=0&&(n.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(n.search=t.substring(s),t=t.substring(0,s)),t&&(n.pathname=t)}return n}function CN(t,n,r,s={}){let{window:i=document.defaultView,v5Compat:l=!1}=s,d=i.history,f="POP",h=null,m=y();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function y(){return(d.state||{idx:null}).idx}function v(){f="POP";let S=y(),E=S==null?null:S-m;m=S,h&&h({action:f,location:_.location,delta:E})}function w(S,E){f="PUSH";let C=Hm(_.location,S,E);m=y()+1;let T=e0(C,m),D=_.createHref(C);try{d.pushState(T,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(D)}l&&h&&h({action:f,location:_.location,delta:1})}function j(S,E){f="REPLACE";let C=Hm(_.location,S,E);m=y();let T=e0(C,m),D=_.createHref(C);d.replaceState(T,"",D),l&&h&&h({action:f,location:_.location,delta:0})}function N(S){return TN(S)}let _={get action(){return f},get location(){return t(i,d)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Jb,v),h=S,()=>{i.removeEventListener(Jb,v),h=null}},createHref(S){return n(i,S)},createURL:N,encodeLocation(S){let E=N(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:j,go(S){return d.go(S)}};return _}function TN(t,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),$t(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Vl(t);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function Pw(t,n,r="/"){return ON(t,n,r,!1)}function ON(t,n,r,s){let i=typeof n=="string"?Ni(n):n,l=za(i.pathname||"/",r);if(l==null)return null;let d=Iw(t);AN(d);let f=null;for(let h=0;f==null&&h<d.length;++h){let m=$N(l);f=LN(d[h],m,s)}return f}function Iw(t,n=[],r=[],s="",i=!1){let l=(d,f,h=i,m)=>{let y={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&h)return;$t(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=Da([s,y.relativePath]),w=r.concat(y);d.children&&d.children.length>0&&($t(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Iw(d.children,n,w,v,h)),!(d.path==null&&!d.index)&&n.push({path:v,score:PN(v,d.index),routesMeta:w})};return t.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))l(d,f);else for(let h of Lw(d.path))l(d,f,!0,h)}),n}function Lw(t){let n=t.split("/");if(n.length===0)return[];let[r,...s]=n,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return i?[l,""]:[l];let d=Lw(s.join("/")),f=[];return f.push(...d.map(h=>h===""?l:[l,h].join("/"))),i&&f.push(...d),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function AN(t){t.sort((n,r)=>n.score!==r.score?r.score-n.score:IN(n.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var DN=/^:[\w-]+$/,kN=3,RN=2,MN=1,zN=10,UN=-2,t0=t=>t==="*";function PN(t,n){let r=t.split("/"),s=r.length;return r.some(t0)&&(s+=UN),n&&(s+=RN),r.filter(i=>!t0(i)).reduce((i,l)=>i+(DN.test(l)?kN:l===""?MN:zN),s)}function IN(t,n){return t.length===n.length&&t.slice(0,-1).every((s,i)=>s===n[i])?t[t.length-1]-n[n.length-1]:0}function LN(t,n,r=!1){let{routesMeta:s}=t,i={},l="/",d=[];for(let f=0;f<s.length;++f){let h=s[f],m=f===s.length-1,y=l==="/"?n:n.slice(l.length)||"/",v=ld({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),w=h.route;if(!v&&m&&r&&!s[s.length-1].route.index&&(v=ld({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(i,v.params),d.push({params:i,pathname:Da([l,v.pathname]),pathnameBase:qN(Da([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=Da([l,v.pathnameBase]))}return d}function ld(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=BN(t.path,t.caseSensitive,t.end),i=n.match(r);if(!i)return null;let l=i[0],d=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:v},w)=>{if(y==="*"){let N=f[w]||"";d=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const j=f[w];return v&&!j?m[y]=void 0:m[y]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:d,pattern:t}}function BN(t,n=!1,r=!0){ea(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),s]}function $N(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ea(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function za(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function HN(t,n="/"){let{pathname:r,search:s="",hash:i=""}=typeof t=="string"?Ni(t):t;return{pathname:r?r.startsWith("/")?r:WN(r,n):n,search:YN(s),hash:VN(i)}}function WN(t,n){let r=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function fm(t,n,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FN(t){return t.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function Bw(t){let n=FN(t);return n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase)}function $w(t,n,r,s=!1){let i;typeof t=="string"?i=Ni(t):(i={...t},$t(!i.pathname||!i.pathname.includes("?"),fm("?","pathname","search",i)),$t(!i.pathname||!i.pathname.includes("#"),fm("#","pathname","hash",i)),$t(!i.search||!i.search.includes("#"),fm("#","search","hash",i)));let l=t===""||i.pathname==="",d=l?"/":i.pathname,f;if(d==null)f=r;else{let v=n.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),v-=1;i.pathname=w.join("/")}f=v>=0?n[v]:"/"}let h=HN(i,f),m=d&&d!=="/"&&d.endsWith("/"),y=(l||d===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var Da=t=>t.join("/").replace(/\/\/+/g,"/"),qN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Hw=["POST","PUT","PATCH","DELETE"];new Set(Hw);var KN=["GET",...Hw];new Set(KN);var Ci=b.createContext(null);Ci.displayName="DataRouter";var jd=b.createContext(null);jd.displayName="DataRouterState";b.createContext(!1);var Ww=b.createContext({isTransitioning:!1});Ww.displayName="ViewTransition";var XN=b.createContext(new Map);XN.displayName="Fetchers";var QN=b.createContext(null);QN.displayName="Await";var na=b.createContext(null);na.displayName="Navigation";var ec=b.createContext(null);ec.displayName="Location";var ra=b.createContext({outlet:null,matches:[],isDataRoute:!1});ra.displayName="Route";var Ep=b.createContext(null);Ep.displayName="RouteError";function ZN(t,{relative:n}={}){$t(tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=b.useContext(na),{hash:i,pathname:l,search:d}=nc(t,{relative:n}),f=l;return r!=="/"&&(f=l==="/"?r:Da([r,l])),s.createHref({pathname:f,search:d,hash:i})}function tc(){return b.useContext(ec)!=null}function vo(){return $t(tc(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ec).location}var Fw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qw(t){b.useContext(na).static||b.useLayoutEffect(t)}function Ia(){let{isDataRoute:t}=b.useContext(ra);return t?fC():JN()}function JN(){$t(tc(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Ci),{basename:n,navigator:r}=b.useContext(na),{matches:s}=b.useContext(ra),{pathname:i}=vo(),l=JSON.stringify(Bw(s)),d=b.useRef(!1);return qw(()=>{d.current=!0}),b.useCallback((h,m={})=>{if(ea(d.current,Fw),!d.current)return;if(typeof h=="number"){r.go(h);return}let y=$w(h,JSON.parse(l),i,m.relative==="path");t==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:Da([n,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[n,r,l,i,t])}b.createContext(null);function eC(){let{matches:t}=b.useContext(ra),n=t[t.length-1];return n?n.params:{}}function nc(t,{relative:n}={}){let{matches:r}=b.useContext(ra),{pathname:s}=vo(),i=JSON.stringify(Bw(r));return b.useMemo(()=>$w(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function tC(t,n){return Yw(t,n)}function Yw(t,n,r,s,i){$t(tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=b.useContext(na),{matches:d}=b.useContext(ra),f=d[d.length-1],h=f?f.params:{},m=f?f.pathname:"/",y=f?f.pathnameBase:"/",v=f&&f.route;{let C=v&&v.path||"";Vw(m,!v||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let w=vo(),j;if(n){let C=typeof n=="string"?Ni(n):n;$t(y==="/"||C.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${C.pathname}" was given in the \`location\` prop.`),j=C}else j=w;let N=j.pathname||"/",_=N;if(y!=="/"){let C=y.replace(/^\//,"").split("/");_="/"+N.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=Pw(t,{pathname:_});ea(v||S!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ea(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=oC(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:Da([y,l.encodeLocation?l.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?y:Da([y,l.encodeLocation?l.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),d,r,s,i);return n&&E?b.createElement(ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},E):E}function nC(){let t=dC(),n=GN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:l},"ErrorBoundary")," or"," ",b.createElement("code",{style:l},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},n),r?b.createElement("pre",{style:i},r):null,d)}var rC=b.createElement(nC,null),aC=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.unstable_onError?this.props.unstable_onError(t,n):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(ra.Provider,{value:this.props.routeContext},b.createElement(Ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sC({routeContext:t,match:n,children:r}){let s=b.useContext(Ci);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(ra.Provider,{value:t},r)}function oC(t,n=[],r=null,s=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,d=r?.errors;if(d!=null){let m=l.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);$t(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,h=-1;if(r)for(let m=0;m<l.length;m++){let y=l[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=m),y.route.id){let{loaderData:v,errors:w}=r,j=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||j){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,y,v)=>{let w,j=!1,N=null,_=null;r&&(w=d&&y.route.id?d[y.route.id]:void 0,N=y.route.errorElement||rC,f&&(h<0&&v===0?(Vw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,_=null):h===v&&(j=!0,_=y.route.hydrateFallbackElement||null)));let S=n.concat(l.slice(0,v+1)),E=()=>{let C;return w?C=N:j?C=_:y.route.Component?C=b.createElement(y.route.Component,null):y.route.element?C=y.route.element:C=m,b.createElement(sC,{match:y,routeContext:{outlet:m,matches:S,isDataRoute:r!=null},children:C})};return r&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?b.createElement(aC,{location:r.location,revalidation:r.revalidation,component:N,error:w,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:s}):E()},null)}function Np(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iC(t){let n=b.useContext(Ci);return $t(n,Np(t)),n}function lC(t){let n=b.useContext(jd);return $t(n,Np(t)),n}function cC(t){let n=b.useContext(ra);return $t(n,Np(t)),n}function Cp(t){let n=cC(t),r=n.matches[n.matches.length-1];return $t(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function uC(){return Cp("useRouteId")}function dC(){let t=b.useContext(Ep),n=lC("useRouteError"),r=Cp("useRouteError");return t!==void 0?t:n.errors?.[r]}function fC(){let{router:t}=iC("useNavigate"),n=Cp("useNavigate"),r=b.useRef(!1);return qw(()=>{r.current=!0}),b.useCallback(async(i,l={})=>{ea(r.current,Fw),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:n,...l}))},[t,n])}var n0={};function Vw(t,n,r){!n&&!n0[t]&&(n0[t]=!0,ea(!1,r))}b.memo(hC);function hC({routes:t,future:n,state:r,unstable_onError:s}){return Yw(t,void 0,r,s,n)}function Ca(t){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mC({basename:t="/",children:n=null,location:r,navigationType:s="POP",navigator:i,static:l=!1}){$t(!tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:d,navigator:i,static:l,future:{}}),[d,i,l]);typeof r=="string"&&(r=Ni(r));let{pathname:h="/",search:m="",hash:y="",state:v=null,key:w="default"}=r,j=b.useMemo(()=>{let N=za(h,d);return N==null?null:{location:{pathname:N,search:m,hash:y,state:v,key:w},navigationType:s}},[d,h,m,y,v,w,s]);return ea(j!=null,`<Router basename="${d}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:b.createElement(na.Provider,{value:f},b.createElement(ec.Provider,{children:n,value:j}))}function pC({children:t,location:n}){return tC(Wm(t),n)}function Wm(t,n=[]){let r=[];return b.Children.forEach(t,(s,i)=>{if(!b.isValidElement(s))return;let l=[...n,i];if(s.type===b.Fragment){r.push.apply(r,Wm(s.props.children,l));return}$t(s.type===Ca,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Wm(s.props.children,l)),r.push(d)}),r}var td="get",nd="application/x-www-form-urlencoded";function _d(t){return t!=null&&typeof t.tagName=="string"}function gC(t){return _d(t)&&t.tagName.toLowerCase()==="button"}function vC(t){return _d(t)&&t.tagName.toLowerCase()==="form"}function yC(t){return _d(t)&&t.tagName.toLowerCase()==="input"}function bC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wC(t,n){return t.button===0&&(!n||n==="_self")&&!bC(t)}var Lu=null;function xC(){if(Lu===null)try{new FormData(document.createElement("form"),0),Lu=!1}catch{Lu=!0}return Lu}var SC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(t){return t!=null&&!SC.has(t)?(ea(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nd}"`),null):t}function jC(t,n){let r,s,i,l,d;if(vC(t)){let f=t.getAttribute("action");s=f?za(f,n):null,r=t.getAttribute("method")||td,i=hm(t.getAttribute("enctype"))||nd,l=new FormData(t)}else if(gC(t)||yC(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(s=h?za(h,n):null,r=t.getAttribute("formmethod")||f.getAttribute("method")||td,i=hm(t.getAttribute("formenctype"))||hm(f.getAttribute("enctype"))||nd,l=new FormData(f,t),!xC()){let{name:m,type:y,value:v}=t;if(y==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,v)}}else{if(_d(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=td,s=null,i=nd,d=t}return l&&i==="text/plain"&&(d=l,l=void 0),{action:s,method:r.toLowerCase(),encType:i,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tp(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function _C(t,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${r}`:n&&za(s.pathname,n)==="/"?s.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function EC(t,n){if(t.id in n)return n[t.id];try{let r=await import(t.module);return n[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CC(t,n,r){let s=await Promise.all(t.map(async i=>{let l=n.routes[i.route.id];if(l){let d=await EC(l,r);return d.links?d.links():[]}return[]}));return DC(s.flat(1).filter(NC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function r0(t,n,r,s,i,l){let d=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,f=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return l==="assets"?n.filter((h,m)=>d(h,m)||f(h,m)):l==="data"?n.filter((h,m)=>{let y=s.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(d(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function TC(t,n,{includeHydrateFallback:r}={}){return OC(t.map(s=>{let i=n.routes[s.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function OC(t){return[...new Set(t)]}function AC(t){let n={},r=Object.keys(t).sort();for(let s of r)n[s]=t[s];return n}function DC(t,n){let r=new Set;return new Set(n),t.reduce((s,i)=>{let l=JSON.stringify(AC(i));return r.has(l)||(r.add(l),s.push({key:l,link:i})),s},[])}function Gw(){let t=b.useContext(Ci);return Tp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kC(){let t=b.useContext(jd);return Tp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Op=b.createContext(void 0);Op.displayName="FrameworkContext";function Kw(){let t=b.useContext(Op);return Tp(t,"You must render this element inside a <HydratedRouter> element"),t}function RC(t,n){let r=b.useContext(Op),[s,i]=b.useState(!1),[l,d]=b.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=n,w=b.useRef(null);b.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let _=E=>{E.forEach(C=>{d(C.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return w.current&&S.observe(w.current),()=>{S.disconnect()}}},[t]),b.useEffect(()=>{if(s){let _=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(_)}}},[s]);let j=()=>{i(!0)},N=()=>{i(!1),d(!1)};return r?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Ul(f,j),onBlur:Ul(h,N),onMouseEnter:Ul(m,j),onMouseLeave:Ul(y,N),onTouchStart:Ul(v,j)}]:[!1,w,{}]}function Ul(t,n){return r=>{t&&t(r),r.defaultPrevented||n(r)}}function MC({page:t,...n}){let{router:r}=Gw(),s=b.useMemo(()=>Pw(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?b.createElement(UC,{page:t,matches:s,...n}):null}function zC(t){let{manifest:n,routeModules:r}=Kw(),[s,i]=b.useState([]);return b.useEffect(()=>{let l=!1;return CC(t,n,r).then(d=>{l||i(d)}),()=>{l=!0}},[t,n,r]),s}function UC({page:t,matches:n,...r}){let s=vo(),{manifest:i,routeModules:l}=Kw(),{basename:d}=Gw(),{loaderData:f,matches:h}=kC(),m=b.useMemo(()=>r0(t,n,h,i,s,"data"),[t,n,h,i,s]),y=b.useMemo(()=>r0(t,n,h,i,s,"assets"),[t,n,h,i,s]),v=b.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let N=new Set,_=!1;if(n.forEach(E=>{let C=i.routes[E.route.id];!C||!C.hasLoader||(!m.some(T=>T.route.id===E.route.id)&&E.route.id in f&&l[E.route.id]?.shouldRevalidate||C.hasClientLoader?_=!0:N.add(E.route.id))}),N.size===0)return[];let S=_C(t,d,"data");return _&&N.size>0&&S.searchParams.set("_routes",n.filter(E=>N.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[d,f,s,i,m,n,t,l]),w=b.useMemo(()=>TC(y,i),[y,i]),j=zC(y);return b.createElement(b.Fragment,null,v.map(N=>b.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...r})),w.map(N=>b.createElement("link",{key:N,rel:"modulepreload",href:N,...r})),j.map(({key:N,link:_})=>b.createElement("link",{key:N,nonce:r.nonce,..._})))}function PC(...t){return n=>{t.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var Xw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xw&&(window.__reactRouterVersion="7.9.4")}catch{}function IC({basename:t,children:n,window:r}){let s=b.useRef();s.current==null&&(s.current=EN({window:r,v5Compat:!0}));let i=s.current,[l,d]=b.useState({action:i.action,location:i.location}),f=b.useCallback(h=>{b.startTransition(()=>d(h))},[d]);return b.useLayoutEffect(()=>i.listen(f),[i,f]),b.createElement(mC,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i})}var Qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zw=b.forwardRef(function({onClick:n,discover:r="render",prefetch:s="none",relative:i,reloadDocument:l,replace:d,state:f,target:h,to:m,preventScrollReset:y,viewTransition:v,...w},j){let{basename:N}=b.useContext(na),_=typeof m=="string"&&Qw.test(m),S,E=!1;if(typeof m=="string"&&_&&(S=m,Xw))try{let F=new URL(window.location.href),V=m.startsWith("//")?new URL(F.protocol+m):new URL(m),Q=za(V.pathname,N);V.origin===F.origin&&Q!=null?m=Q+V.search+V.hash:E=!0}catch{ea(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=ZN(m,{relative:i}),[T,D,M]=RC(s,w),k=HC(m,{replace:d,state:f,target:h,preventScrollReset:y,relative:i,viewTransition:v});function A(F){n&&n(F),F.defaultPrevented||k(F)}let U=b.createElement("a",{...w,...M,href:S||C,onClick:E||l?n:A,ref:PC(j,D),target:h,"data-discover":!_&&r==="render"?"true":void 0});return T&&!_?b.createElement(b.Fragment,null,U,b.createElement(MC,{page:C})):U});Zw.displayName="Link";var LC=b.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:s="",end:i=!1,style:l,to:d,viewTransition:f,children:h,...m},y){let v=nc(d,{relative:m.relative}),w=vo(),j=b.useContext(jd),{navigator:N,basename:_}=b.useContext(na),S=j!=null&&VC(v)&&f===!0,E=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,C=w.pathname,T=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(C=C.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&_&&(T=za(T,_)||T);const D=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let M=C===E||!i&&C.startsWith(E)&&C.charAt(D)==="/",k=T!=null&&(T===E||!i&&T.startsWith(E)&&T.charAt(E.length)==="/"),A={isActive:M,isPending:k,isTransitioning:S},U=M?n:void 0,F;typeof s=="function"?F=s(A):F=[s,M?"active":null,k?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(A):l;return b.createElement(Zw,{...m,"aria-current":U,className:F,ref:y,style:V,to:d,viewTransition:f},typeof h=="function"?h(A):h)});LC.displayName="NavLink";var BC=b.forwardRef(({discover:t="render",fetcherKey:n,navigate:r,reloadDocument:s,replace:i,state:l,method:d=td,action:f,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:v,...w},j)=>{let N=qC(),_=YC(f,{relative:m}),S=d.toLowerCase()==="get"?"get":"post",E=typeof f=="string"&&Qw.test(f),C=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,M=D?.getAttribute("formmethod")||d;N(D||T.currentTarget,{fetcherKey:n,method:M,navigate:r,replace:i,state:l,relative:m,preventScrollReset:y,viewTransition:v})};return b.createElement("form",{ref:j,method:S,action:_,onSubmit:s?h:C,...w,"data-discover":!E&&t==="render"?"true":void 0})});BC.displayName="Form";function $C(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jw(t){let n=b.useContext(Ci);return $t(n,$C(t)),n}function HC(t,{target:n,replace:r,state:s,preventScrollReset:i,relative:l,viewTransition:d}={}){let f=Ia(),h=vo(),m=nc(t,{relative:l});return b.useCallback(y=>{if(wC(y,n)){y.preventDefault();let v=r!==void 0?r:Vl(h)===Vl(m);f(t,{replace:v,state:s,preventScrollReset:i,relative:l,viewTransition:d})}},[h,f,m,r,s,n,t,i,l,d])}var WC=0,FC=()=>`__${String(++WC)}__`;function qC(){let{router:t}=Jw("useSubmit"),{basename:n}=b.useContext(na),r=uC();return b.useCallback(async(s,i={})=>{let{action:l,method:d,encType:f,formData:h,body:m}=jC(s,n);if(i.navigate===!1){let y=i.fetcherKey||FC();await t.fetch(y,r,i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||d,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||d,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,n,r])}function YC(t,{relative:n}={}){let{basename:r}=b.useContext(na),s=b.useContext(ra);$t(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),l={...nc(t||".",{relative:n})},d=vo();if(t==null){l.search=d.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Da([r,l.pathname])),Vl(l)}function VC(t,{relative:n}={}){let r=b.useContext(Ww);$t(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Jw("useViewTransitionState"),i=nc(t,{relative:n});if(!r.isTransitioning)return!1;let l=za(r.currentLocation.pathname,s)||r.currentLocation.pathname,d=za(r.nextLocation.pathname,s)||r.nextLocation.pathname;return ld(i.pathname,d)!=null||ld(i.pathname,l)!=null}var rc=Uw();const ex=Sd(rc);function GC(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const KC=t=>{switch(t){case"success":return ZC;case"info":return eT;case"warning":return JC;case"error":return tT;default:return null}},XC=Array(12).fill(0),QC=({visible:t,className:n})=>I.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},I.createElement("div",{className:"sonner-spinner"},XC.map((r,s)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),ZC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eT=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tT=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nT=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rT=()=>{const[t,n]=I.useState(document.hidden);return I.useEffect(()=>{const r=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let Fm=1;class aT{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{const r=this.subscribers.indexOf(n);this.subscribers.splice(r,1)}),this.publish=n=>{this.subscribers.forEach(r=>r(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var r;const{message:s,...i}=n,l=typeof n?.id=="number"||((r=n.id)==null?void 0:r.length)>0?n.id:Fm++,d=this.toasts.find(h=>h.id===l),f=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),d?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...n,id:l,title:s}),{...h,...n,id:l,dismissible:f,title:s}):h):this.addToast({title:s,...i,dismissible:f,id:l}),l},this.dismiss=n=>(n?(this.dismissedToasts.add(n),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:n,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),n),this.message=(n,r)=>this.create({...r,message:n}),this.error=(n,r)=>this.create({...r,message:n,type:"error"}),this.success=(n,r)=>this.create({...r,type:"success",message:n}),this.info=(n,r)=>this.create({...r,type:"info",message:n}),this.warning=(n,r)=>this.create({...r,type:"warning",message:n}),this.loading=(n,r)=>this.create({...r,type:"loading",message:n}),this.promise=(n,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:n,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(n instanceof Function?n():n);let l=s!==void 0,d;const f=i.then(async m=>{if(d=["resolve",m],I.isValidElement(m))l=!1,this.create({id:s,type:"default",message:m});else if(oT(m)&&!m.ok){l=!1;const v=typeof r.error=="function"?await r.error(`HTTP error! status: ${m.status}`):r.error,w=typeof r.description=="function"?await r.description(`HTTP error! status: ${m.status}`):r.description,N=typeof v=="object"&&!I.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:w,...N})}else if(m instanceof Error){l=!1;const v=typeof r.error=="function"?await r.error(m):r.error,w=typeof r.description=="function"?await r.description(m):r.description,N=typeof v=="object"&&!I.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:w,...N})}else if(r.success!==void 0){l=!1;const v=typeof r.success=="function"?await r.success(m):r.success,w=typeof r.description=="function"?await r.description(m):r.description,N=typeof v=="object"&&!I.isValidElement(v)?v:{message:v};this.create({id:s,type:"success",description:w,...N})}}).catch(async m=>{if(d=["reject",m],r.error!==void 0){l=!1;const y=typeof r.error=="function"?await r.error(m):r.error,v=typeof r.description=="function"?await r.description(m):r.description,j=typeof y=="object"&&!I.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:v,...j})}}).finally(()=>{l&&(this.dismiss(s),s=void 0),r.finally==null||r.finally.call(r)}),h=()=>new Promise((m,y)=>f.then(()=>d[0]==="reject"?y(d[1]):m(d[1])).catch(y));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(n,r)=>{const s=r?.id||Fm++;return this.create({jsx:n(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const qn=new aT,sT=(t,n)=>{const r=n?.id||Fm++;return qn.addToast({title:t,...n,id:r}),r},oT=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",iT=sT,lT=()=>qn.toasts,cT=()=>qn.getActiveToasts(),pe=Object.assign(iT,{success:qn.success,info:qn.info,warning:qn.warning,error:qn.error,custom:qn.custom,message:qn.message,promise:qn.promise,dismiss:qn.dismiss,loading:qn.loading},{getHistory:lT,getToasts:cT});GC("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Bu(t){return t.label!==void 0}const uT=3,dT="24px",fT="16px",a0=4e3,hT=356,mT=14,pT=45,gT=200;function Lr(...t){return t.filter(Boolean).join(" ")}function vT(t){const[n,r]=t.split("-"),s=[];return n&&s.push(n),r&&s.push(r),s}const yT=t=>{var n,r,s,i,l,d,f,h,m;const{invert:y,toast:v,unstyled:w,interacting:j,setHeights:N,visibleToasts:_,heights:S,index:E,toasts:C,expanded:T,removeToast:D,defaultRichColors:M,closeButton:k,style:A,cancelButtonStyle:U,actionButtonStyle:F,className:V="",descriptionClassName:Q="",duration:re,position:J,gap:le,expandByDefault:fe,classNames:R,icons:L,closeButtonAriaLabel:$="Close toast"}=t,[oe,me]=I.useState(null),[z,X]=I.useState(null),[q,ne]=I.useState(!1),[he,ye]=I.useState(!1),[se,ve]=I.useState(!1),[Ee,Pe]=I.useState(!1),[Me,Be]=I.useState(!1),[Tt,W]=I.useState(0),[Ae,Re]=I.useState(0),Ve=I.useRef(v.duration||re||a0),Ye=I.useRef(null),Xe=I.useRef(null),tt=E===0,rt=E+1<=_,$e=v.type,xe=v.dismissible!==!1,We=v.className||"",Zt=v.descriptionClassName||"",Ht=I.useMemo(()=>S.findIndex(_e=>_e.toastId===v.id)||0,[S,v.id]),yn=I.useMemo(()=>{var _e;return(_e=v.closeButton)!=null?_e:k},[v.closeButton,k]),It=I.useMemo(()=>v.duration||re||a0,[v.duration,re]),un=I.useRef(0),Vt=I.useRef(0),dn=I.useRef(0),Ot=I.useRef(null),[kt,gt]=J.split("-"),Wt=I.useMemo(()=>S.reduce((_e,qe,ct)=>ct>=Ht?_e:_e+qe.height,0),[S,Ht]),yt=rT(),Dn=v.invert||y,He=$e==="loading";Vt.current=I.useMemo(()=>Ht*le+Wt,[Ht,Wt]),I.useEffect(()=>{Ve.current=It},[It]),I.useEffect(()=>{ne(!0)},[]),I.useEffect(()=>{const _e=Xe.current;if(_e){const qe=_e.getBoundingClientRect().height;return Re(qe),N(ct=>[{toastId:v.id,height:qe,position:v.position},...ct]),()=>N(ct=>ct.filter(ut=>ut.toastId!==v.id))}},[N,v.id]),I.useLayoutEffect(()=>{if(!q)return;const _e=Xe.current,qe=_e.style.height;_e.style.height="auto";const ct=_e.getBoundingClientRect().height;_e.style.height=qe,Re(ct),N(ut=>ut.find(dt=>dt.toastId===v.id)?ut.map(dt=>dt.toastId===v.id?{...dt,height:ct}:dt):[{toastId:v.id,height:ct,position:v.position},...ut])},[q,v.title,v.description,N,v.id,v.jsx,v.action,v.cancel]);const ge=I.useCallback(()=>{ye(!0),W(Vt.current),N(_e=>_e.filter(qe=>qe.toastId!==v.id)),setTimeout(()=>{D(v)},gT)},[v,D,N,Vt]);I.useEffect(()=>{if(v.promise&&$e==="loading"||v.duration===1/0||v.type==="loading")return;let _e;return T||j||yt?(()=>{if(dn.current<un.current){const ut=new Date().getTime()-un.current;Ve.current=Ve.current-ut}dn.current=new Date().getTime()})():(()=>{Ve.current!==1/0&&(un.current=new Date().getTime(),_e=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),ge()},Ve.current))})(),()=>clearTimeout(_e)},[T,j,v,$e,yt,ge]),I.useEffect(()=>{v.delete&&(ge(),v.onDismiss==null||v.onDismiss.call(v,v))},[ge,v.delete]);function be(){var _e;if(L?.loading){var qe;return I.createElement("div",{className:Lr(R?.loader,v==null||(qe=v.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":$e==="loading"},L.loading)}return I.createElement(QC,{className:Lr(R?.loader,v==null||(_e=v.classNames)==null?void 0:_e.loader),visible:$e==="loading"})}const Ne=v.icon||L?.[$e]||KC($e);var ke,Se;return I.createElement("li",{tabIndex:0,ref:Xe,className:Lr(V,We,R?.toast,v==null||(n=v.classNames)==null?void 0:n.toast,R?.default,R?.[$e],v==null||(r=v.classNames)==null?void 0:r[$e]),"data-sonner-toast":"","data-rich-colors":(ke=v.richColors)!=null?ke:M,"data-styled":!(v.jsx||v.unstyled||w),"data-mounted":q,"data-promise":!!v.promise,"data-swiped":Me,"data-removed":he,"data-visible":rt,"data-y-position":kt,"data-x-position":gt,"data-index":E,"data-front":tt,"data-swiping":se,"data-dismissible":xe,"data-type":$e,"data-invert":Dn,"data-swipe-out":Ee,"data-swipe-direction":z,"data-expanded":!!(T||fe&&q),"data-testid":v.testId,style:{"--index":E,"--toasts-before":E,"--z-index":C.length-E,"--offset":`${he?Tt:Vt.current}px`,"--initial-height":fe?"auto":`${Ae}px`,...A,...v.style},onDragEnd:()=>{ve(!1),me(null),Ot.current=null},onPointerDown:_e=>{_e.button!==2&&(He||!xe||(Ye.current=new Date,W(Vt.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(ve(!0),Ot.current={x:_e.clientX,y:_e.clientY})))},onPointerUp:()=>{var _e,qe,ct;if(Ee||!xe)return;Ot.current=null;const ut=Number(((_e=Xe.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ft=Number(((qe=Xe.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dt=new Date().getTime()-((ct=Ye.current)==null?void 0:ct.getTime()),Nt=oe==="x"?ut:Ft,Un=Math.abs(Nt)/dt;if(Math.abs(Nt)>=pT||Un>.11){W(Vt.current),v.onDismiss==null||v.onDismiss.call(v,v),X(oe==="x"?ut>0?"right":"left":Ft>0?"down":"up"),ge(),Pe(!0);return}else{var fn,Nn;(fn=Xe.current)==null||fn.style.setProperty("--swipe-amount-x","0px"),(Nn=Xe.current)==null||Nn.style.setProperty("--swipe-amount-y","0px")}Be(!1),ve(!1),me(null)},onPointerMove:_e=>{var qe,ct,ut;if(!Ot.current||!xe||((qe=window.getSelection())==null?void 0:qe.toString().length)>0)return;const dt=_e.clientY-Ot.current.y,Nt=_e.clientX-Ot.current.x;var Un;const fn=(Un=t.swipeDirections)!=null?Un:vT(J);!oe&&(Math.abs(Nt)>1||Math.abs(dt)>1)&&me(Math.abs(Nt)>Math.abs(dt)?"x":"y");let Nn={x:0,y:0};const $a=Yn=>1/(1.5+Math.abs(Yn)/20);if(oe==="y"){if(fn.includes("top")||fn.includes("bottom"))if(fn.includes("top")&&dt<0||fn.includes("bottom")&&dt>0)Nn.y=dt;else{const Yn=dt*$a(dt);Nn.y=Math.abs(Yn)<Math.abs(dt)?Yn:dt}}else if(oe==="x"&&(fn.includes("left")||fn.includes("right")))if(fn.includes("left")&&Nt<0||fn.includes("right")&&Nt>0)Nn.x=Nt;else{const Yn=Nt*$a(Nt);Nn.x=Math.abs(Yn)<Math.abs(Nt)?Yn:Nt}(Math.abs(Nn.x)>0||Math.abs(Nn.y)>0)&&Be(!0),(ct=Xe.current)==null||ct.style.setProperty("--swipe-amount-x",`${Nn.x}px`),(ut=Xe.current)==null||ut.style.setProperty("--swipe-amount-y",`${Nn.y}px`)}},yn&&!v.jsx&&$e!=="loading"?I.createElement("button",{"aria-label":$,"data-disabled":He,"data-close-button":!0,onClick:He||!xe?()=>{}:()=>{ge(),v.onDismiss==null||v.onDismiss.call(v,v)},className:Lr(R?.closeButton,v==null||(s=v.classNames)==null?void 0:s.closeButton)},(Se=L?.close)!=null?Se:nT):null,($e||v.icon||v.promise)&&v.icon!==null&&(L?.[$e]!==null||v.icon)?I.createElement("div",{"data-icon":"",className:Lr(R?.icon,v==null||(i=v.classNames)==null?void 0:i.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||be():null,v.type!=="loading"?Ne:null):null,I.createElement("div",{"data-content":"",className:Lr(R?.content,v==null||(l=v.classNames)==null?void 0:l.content)},I.createElement("div",{"data-title":"",className:Lr(R?.title,v==null||(d=v.classNames)==null?void 0:d.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?I.createElement("div",{"data-description":"",className:Lr(Q,Zt,R?.description,v==null||(f=v.classNames)==null?void 0:f.description)},typeof v.description=="function"?v.description():v.description):null),I.isValidElement(v.cancel)?v.cancel:v.cancel&&Bu(v.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||U,onClick:_e=>{Bu(v.cancel)&&xe&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,_e),ge())},className:Lr(R?.cancelButton,v==null||(h=v.classNames)==null?void 0:h.cancelButton)},v.cancel.label):null,I.isValidElement(v.action)?v.action:v.action&&Bu(v.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||F,onClick:_e=>{Bu(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,_e),!_e.defaultPrevented&&ge())},className:Lr(R?.actionButton,v==null||(m=v.classNames)==null?void 0:m.actionButton)},v.action.label):null)};function s0(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function bT(t,n){const r={};return[t,n].forEach((s,i)=>{const l=i===1,d=l?"--mobile-offset":"--offset",f=l?fT:dT;function h(m){["top","right","bottom","left"].forEach(y=>{r[`${d}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof s=="number"||typeof s=="string"?h(s):typeof s=="object"?["top","right","bottom","left"].forEach(m=>{s[m]===void 0?r[`${d}-${m}`]=f:r[`${d}-${m}`]=typeof s[m]=="number"?`${s[m]}px`:s[m]}):h(f)}),r}const wT=I.forwardRef(function(n,r){const{id:s,invert:i,position:l="bottom-right",hotkey:d=["altKey","KeyT"],expand:f,closeButton:h,className:m,offset:y,mobileOffset:v,theme:w="light",richColors:j,duration:N,style:_,visibleToasts:S=uT,toastOptions:E,dir:C=s0(),gap:T=mT,icons:D,containerAriaLabel:M="Notifications"}=n,[k,A]=I.useState([]),U=I.useMemo(()=>s?k.filter(q=>q.toasterId===s):k.filter(q=>!q.toasterId),[k,s]),F=I.useMemo(()=>Array.from(new Set([l].concat(U.filter(q=>q.position).map(q=>q.position)))),[U,l]),[V,Q]=I.useState([]),[re,J]=I.useState(!1),[le,fe]=I.useState(!1),[R,L]=I.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=I.useRef(null),oe=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),me=I.useRef(null),z=I.useRef(!1),X=I.useCallback(q=>{A(ne=>{var he;return(he=ne.find(ye=>ye.id===q.id))!=null&&he.delete||qn.dismiss(q.id),ne.filter(({id:ye})=>ye!==q.id)})},[]);return I.useEffect(()=>qn.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{A(ne=>ne.map(he=>he.id===q.id?{...he,delete:!0}:he))});return}setTimeout(()=>{ex.flushSync(()=>{A(ne=>{const he=ne.findIndex(ye=>ye.id===q.id);return he!==-1?[...ne.slice(0,he),{...ne[he],...q},...ne.slice(he+1)]:[q,...ne]})})})}),[k]),I.useEffect(()=>{if(w!=="system"){L(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:ne})=>{L(ne?"dark":"light")})}catch{q.addListener(({matches:he})=>{try{L(he?"dark":"light")}catch(ye){console.error(ye)}})}},[w]),I.useEffect(()=>{k.length<=1&&J(!1)},[k]),I.useEffect(()=>{const q=ne=>{var he;if(d.every(ve=>ne[ve]||ne.code===ve)){var se;J(!0),(se=$.current)==null||se.focus()}ne.code==="Escape"&&(document.activeElement===$.current||(he=$.current)!=null&&he.contains(document.activeElement))&&J(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[d]),I.useEffect(()=>{if($.current)return()=>{me.current&&(me.current.focus({preventScroll:!0}),me.current=null,z.current=!1)}},[$.current]),I.createElement("section",{ref:r,"aria-label":`${M} ${oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((q,ne)=>{var he;const[ye,se]=q.split("-");return U.length?I.createElement("ol",{key:q,dir:C==="auto"?s0():C,tabIndex:-1,ref:$,className:m,"data-sonner-toaster":!0,"data-sonner-theme":R,"data-y-position":ye,"data-x-position":se,style:{"--front-toast-height":`${((he=V[0])==null?void 0:he.height)||0}px`,"--width":`${hT}px`,"--gap":`${T}px`,..._,...bT(y,v)},onBlur:ve=>{z.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(z.current=!1,me.current&&(me.current.focus({preventScroll:!0}),me.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||z.current||(z.current=!0,me.current=ve.relatedTarget)},onMouseEnter:()=>J(!0),onMouseMove:()=>J(!0),onMouseLeave:()=>{le||J(!1)},onDragEnd:()=>J(!1),onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||fe(!0)},onPointerUp:()=>fe(!1)},U.filter(ve=>!ve.position&&ne===0||ve.position===q).map((ve,Ee)=>{var Pe,Me;return I.createElement(yT,{key:ve.id,icons:D,index:Ee,toast:ve,defaultRichColors:j,duration:(Pe=E?.duration)!=null?Pe:N,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(Me=E?.closeButton)!=null?Me:h,interacting:le,position:q,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,closeButtonAriaLabel:E?.closeButtonAriaLabel,removeToast:X,toasts:U.filter(Be=>Be.position==ve.position),heights:V.filter(Be=>Be.position==ve.position),setHeights:Q,expandByDefault:f,gap:T,expanded:re,swipeDirections:n.swipeDirections})})):null}))});function o0(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function tx(...t){return n=>{let r=!1;const s=t.map(i=>{const l=o0(i,n);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let i=0;i<s.length;i++){const l=s[i];typeof l=="function"?l():o0(t[i],null)}}}}function pt(...t){return b.useCallback(tx(...t),t)}function uo(t){const n=ST(t),r=b.forwardRef((s,i)=>{const{children:l,...d}=s,f=b.Children.toArray(l),h=f.find(_T);if(h){const m=h.props.children,y=f.map(v=>v===h?b.Children.count(m)>1?b.Children.only(null):b.isValidElement(m)?m.props.children:null:v);return u.jsx(n,{...d,ref:i,children:b.isValidElement(m)?b.cloneElement(m,void 0,y):null})}return u.jsx(n,{...d,ref:i,children:l})});return r.displayName=`${t}.Slot`,r}var xT=uo("Slot");function ST(t){const n=b.forwardRef((r,s)=>{const{children:i,...l}=r;if(b.isValidElement(i)){const d=NT(i),f=ET(l,i.props);return i.type!==b.Fragment&&(f.ref=s?tx(s,d):d),b.cloneElement(i,f)}return b.Children.count(i)>1?b.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var jT=Symbol("radix.slottable");function _T(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jT}function ET(t,n){const r={...n};for(const s in n){const i=t[s],l=n[s];/^on[A-Z]/.test(s)?i&&l?r[s]=(...f)=>{const h=l(...f);return i(...f),h}:i&&(r[s]=i):s==="style"?r[s]={...i,...l}:s==="className"&&(r[s]=[i,l].filter(Boolean).join(" "))}return{...t,...r}}function NT(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function nx(t){var n,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(r=nx(t[n]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function rx(){for(var t,n,r=0,s="",i=arguments.length;r<i;r++)(t=arguments[r])&&(n=nx(t))&&(s&&(s+=" "),s+=n);return s}const i0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,l0=rx,Ed=(t,n)=>r=>{var s;if(n?.variants==null)return l0(t,r?.class,r?.className);const{variants:i,defaultVariants:l}=n,d=Object.keys(i).map(m=>{const y=r?.[m],v=l?.[m];if(y===null)return null;const w=i0(y)||i0(v);return i[m][w]}),f=r&&Object.entries(r).reduce((m,y)=>{let[v,w]=y;return w===void 0||(m[v]=w),m},{}),h=n==null||(s=n.compoundVariants)===null||s===void 0?void 0:s.reduce((m,y)=>{let{class:v,className:w,...j}=y;return Object.entries(j).every(N=>{let[_,S]=N;return Array.isArray(S)?S.includes({...l,...f}[_]):{...l,...f}[_]===S})?[...m,v,w]:m},[]);return l0(t,d,h,r?.class,r?.className)},Ap="-",CT=t=>{const n=OT(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:d=>{const f=d.split(Ap);return f[0]===""&&f.length!==1&&f.shift(),ax(f,n)||TT(d)},getConflictingClassGroupIds:(d,f)=>{const h=r[d]||[];return f&&s[d]?[...h,...s[d]]:h}}},ax=(t,n)=>{if(t.length===0)return n.classGroupId;const r=t[0],s=n.nextPart.get(r),i=s?ax(t.slice(1),s):void 0;if(i)return i;if(n.validators.length===0)return;const l=t.join(Ap);return n.validators.find(({validator:d})=>d(l))?.classGroupId},c0=/^\[(.+)\]$/,TT=t=>{if(c0.test(t)){const n=c0.exec(t)[1],r=n?.substring(0,n.indexOf(":"));if(r)return"arbitrary.."+r}},OT=t=>{const{theme:n,classGroups:r}=t,s={nextPart:new Map,validators:[]};for(const i in r)qm(r[i],s,i,n);return s},qm=(t,n,r,s)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?n:u0(n,i);l.classGroupId=r;return}if(typeof i=="function"){if(AT(i)){qm(i(s),n,r,s);return}n.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([l,d])=>{qm(d,u0(n,l),r,s)})})},u0=(t,n)=>{let r=t;return n.split(Ap).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},AT=t=>t.isThemeGetter,DT=t=>{if(t<1)return{get:()=>{},set:()=>{}};let n=0,r=new Map,s=new Map;const i=(l,d)=>{r.set(l,d),n++,n>t&&(n=0,s=r,r=new Map)};return{get(l){let d=r.get(l);if(d!==void 0)return d;if((d=s.get(l))!==void 0)return i(l,d),d},set(l,d){r.has(l)?r.set(l,d):i(l,d)}}},Ym="!",Vm=":",kT=Vm.length,RT=t=>{const{prefix:n,experimentalParseClassName:r}=t;let s=i=>{const l=[];let d=0,f=0,h=0,m;for(let N=0;N<i.length;N++){let _=i[N];if(d===0&&f===0){if(_===Vm){l.push(i.slice(h,N)),h=N+kT;continue}if(_==="/"){m=N;continue}}_==="["?d++:_==="]"?d--:_==="("?f++:_===")"&&f--}const y=l.length===0?i:i.substring(h),v=MT(y),w=v!==y,j=m&&m>h?m-h:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:j}};if(n){const i=n+Vm,l=s;s=d=>d.startsWith(i)?l(d.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(r){const i=s;s=l=>r({className:l,parseClassName:i})}return s},MT=t=>t.endsWith(Ym)?t.substring(0,t.length-1):t.startsWith(Ym)?t.substring(1):t,zT=t=>{const n=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let l=[];return s.forEach(d=>{d[0]==="["||n[d]?(i.push(...l.sort(),d),l=[]):l.push(d)}),i.push(...l.sort()),i}},UT=t=>({cache:DT(t.cacheSize),parseClassName:RT(t),sortModifiers:zT(t),...CT(t)}),PT=/\s+/,IT=(t,n)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:l}=n,d=[],f=t.trim().split(PT);let h="";for(let m=f.length-1;m>=0;m-=1){const y=f[m],{isExternal:v,modifiers:w,hasImportantModifier:j,baseClassName:N,maybePostfixModifierPosition:_}=r(y);if(v){h=y+(h.length>0?" "+h:h);continue}let S=!!_,E=s(S?N.substring(0,_):N);if(!E){if(!S){h=y+(h.length>0?" "+h:h);continue}if(E=s(N),!E){h=y+(h.length>0?" "+h:h);continue}S=!1}const C=l(w).join(":"),T=j?C+Ym:C,D=T+E;if(d.includes(D))continue;d.push(D);const M=i(E,S);for(let k=0;k<M.length;++k){const A=M[k];d.push(T+A)}h=y+(h.length>0?" "+h:h)}return h};function LT(){let t=0,n,r,s="";for(;t<arguments.length;)(n=arguments[t++])&&(r=sx(n))&&(s&&(s+=" "),s+=r);return s}const sx=t=>{if(typeof t=="string")return t;let n,r="";for(let s=0;s<t.length;s++)t[s]&&(n=sx(t[s]))&&(r&&(r+=" "),r+=n);return r};function BT(t,...n){let r,s,i,l=d;function d(h){const m=n.reduce((y,v)=>v(y),t());return r=UT(m),s=r.cache.get,i=r.cache.set,l=f,f(h)}function f(h){const m=s(h);if(m)return m;const y=IT(h,r);return i(h,y),y}return function(){return l(LT.apply(null,arguments))}}const pn=t=>{const n=r=>r[t]||[];return n.isThemeGetter=!0,n},ox=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ix=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$T=/^\d+\/\d+$/,HT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,qT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zo=t=>$T.test(t),nt=t=>!!t&&!Number.isNaN(Number(t)),vs=t=>!!t&&Number.isInteger(Number(t)),mm=t=>t.endsWith("%")&&nt(t.slice(0,-1)),Na=t=>HT.test(t),VT=()=>!0,GT=t=>WT.test(t)&&!FT.test(t),lx=()=>!1,KT=t=>qT.test(t),XT=t=>YT.test(t),QT=t=>!Te(t)&&!Oe(t),ZT=t=>Ti(t,dx,lx),Te=t=>ox.test(t),Js=t=>Ti(t,fx,GT),pm=t=>Ti(t,rO,nt),d0=t=>Ti(t,cx,lx),JT=t=>Ti(t,ux,XT),$u=t=>Ti(t,hx,KT),Oe=t=>ix.test(t),Pl=t=>Oi(t,fx),eO=t=>Oi(t,aO),f0=t=>Oi(t,cx),tO=t=>Oi(t,dx),nO=t=>Oi(t,ux),Hu=t=>Oi(t,hx,!0),Ti=(t,n,r)=>{const s=ox.exec(t);return s?s[1]?n(s[1]):r(s[2]):!1},Oi=(t,n,r=!1)=>{const s=ix.exec(t);return s?s[1]?n(s[1]):r:!1},cx=t=>t==="position"||t==="percentage",ux=t=>t==="image"||t==="url",dx=t=>t==="length"||t==="size"||t==="bg-size",fx=t=>t==="length",rO=t=>t==="number",aO=t=>t==="family-name",hx=t=>t==="shadow",sO=()=>{const t=pn("color"),n=pn("font"),r=pn("text"),s=pn("font-weight"),i=pn("tracking"),l=pn("leading"),d=pn("breakpoint"),f=pn("container"),h=pn("spacing"),m=pn("radius"),y=pn("shadow"),v=pn("inset-shadow"),w=pn("text-shadow"),j=pn("drop-shadow"),N=pn("blur"),_=pn("perspective"),S=pn("aspect"),E=pn("ease"),C=pn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...D(),Oe,Te],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],U=()=>[Oe,Te,h],F=()=>[Zo,"full","auto",...U()],V=()=>[vs,"none","subgrid",Oe,Te],Q=()=>["auto",{span:["full",vs,Oe,Te]},vs,Oe,Te],re=()=>[vs,"auto",Oe,Te],J=()=>["auto","min","max","fr",Oe,Te],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],fe=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...U()],L=()=>[Zo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],$=()=>[t,Oe,Te],oe=()=>[...D(),f0,d0,{position:[Oe,Te]}],me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",tO,ZT,{size:[Oe,Te]}],X=()=>[mm,Pl,Js],q=()=>["","none","full",m,Oe,Te],ne=()=>["",nt,Pl,Js],he=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[nt,mm,f0,d0],ve=()=>["","none",N,Oe,Te],Ee=()=>["none",nt,Oe,Te],Pe=()=>["none",nt,Oe,Te],Me=()=>[nt,Oe,Te],Be=()=>[Zo,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Na],breakpoint:[Na],color:[VT],container:[Na],"drop-shadow":[Na],ease:["in","out","in-out"],font:[QT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Na],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Na],shadow:[Na],spacing:["px",nt],text:[Na],"text-shadow":[Na],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zo,Te,Oe,S]}],container:["container"],columns:[{columns:[nt,Te,Oe,f]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[vs,"auto",Oe,Te]}],basis:[{basis:[Zo,"full","auto",f,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nt,Zo,"auto","initial","none",Te]}],grow:[{grow:["",nt,Oe,Te]}],shrink:[{shrink:["",nt,Oe,Te]}],order:[{order:[vs,"first","last","none",Oe,Te]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:Q()}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:Q()}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...fe(),"normal"]}],"justify-self":[{"justify-self":["auto",...fe()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...fe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...fe(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...fe(),"baseline"]}],"place-self":[{"place-self":["auto",...fe()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[f,"screen",...L()]}],"min-w":[{"min-w":[f,"screen","none",...L()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[d]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",r,Pl,Js]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Oe,pm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mm,Te]}],"font-family":[{font:[eO,Te,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Oe,Te]}],"line-clamp":[{"line-clamp":[nt,"none",Oe,pm]}],leading:[{leading:[l,...U()]}],"list-image":[{"list-image":["none",Oe,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Oe,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[nt,"from-font","auto",Oe,Js]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[nt,"auto",Oe,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:me()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vs,Oe,Te],radial:["",Oe,Te],conic:[vs,Oe,Te]},nO,JT]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nt,Oe,Te]}],"outline-w":[{outline:["",nt,Pl,Js]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",y,Hu,$u]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",v,Hu,$u]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[nt,Js]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",w,Hu,$u]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[nt,Oe,Te]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[nt]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Oe,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[nt]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:me()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Oe,Te]}],filter:[{filter:["","none",Oe,Te]}],blur:[{blur:ve()}],brightness:[{brightness:[nt,Oe,Te]}],contrast:[{contrast:[nt,Oe,Te]}],"drop-shadow":[{"drop-shadow":["","none",j,Hu,$u]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",nt,Oe,Te]}],"hue-rotate":[{"hue-rotate":[nt,Oe,Te]}],invert:[{invert:["",nt,Oe,Te]}],saturate:[{saturate:[nt,Oe,Te]}],sepia:[{sepia:["",nt,Oe,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Oe,Te]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[nt,Oe,Te]}],"backdrop-contrast":[{"backdrop-contrast":[nt,Oe,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nt,Oe,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nt,Oe,Te]}],"backdrop-invert":[{"backdrop-invert":["",nt,Oe,Te]}],"backdrop-opacity":[{"backdrop-opacity":[nt,Oe,Te]}],"backdrop-saturate":[{"backdrop-saturate":[nt,Oe,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",nt,Oe,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Oe,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nt,"initial",Oe,Te]}],ease:[{ease:["linear","initial",E,Oe,Te]}],delay:[{delay:[nt,Oe,Te]}],animate:[{animate:["none",C,Oe,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Oe,Te]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:Me()}],"skew-x":[{"skew-x":Me()}],"skew-y":[{"skew-y":Me()}],transform:[{transform:[Oe,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Be()}],"translate-x":[{"translate-x":Be()}],"translate-y":[{"translate-y":Be()}],"translate-z":[{"translate-z":Be()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe,Te]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[nt,Pl,Js,pm]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},oO=BT(sO);function je(...t){return oO(rx(t))}const Gm=Ed("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=b.forwardRef(({className:t,variant:n,size:r,asChild:s=!1,...i},l)=>{const d=s?xT:"button";return u.jsx(d,{className:je(Gm({variant:n,size:r,className:t})),ref:l,...i})});de.displayName="Button";const Dt=b.forwardRef(({className:t,type:n,...r},s)=>u.jsx("input",{type:n,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r}));Dt.displayName="Input";var iO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=iO.reduce((t,n)=>{const r=uo(`Primitive.${n}`),s=b.forwardRef((i,l)=>{const{asChild:d,...f}=i,h=d?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(h,{...f,ref:l})});return s.displayName=`Primitive.${n}`,{...t,[n]:s}},{});function lO(t,n){t&&rc.flushSync(()=>t.dispatchEvent(n))}var cO="Label",mx=b.forwardRef((t,n)=>u.jsx(Qe.label,{...t,ref:n,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));mx.displayName=cO;var px=mx;const uO=Ed("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pt=b.forwardRef(({className:t,...n},r)=>u.jsx(px,{ref:r,className:je(uO(),t),...n}));Pt.displayName=px.displayName;const dO="modulepreload",fO=function(t){return"/"+t},h0={},ac=function(n,r,s){let i=Promise.resolve();if(r&&r.length>0){let m=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var d=m;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");i=m(r.map(y=>{if(y=fO(y),y in h0)return;h0[y]=!0;const v=y.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${w}`))return;const j=document.createElement("link");if(j.rel=v?"stylesheet":dO,v||(j.as="script"),j.crossOrigin="",j.href=y,h&&j.setAttribute("nonce",h),document.head.appendChild(j),v)return new Promise((N,_)=>{j.addEventListener("load",N),j.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return i.then(f=>{for(const h of f||[])h.status==="rejected"&&l(h.reason);return n().catch(l)})},hO=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...r)=>ac(async()=>{const{default:s}=await Promise.resolve().then(()=>Ai);return{default:s}},[]).then(({default:s})=>s(...r)):n=fetch,(...r)=>n(...r)};class Dp extends Error{constructor(n,r="FunctionsError",s){super(n),this.name=r,this.context=s}}class m0 extends Dp{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class p0 extends Dp{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class g0 extends Dp{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Km;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Km||(Km={}));var mO=function(t,n,r,s){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function f(y){try{m(s.next(y))}catch(v){d(v)}}function h(y){try{m(s.throw(y))}catch(v){d(v)}}function m(y){y.done?l(y.value):i(y.value).then(f,h)}m((s=s.apply(t,n||[])).next())})};class pO{constructor(n,{headers:r={},customFetch:s,region:i=Km.Any}={}){this.url=n,this.headers=r,this.region=i,this.fetch=hO(s)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return mO(this,arguments,void 0,function*(r,s={}){var i;try{const{headers:l,method:d,body:f,signal:h}=s;let m={},{region:y}=s;y||(y=this.region);const v=new URL(`${this.url}/${r}`);y&&y!=="any"&&(m["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let w;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(m["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(m["Content-Type"]="application/json",w=JSON.stringify(f)));const j=yield this.fetch(v.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:w,signal:h}).catch(E=>{throw E.name==="AbortError"?E:new m0(E)}),N=j.headers.get("x-relay-error");if(N&&N==="true")throw new p0(j);if(!j.ok)throw new g0(j);let _=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return _==="application/json"?S=yield j.json():_==="application/octet-stream"?S=yield j.blob():_==="text/event-stream"?S=j:_==="multipart/form-data"?S=yield j.formData():S=yield j.text(),{data:S,error:null,response:j}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new m0(l)}:{data:null,error:l,response:l instanceof g0||l instanceof p0?l.context:void 0}}})}}var wn={},Jo={},ei={},ti={},ni={},ri={},gO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wi=gO();const vO=wi.fetch,gx=wi.fetch.bind(wi),vx=wi.Headers,yO=wi.Request,bO=wi.Response,Ai=Object.freeze(Object.defineProperty({__proto__:null,Headers:vx,Request:yO,Response:bO,default:gx,fetch:vO},Symbol.toStringTag,{value:"Module"})),wO=mN(Ai);var Wu={},v0;function yx(){if(v0)return Wu;v0=1,Object.defineProperty(Wu,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Wu.default=t,Wu}var y0;function bx(){if(y0)return ri;y0=1;var t=ri&&ri.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ri,"__esModule",{value:!0});const n=t(wO),r=t(yx());class s{constructor(l){var d,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(d=l.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,d){return this.headers=new Headers(this.headers),this.headers.set(l,d),this}then(l,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,v,w,j;let N=null,_=null,S=null,E=m.status,C=m.statusText;if(m.ok){if(this.method!=="HEAD"){const k=await m.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?_=k:_=JSON.parse(k))}const D=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),M=(w=m.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");D&&M&&M.length>1&&(S=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(N={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,E=406,C="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const D=await m.text();try{N=JSON.parse(D),Array.isArray(N)&&m.status===404&&(_=[],N=null,E=200,C="OK")}catch{m.status===404&&D===""?(E=204,C="No Content"):N={message:D}}if(N&&this.isMaybeSingle&&(!((j=N?.details)===null||j===void 0)&&j.includes("0 rows"))&&(N=null,E=200,C="OK"),N&&this.shouldThrowOnError)throw new r.default(N)}return{error:N,data:_,count:S,status:E,statusText:C}});return this.shouldThrowOnError||(h=h.catch(m=>{var y,v,w;return{error:{message:`${(y=m?.name)!==null&&y!==void 0?y:"FetchError"}: ${m?.message}`,details:`${(v=m?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=m?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,d)}returns(){return this}overrideTypes(){return this}}return ri.default=s,ri}var b0;function wx(){if(b0)return ni;b0=1;var t=ni&&ni.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ni,"__esModule",{value:!0});const n=t(bx());class r extends n.default{select(i){let l=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:d,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${i}.${l?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:d=l}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,l,{foreignTable:d,referencedTable:f=d}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:d=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var y;const v=[i?"analyze":null,l?"verbose":null,d?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${w}"; options=${v};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return ni.default=r,ni}var w0;function kp(){if(w0)return ti;w0=1;var t=ti&&ti.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ti,"__esModule",{value:!0});const n=t(wx());class r extends n.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const d=Array.from(new Set(l)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(i,`in.(${d})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:d,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const m=d===void 0?"":`(${d})`;return this.url.searchParams.append(i,`${h}fts${m}.${l}`),this}match(i){return Object.entries(i).forEach(([l,d])=>{this.url.searchParams.append(l,`eq.${d}`)}),this}not(i,l,d){return this.url.searchParams.append(i,`not.${l}.${d}`),this}or(i,{foreignTable:l,referencedTable:d=l}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${i})`),this}filter(i,l,d){return this.url.searchParams.append(i,`${l}.${d}`),this}}return ti.default=r,ti}var x0;function xx(){if(x0)return ei;x0=1;var t=ei&&ei.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ei,"__esModule",{value:!0});const n=t(kp());class r{constructor(i,{headers:l={},schema:d,fetch:f}){this.url=i,this.headers=new Headers(l),this.schema=d,this.fetch=f}select(i,l){const{head:d=!1,count:f}=l??{},h=d?"HEAD":"GET";let m=!1;const y=(i??"*").split("").map(v=>/\s/.test(v)&&!m?"":(v==='"'&&(m=!m),v)).join("");return this.url.searchParams.set("select",y),f&&this.headers.append("Prefer",`count=${f}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:d=!0}={}){var f;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:d=!1,count:f,defaultToNull:h=!0}={}){var m;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((w,j)=>w.concat(Object.keys(j)),[]);if(v.length>0){const w=[...new Set(v)].map(j=>`"${j}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var d;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:i}={}){var l;const d="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return ei.default=r,ei}var S0;function xO(){if(S0)return Jo;S0=1;var t=Jo&&Jo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Jo,"__esModule",{value:!0});const n=t(xx()),r=t(kp());class s{constructor(l,{headers:d={},schema:f,fetch:h}={}){this.url=l,this.headers=new Headers(d),this.schemaName=f,this.fetch=h}from(l){const d=new URL(`${this.url}/${l}`);return new n.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,d={},{head:f=!1,get:h=!1,count:m}={}){var y;let v;const w=new URL(`${this.url}/rpc/${l}`);let j;f||h?(v=f?"HEAD":"GET",Object.entries(d).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{w.searchParams.append(_,S)})):(v="POST",j=d);const N=new Headers(this.headers);return m&&N.set("Prefer",`count=${m}`),new r.default({method:v,url:w,headers:N,schema:this.schemaName,body:j,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Jo.default=s,Jo}var j0;function SO(){if(j0)return wn;j0=1;var t=wn&&wn.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(wn,"__esModule",{value:!0}),wn.PostgrestError=wn.PostgrestBuilder=wn.PostgrestTransformBuilder=wn.PostgrestFilterBuilder=wn.PostgrestQueryBuilder=wn.PostgrestClient=void 0;const n=t(xO());wn.PostgrestClient=n.default;const r=t(xx());wn.PostgrestQueryBuilder=r.default;const s=t(kp());wn.PostgrestFilterBuilder=s.default;const i=t(wx());wn.PostgrestTransformBuilder=i.default;const l=t(bx());wn.PostgrestBuilder=l.default;const d=t(yx());return wn.PostgrestError=d.default,wn.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:d.default},wn}var jO=SO();const _O=Sd(jO),{PostgrestClient:EO,PostgrestQueryBuilder:zU,PostgrestFilterBuilder:UU,PostgrestTransformBuilder:PU,PostgrestBuilder:IU,PostgrestError:LU}=_O;class NO{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const s=this.getWebSocketConstructor();return new s(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const CO="2.75.0",TO=`realtime-js/${CO}`,OO="1.0.0",Xm=1e4,AO=1e3,DO=100;var Fl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Fl||(Fl={}));var gn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gn||(gn={}));var Tr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Tr||(Tr={}));var Qm;(function(t){t.websocket="websocket"})(Qm||(Qm={}));var so;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(so||(so={}));class kO{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),s=new TextDecoder;return this._decodeBroadcast(n,r,s)}_decodeBroadcast(n,r,s){const i=r.getUint8(1),l=r.getUint8(2);let d=this.HEADER_LENGTH+2;const f=s.decode(n.slice(d,d+i));d=d+i;const h=s.decode(n.slice(d,d+l));d=d+l;const m=JSON.parse(s.decode(n.slice(d,n.byteLength)));return{ref:null,topic:f,event:h,payload:m}}}class Sx{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var At;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(At||(At={}));const _0=(t,n,r={})=>{var s;const i=(s=r.skipTypes)!==null&&s!==void 0?s:[];return n?Object.keys(n).reduce((l,d)=>(l[d]=RO(d,t,n,i),l),{}):{}},RO=(t,n,r,s)=>{const i=n.find(f=>f.name===t),l=i?.type,d=r[t];return l&&!s.includes(l)?jx(l,d):Zm(d)},jx=(t,n)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return PO(n,r)}switch(t){case At.bool:return MO(n);case At.float4:case At.float8:case At.int2:case At.int4:case At.int8:case At.numeric:case At.oid:return zO(n);case At.json:case At.jsonb:return UO(n);case At.timestamp:return IO(n);case At.abstime:case At.date:case At.daterange:case At.int4range:case At.int8range:case At.money:case At.reltime:case At.text:case At.time:case At.timestamptz:case At.timetz:case At.tsrange:case At.tstzrange:return Zm(n);default:return Zm(n)}},Zm=t=>t,MO=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},zO=t=>{if(typeof t=="string"){const n=parseFloat(t);if(!Number.isNaN(n))return n}return t},UO=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},PO=(t,n)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let l;const d=t.slice(1,r);try{l=JSON.parse("["+d+"]")}catch{l=d?d.split(","):[]}return l.map(f=>jx(n,f))}return t},IO=t=>typeof t=="string"?t.replace(" ","T"):t,_x=t=>{let n=t;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class gm{constructor(n,r,s={},i=Xm){this.channel=n,this.event=r,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var s;return this._hasReceived(n)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(s=>s.status===n).forEach(s=>s.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var E0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(E0||(E0={}));class ql{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:l,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ql.syncState(this.state,i,l,d),this.pendingDiffs.forEach(h=>{this.state=ql.syncDiff(this.state,h,l,d)}),this.pendingDiffs=[],f()}),this.channel._on(s.diff,{},i=>{const{onJoin:l,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ql.syncDiff(this.state,i,l,d),f())}),this.onJoin((i,l,d)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:d})}),this.onLeave((i,l,d)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,s,i){const l=this.cloneDeep(n),d=this.transformState(r),f={},h={};return this.map(l,(m,y)=>{d[m]||(h[m]=y)}),this.map(d,(m,y)=>{const v=l[m];if(v){const w=y.map(S=>S.presence_ref),j=v.map(S=>S.presence_ref),N=y.filter(S=>j.indexOf(S.presence_ref)<0),_=v.filter(S=>w.indexOf(S.presence_ref)<0);N.length>0&&(f[m]=N),_.length>0&&(h[m]=_)}else f[m]=y}),this.syncDiff(l,{joins:f,leaves:h},s,i)}static syncDiff(n,r,s,i){const{joins:l,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(l,(f,h)=>{var m;const y=(m=n[f])!==null&&m!==void 0?m:[];if(n[f]=this.cloneDeep(h),y.length>0){const v=n[f].map(j=>j.presence_ref),w=y.filter(j=>v.indexOf(j.presence_ref)<0);n[f].unshift(...w)}s(f,y,h)}),this.map(d,(f,h)=>{let m=n[f];if(!m)return;const y=h.map(v=>v.presence_ref);m=m.filter(v=>y.indexOf(v.presence_ref)<0),n[f]=m,i(f,m,h),m.length===0&&delete n[f]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(s=>r(s,n[s]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,s)=>{const i=n[s];return"metas"in i?r[s]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[s]=i,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var N0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(N0||(N0={}));var Yl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Yl||(Yl={}));var Ta;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ta||(Ta={}));class Rp{constructor(n,r={config:{}},s){var i,l;if(this.topic=n,this.params=r,this.socket=s,this.bindings={},this.state=gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gm(this,Tr.join,this.params,this.timeout),this.rejoinTimer=new Sx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gn.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tr.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new ql(this),this.broadcastEndpointURL=_x(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var s,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==gn.closed){const{config:{broadcast:d,presence:f,private:h}}=this.params,m=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(j=>j.filter))!==null&&i!==void 0?i:[],y=!!this.bindings[Yl.PRESENCE]&&this.bindings[Yl.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(j=>n?.(Ta.CHANNEL_ERROR,j)),this._onClose(()=>n?.(Ta.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:j})=>{var N;if(this.socket.setAuth(),j===void 0){n?.(Ta.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(N=_?.length)!==null&&N!==void 0?N:0,E=[];for(let C=0;C<S;C++){const T=_[C],{filter:{event:D,schema:M,table:k,filter:A}}=T,U=j&&j[C];if(U&&U.event===D&&U.schema===M&&U.table===k&&U.filter===A)E.push(Object.assign(Object.assign({},T),{id:U.id}));else{this.unsubscribe(),this.state=gn.errored,n?.(Ta.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,n&&n(Ta.SUBSCRIBED);return}}).receive("error",j=>{this.state=gn.errored,n?.(Ta.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{n?.(Ta.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,s){return this.state===gn.joined&&n===Yl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,r,s)}async send(n,r={}){var s,i;if(!this._canPush()&&n.type==="broadcast"){const{event:l,payload:d}=n,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var d,f,h;const m=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((h=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=gn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new gm(this,Tr.leave,{},n),s.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gn.closed,this.bindings={}}async _fetchWithTimeout(n,r,s){const i=new AbortController,l=setTimeout(()=>i.abort(),s),d=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),d}_push(n,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new gm(this,n,r,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>DO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,s){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,s){var i,l;const d=n.toLocaleLowerCase(),{close:f,error:h,leave:m,join:y}=Tr;if(s&&[f,h,m,y].indexOf(d)>=0&&s!==this._joinRef())return;let w=this._onMessage(d,r,s);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(j=>{var N,_,S;return((N=j.filter)===null||N===void 0?void 0:N.event)==="*"||((S=(_=j.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===d}).map(j=>j.callback(w,s)):(l=this.bindings[d])===null||l===void 0||l.filter(j=>{var N,_,S,E,C,T;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in j){const D=j.id,M=(N=j.filter)===null||N===void 0?void 0:N.event;return D&&((_=r.ids)===null||_===void 0?void 0:_.includes(D))&&(M==="*"||M?.toLocaleLowerCase()===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const D=(C=(E=j?.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return D==="*"||D===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===d}).map(j=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:_,table:S,commit_timestamp:E,type:C,errors:T}=N;w=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:E,eventType:C,new:{},old:{},errors:T}),this._getPayloadRecords(N))}j.callback(w,s)})}_isClosed(){return this.state===gn.closed}_isJoined(){return this.state===gn.joined}_isJoining(){return this.state===gn.joining}_isLeaving(){return this.state===gn.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,s){const i=n.toLocaleLowerCase(),l={type:i,filter:r,callback:s};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(n,r){const s=n.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Rp.isEqual(i.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const s in n)if(n[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Tr.close,{},n)}_onError(n){this._on(Tr.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gn.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=_0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=_0(n.columns,n.old_record)),r}}const vm=()=>{},Fu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},LO=[1e3,2e3,5e3,1e4],BO=1e4,$O=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HO{constructor(n,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xm,this.transport=null,this.heartbeatIntervalMs=Fu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vm,this.ref=0,this.reconnectTimer=null,this.logger=vm,this.conn=null,this.sendBuffer=[],this.serializer=new kO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...d)=>ac(async()=>{const{default:f}=await Promise.resolve().then(()=>Ai);return{default:f}},void 0).then(({default:f})=>f(...d)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...d)=>l(...d)},!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Qm.websocket}`,this.httpEndpoint=_x(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=NO.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OO}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},n?this.conn.close(n,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,s){this.logger(n,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Fl.connecting:return so.Connecting;case Fl.open:return so.Open;case Fl.closing:return so.Closing;default:return so.Closed}}isConnected(){return this.connectionState()===so.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const s=`realtime:${n}`,i=this.getChannels().find(l=>l.topic===s);if(i)return i;{const l=new Rp(`realtime:${n}`,r,this);return this.channels.push(l),l}}push(n){const{topic:r,event:s,payload:i,ref:l}=n,d=()=>{this.encode(n,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${s} (${l})`,i),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(AO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(s=>s.topic===n&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:l,ref:d}=r,f=d?`(${d})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${i} ${f}`.trim(),l),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(i,l,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Tr.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const s=n.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${n}${s}${i}`}_workerObjectUrl(n){let r;if(n)r=n;else{const s=new Blob([$O],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r;n?r=n:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:TO};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Tr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(s=>{try{s(r)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(s){this.log("error",`error triggering ${n} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Sx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,s,i,l,d,f,h,m,y;if(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=n?.timeout)!==null&&s!==void 0?s:Xm,this.heartbeatIntervalMs=(i=n?.heartbeatIntervalMs)!==null&&i!==void 0?i:Fu.HEARTBEAT_INTERVAL,this.worker=(l=n?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(d=n?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=n?.heartbeatCallback)!==null&&f!==void 0?f:vm,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=n?.reconnectAfterMs)!==null&&h!==void 0?h:(v=>LO[v-1]||BO),this.encode=(m=n?.encode)!==null&&m!==void 0?m:((v,w)=>w(JSON.stringify(v))),this.decode=(y=n?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class Mp extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function sn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class WO extends Mp{constructor(n,r,s){super(n),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jm extends Mp{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}var FO=function(t,n,r,s){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function f(y){try{m(s.next(y))}catch(v){d(v)}}function h(y){try{m(s.throw(y))}catch(v){d(v)}}function m(y){y.done?l(y.value):i(y.value).then(f,h)}m((s=s.apply(t,n||[])).next())})};const Ex=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...r)=>ac(async()=>{const{default:s}=await Promise.resolve().then(()=>Ai);return{default:s}},void 0).then(({default:s})=>s(...r)):n=fetch,(...r)=>n(...r)},qO=()=>FO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ac(()=>Promise.resolve().then(()=>Ai),void 0)).Response:Response}),ep=t=>{if(Array.isArray(t))return t.map(r=>ep(r));if(typeof t=="function"||t!==Object(t))return t;const n={};return Object.entries(t).forEach(([r,s])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));n[i]=ep(s)}),n},YO=t=>{if(typeof t!="object"||t===null)return!1;const n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var yo=function(t,n,r,s){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function f(y){try{m(s.next(y))}catch(v){d(v)}}function h(y){try{m(s.throw(y))}catch(v){d(v)}}function m(y){y.done?l(y.value):i(y.value).then(f,h)}m((s=s.apply(t,n||[])).next())})};const ym=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),VO=(t,n,r)=>yo(void 0,void 0,void 0,function*(){const s=yield qO();t instanceof s&&!r?.noResolveJson?t.json().then(i=>{const l=t.status||500,d=i?.statusCode||l+"";n(new WO(ym(i),l,d))}).catch(i=>{n(new Jm(ym(i),i))}):n(new Jm(ym(t),t))}),GO=(t,n,r,s)=>{const i={method:t,headers:n?.headers||{}};return t==="GET"||!s?i:(YO(s)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(s)):i.body=s,n?.duplex&&(i.duplex=n.duplex),Object.assign(Object.assign({},i),r))};function sc(t,n,r,s,i,l){return yo(this,void 0,void 0,function*(){return new Promise((d,f)=>{t(r,GO(n,s,i,l)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>d(h)).catch(h=>VO(h,f,s))})})}function cd(t,n,r,s){return yo(this,void 0,void 0,function*(){return sc(t,"GET",n,r,s)})}function Br(t,n,r,s,i){return yo(this,void 0,void 0,function*(){return sc(t,"POST",n,s,i,r)})}function tp(t,n,r,s,i){return yo(this,void 0,void 0,function*(){return sc(t,"PUT",n,s,i,r)})}function KO(t,n,r,s){return yo(this,void 0,void 0,function*(){return sc(t,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Nx(t,n,r,s,i){return yo(this,void 0,void 0,function*(){return sc(t,"DELETE",n,s,i,r)})}var XO=function(t,n,r,s){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function f(y){try{m(s.next(y))}catch(v){d(v)}}function h(y){try{m(s.throw(y))}catch(v){d(v)}}function m(y){y.done?l(y.value):i(y.value).then(f,h)}m((s=s.apply(t,n||[])).next())})};class QO{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}then(n,r){return this.execute().then(n,r)}execute(){return XO(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}}var ZO=function(t,n,r,s){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function f(y){try{m(s.next(y))}catch(v){d(v)}}function h(y){try{m(s.throw(y))}catch(v){d(v)}}function m(y){y.done?l(y.value):i(y.value).then(f,h)}m((s=s.apply(t,n||[])).next())})};class JO{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}asStream(){return new QO(this.downloadFn,this.shouldThrowOnError)}then(n,r){return this.execute().then(n,r)}execute(){return ZO(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}}var Fn=function(t,n,r,s){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function f(y){try{m(s.next(y))}catch(v){d(v)}}function h(y){try{m(s.throw(y))}catch(v){d(v)}}function m(y){y.done?l(y.value):i(y.value).then(f,h)}m((s=s.apply(t,n||[])).next())})};const eA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},C0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tA{constructor(n,r={},s,i){this.shouldThrowOnError=!1,this.url=n,this.headers=r,this.bucketId=s,this.fetch=Ex(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,r,s,i){return Fn(this,void 0,void 0,function*(){try{let l;const d=Object.assign(Object.assign({},C0),i);let f=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const h=d.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",d.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=s,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const m=this._removeEmptyFolders(r),y=this._getFinalPath(m),v=yield(n=="PUT"?tp:Br)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(sn(l))return{data:null,error:l};throw l}})}upload(n,r,s){return Fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,s)})}uploadToSignedUrl(n,r,s,i){return Fn(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(n),d=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:C0.upsert},i),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",m.cacheControl)):(h=s,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const v=yield tp(this.fetch,f.toString(),h,{headers:y});return{data:{path:l,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(sn(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(n,r){return Fn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(n);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const l=yield Br(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),d=new URL(this.url+l.url),f=d.searchParams.get("token");if(!f)throw new Mp("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:f},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}})}update(n,r,s){return Fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,s)})}move(n,r,s){return Fn(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}copy(n,r,s){return Fn(this,void 0,void 0,function*(){try{return{data:{path:(yield Br(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}createSignedUrl(n,r,s){return Fn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),l=yield Br(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${d}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}createSignedUrls(n,r,s){return Fn(this,void 0,void 0,function*(){try{const i=yield Br(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}download(n,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),d=l?`?${l}`:"",f=this._getFinalPath(n),h=()=>cd(this.fetch,`${this.url}/${i}/${f}${d}`,{headers:this.headers,noResolveJson:!0});return new JO(h,this.shouldThrowOnError)}info(n){return Fn(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const s=yield cd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ep(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}})}exists(n){return Fn(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield KO(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s)&&s instanceof Jm){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(n,r){const s=this._getFinalPath(n),i=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&i.push(l);const f=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&i.push(h);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${s}${m}`)}}}remove(n){return Fn(this,void 0,void 0,function*(){try{return{data:yield Nx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}list(n,r,s){return Fn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},eA),r),{prefix:n||""});return{data:yield Br(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}listV2(n,r){return Fn(this,void 0,void 0,function*(){try{const s=Object.assign({},n);return{data:yield Br(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const nA="2.75.0",rA={"X-Client-Info":`storage-js/${nA}`};var ai=function(t,n,r,s){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function f(y){try{m(s.next(y))}catch(v){d(v)}}function h(y){try{m(s.throw(y))}catch(v){d(v)}}function m(y){y.done?l(y.value):i(y.value).then(f,h)}m((s=s.apply(t,n||[])).next())})};class aA{constructor(n,r={},s,i){this.shouldThrowOnError=!1;const l=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rA),r),this.fetch=Ex(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ai(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}getBucket(n){return ai(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}createBucket(n){return ai(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield Br(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}updateBucket(n,r){return ai(this,void 0,void 0,function*(){try{return{data:yield tp(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}})}emptyBucket(n){return ai(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}deleteBucket(n){return ai(this,void 0,void 0,function*(){try{return{data:yield Nx(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}}class sA extends aA{constructor(n,r={},s,i){super(n,r,s,i)}from(n){return new tA(this.url,this.headers,n,this.fetch)}}const oA="2.75.0";let Bl="";typeof Deno<"u"?Bl="deno":typeof document<"u"?Bl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bl="react-native":Bl="node";const iA={"X-Client-Info":`supabase-js-${Bl}/${oA}`},lA={headers:iA},cA={schema:"public"},uA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dA={};var fA=function(t,n,r,s){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function f(y){try{m(s.next(y))}catch(v){d(v)}}function h(y){try{m(s.throw(y))}catch(v){d(v)}}function m(y){y.done?l(y.value):i(y.value).then(f,h)}m((s=s.apply(t,n||[])).next())})};const hA=t=>{let n;return t?n=t:typeof fetch>"u"?n=gx:n=fetch,(...r)=>n(...r)},mA=()=>typeof Headers>"u"?vx:Headers,pA=(t,n,r)=>{const s=hA(r),i=mA();return(l,d)=>fA(void 0,void 0,void 0,function*(){var f;const h=(f=yield n())!==null&&f!==void 0?f:t;let m=new i(d?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),s(l,Object.assign(Object.assign({},d),{headers:m}))})};var gA=function(t,n,r,s){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function f(y){try{m(s.next(y))}catch(v){d(v)}}function h(y){try{m(s.throw(y))}catch(v){d(v)}}function m(y){y.done?l(y.value):i(y.value).then(f,h)}m((s=s.apply(t,n||[])).next())})};function vA(t){return t.endsWith("/")?t:t+"/"}function yA(t,n){var r,s;const{db:i,auth:l,realtime:d,global:f}=t,{db:h,auth:m,realtime:y,global:v}=n,w={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},v),f),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(s=f?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>gA(this,void 0,void 0,function*(){return""})};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function bA(t){const n=t?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vA(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Cx="2.75.0",mi=30*1e3,np=3,bm=np*mi,wA="http://localhost:9999",xA="supabase.auth.token",SA={"X-Client-Info":`gotrue-js/${Cx}`},rp="X-Supabase-Api-Version",Tx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_A=600*1e3;class Gl extends Error{constructor(n,r,s){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function Ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class EA extends Gl{constructor(n,r,s){super(n,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function NA(t){return Ie(t)&&t.name==="AuthApiError"}class oo extends Gl{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Ts extends Gl{constructor(n,r,s,i){super(n,s,i),this.name=r,this.status=s}}class ws extends Ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CA(t){return Ie(t)&&t.name==="AuthSessionMissingError"}class si extends Ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qu extends Ts{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Yu extends Ts{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function TA(t){return Ie(t)&&t.name==="AuthImplicitGrantRedirectError"}class T0 extends Ts{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ap extends Ts{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function wm(t){return Ie(t)&&t.name==="AuthRetryableFetchError"}class O0 extends Ts{constructor(n,r,s){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class sp extends Ts{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),A0=` 	
\r=`.split(""),OA=(()=>{const t=new Array(128);for(let n=0;n<t.length;n+=1)t[n]=-1;for(let n=0;n<A0.length;n+=1)t[A0[n].charCodeAt(0)]=-2;for(let n=0;n<ud.length;n+=1)t[ud[n].charCodeAt(0)]=n;return t})();function D0(t,n,r){if(t!==null)for(n.queue=n.queue<<8|t,n.queuedBits+=8;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;r(ud[s]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;r(ud[s]),n.queuedBits-=6}}function Ox(t,n,r){const s=OA[t];if(s>-1)for(n.queue=n.queue<<6|s,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function k0(t){const n=[],r=d=>{n.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=d=>{kA(d,s,r)};for(let d=0;d<t.length;d+=1)Ox(t.charCodeAt(d),i,l);return n.join("")}function AA(t,n){if(t<=127){n(t);return}else if(t<=2047){n(192|t>>6),n(128|t&63);return}else if(t<=65535){n(224|t>>12),n(128|t>>6&63),n(128|t&63);return}else if(t<=1114111){n(240|t>>18),n(128|t>>12&63),n(128|t>>6&63),n(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function DA(t,n){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}AA(s,n)}}function kA(t,n,r){if(n.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){n.utf8seq=s;break}if(n.utf8seq===2)n.codepoint=t&31;else if(n.utf8seq===3)n.codepoint=t&15;else if(n.utf8seq===4)n.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|t&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function gi(t){const n=[],r={queue:0,queuedBits:0},s=i=>{n.push(i)};for(let i=0;i<t.length;i+=1)Ox(t.charCodeAt(i),r,s);return new Uint8Array(n)}function RA(t){const n=[];return DA(t,r=>n.push(r)),new Uint8Array(n)}function io(t){const n=[],r={queue:0,queuedBits:0},s=i=>{n.push(i)};return t.forEach(i=>D0(i,r,s)),D0(null,r,s),n.join("")}function MA(t){return Math.round(Date.now()/1e3)+t}function zA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)})}const er=()=>typeof window<"u"&&typeof document<"u",eo={tested:!1,writable:!1},Ax=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(eo.tested)return eo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),eo.tested=!0,eo.writable=!0}catch{eo.tested=!0,eo.writable=!1}return eo.writable};function UA(t){const n={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{n[l]=i})}catch{}return r.searchParams.forEach((s,i)=>{n[i]=s}),n}const Dx=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...r)=>ac(async()=>{const{default:s}=await Promise.resolve().then(()=>Ai);return{default:s}},void 0).then(({default:s})=>s(...r)):n=fetch,(...r)=>n(...r)},PA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pi=async(t,n,r)=>{await t.setItem(n,JSON.stringify(r))},to=async(t,n)=>{const r=await t.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ys=async(t,n)=>{await t.removeItem(n)};class Nd{constructor(){this.promise=new Nd.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Nd.promiseConstructor=Promise;function xm(t){const n=t.split(".");if(n.length!==3)throw new sp("Invalid JWT structure");for(let s=0;s<n.length;s++)if(!jA.test(n[s]))throw new sp("JWT not in base64url format");return{header:JSON.parse(k0(n[0])),payload:JSON.parse(k0(n[1])),signature:gi(n[2]),raw:{header:n[0],payload:n[1]}}}async function IA(t){return await new Promise(n=>{setTimeout(()=>n(null),t)})}function LA(t,n){return new Promise((s,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const d=await t(l);if(!n(l,null,d)){s(d);return}}catch(d){if(!n(l,d)){i(d);return}}})()})}function BA(t){return("0"+t.toString(16)).substr(-2)}function $A(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(n),Array.from(n,BA).join("")}async function HA(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(s);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function WA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await HA(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oi(t,n,r=!1){const s=$A();let i=s;r&&(i+="/PASSWORD_RECOVERY"),await pi(t,`${n}-code-verifier`,i);const l=await WA(s);return[l,s===l?"plain":"s256"]}const FA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qA(t){const n=t.headers.get(rp);if(!n||!n.match(FA))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function YA(t){if(!t)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(t<=n)throw new Error("JWT has expired")}function VA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const GA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ii(t){if(!GA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sm(){const t={};return new Proxy(t,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function R0(t){return JSON.parse(JSON.stringify(t))}var KA=function(t,n){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)n.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r};const ro=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),XA=[502,503,504];async function M0(t){var n;if(!PA(t))throw new ap(ro(t),0);if(XA.includes(t.status))throw new ap(ro(t),t.status);let r;try{r=await t.json()}catch(l){throw new oo(ro(l),l)}let s;const i=qA(t);if(i&&i.getTime()>=Tx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new O0(ro(r),t.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(s==="session_not_found")throw new ws}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,d)=>l&&typeof d=="string",!0))throw new O0(ro(r),t.status,r.weak_password.reasons);throw new EA(ro(r),t.status||500,s)}const QA=(t,n,r,s)=>{const i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),r))};async function Ke(t,n,r,s){var i;const l=Object.assign({},s?.headers);l[rp]||(l[rp]=Tx["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const d=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(d.redirect_to=s.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",h=await ZA(t,n,r+f,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function ZA(t,n,r,s,i,l){const d=QA(n,s,i,l);let f;try{f=await t(r,Object.assign({},d))}catch(h){throw console.error(h),new ap(ro(h),0)}if(f.ok||await M0(f),s?.noResolveJson)return f;try{return await f.json()}catch(h){await M0(h)}}function Nr(t){var n;let r=null;tD(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=MA(t.expires_in)));const s=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:r,user:s},error:null}}function z0(t){const n=Nr(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(n.data.weak_password=t.weak_password),n}function js(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function JA(t){return{data:t,error:null}}function eD(t){const{action_link:n,email_otp:r,hashed_token:s,redirect_to:i,verification_type:l}=t,d=KA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:n,email_otp:r,hashed_token:s,redirect_to:i,verification_type:l},h=Object.assign({},d);return{data:{properties:f,user:h},error:null}}function U0(t){return t}function tD(t){return t.access_token&&t.refresh_token&&t.expires_in}const jm=["global","local","others"];var nD=function(t,n){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)n.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r};class rD{constructor({url:n="",headers:r={},fetch:s}){this.url=n,this.headers=r,this.fetch=Dx(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=jm[0]){if(jm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jm.join(", ")}`);try{return await Ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}}async inviteUserByEmail(n,r={}){try{return await Ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:js})}catch(s){if(Ie(s))return{data:{user:null},error:s};throw s}}async generateLink(n){try{const{options:r}=n,s=nD(n,["options"]),i=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await Ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:eD,redirectTo:r?.redirectTo})}catch(r){if(Ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await Ke(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:js})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,s,i,l,d,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await Ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:U0});if(y.error)throw y.error;const v=await y.json(),w=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return j.length>0&&(j.forEach(N=>{const _=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(N.split(";")[1].split("=")[1]);m[`${S}Page`]=_}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Ie(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){ii(n);try{return await Ke(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:js})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){ii(n);try{return await Ke(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:js})}catch(s){if(Ie(s))return{data:{user:null},error:s};throw s}}async deleteUser(n,r=!1){ii(n);try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:js})}catch(s){if(Ie(s))return{data:{user:null},error:s};throw s}}async _listFactors(n){ii(n.userId);try{const{data:r,error:s}=await Ke(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:s}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _deleteFactor(n){ii(n.userId),ii(n.id);try{return{data:await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,s,i,l,d,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await Ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:U0});if(y.error)throw y.error;const v=await y.json(),w=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return j.length>0&&(j.forEach(N=>{const _=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(N.split(";")[1].split("=")[1]);m[`${S}Page`]=_}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Ie(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(n){try{return await Ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await Ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await Ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}}function P0(t={}){return{getItem:n=>t[n]||null,setItem:(n,r)=>{t[n]=r},removeItem:n=>{delete t[n]}}}const li={debug:!!(globalThis&&Ax()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kx extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class aD extends kx{}async function sD(t,n,r){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);const s=new globalThis.AbortController;return n>0&&setTimeout(()=>{s.abort(),li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(n===0)throw li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new aD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(li.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function oD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Rx(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function iD(t){return parseInt(t,16)}function lD(t){const n=new TextEncoder().encode(t);return"0x"+Array.from(n,s=>s.toString(16).padStart(2,"0")).join("")}function cD(t){var n;const{chainId:r,domain:s,expirationTime:i,issuedAt:l=new Date,nonce:d,notBefore:f,requestId:h,resources:m,scheme:y,uri:v,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=t.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const j=Rx(t.address),N=y?`${y}://${s}`:s,_=t.statement?`${t.statement}
`:"",S=`${N} wants you to sign in with your Ethereum account:
${j}

${_}`;let E=`URI: ${v}
Version: ${w}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${l.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),f&&(E+=`
Not Before: ${f.toISOString()}`),h&&(E+=`
Request ID: ${h}`),m){let C=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);C+=`
- ${T}`}E+=C}return`${S}
${E}`}class an extends Error{constructor({message:n,code:r,cause:s,name:i}){var l;super(n,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=i??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class dd extends an{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function uD({error:t,options:n}){var r,s,i;const{publicKey:l}=n;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(n.signal instanceof AbortSignal)return new an({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new an({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(n.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new an({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new an({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new an({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new an({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new an({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new an({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const d=window.location.hostname;if(zx(d)){if(l.rp.id!==d)return new an({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new an({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new an({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new an({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new an({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function dD({error:t,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(n.signal instanceof AbortSignal)return new an({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new an({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(zx(s)){if(r.rpId!==s)return new an({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new an({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new an({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new an({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Mx=function(t,n){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)n.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r};class fD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const hD=new fD;function mD(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:n,user:r,excludeCredentials:s}=t,i=Mx(t,["challenge","user","excludeCredentials"]),l=gi(n).buffer,d=Object.assign(Object.assign({},r),{id:gi(r.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:l,user:d});if(s&&s.length>0){f.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:gi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function pD(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:n,allowCredentials:r}=t,s=Mx(t,["challenge","allowCredentials"]),i=gi(n).buffer,l=Object.assign(Object.assign({},s),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];l.allowCredentials[d]=Object.assign(Object.assign({},f),{id:gi(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function gD(t){var n;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:io(new Uint8Array(t.response.attestationObject)),clientDataJSON:io(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function vD(t){var n;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:io(new Uint8Array(i.authenticatorData)),clientDataJSON:io(new Uint8Array(i.clientDataJSON)),signature:io(new Uint8Array(i.signature)),userHandle:i.userHandle?io(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function zx(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function I0(){var t,n;return!!(er()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function yD(t){try{const n=await navigator.credentials.create(t);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new dd("Browser returned unexpected credential type",n)}:{data:null,error:new dd("Empty credential response",n)}}catch(n){return{data:null,error:uD({error:n,options:t})}}}async function bD(t){try{const n=await navigator.credentials.get(t);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new dd("Browser returned unexpected credential type",n)}:{data:null,error:new dd("Empty credential response",n)}}catch(n){return{data:null,error:dD({error:n,options:t})}}}const wD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},xD={userVerification:"preferred",hints:["security-key"]};function fd(...t){const n=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of t)if(i)for(const l in i){const d=i[l];if(d!==void 0)if(Array.isArray(d))s[l]=d;else if(r(d))s[l]=d;else if(n(d)){const f=s[l];n(f)?s[l]=fd(f,d):s[l]=fd(d)}else s[l]=d}return s}function SD(t,n){return fd(wD,t,n||{})}function jD(t,n){return fd(xD,t,n||{})}class _D{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:s,signal:i},l){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!d)return{data:null,error:f};const h=i??hD.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${s}`),m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=SD(d.webauthn.credential_options.publicKey,l?.create),{data:y,error:v}=await yD({publicKey:m,signal:h});return y?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const m=jD(d.webauthn.credential_options.publicKey,l?.request),{data:y,error:v}=await bD(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:h}));return y?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(d){return Ie(d)?{data:null,error:d}:{data:null,error:new oo("Unexpected error in challenge",d)}}}async _verify({challengeId:n,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:s})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}},l){if(!r)return{data:null,error:new Gl("rpId is required for WebAuthn authentication")};try{if(!I0())return{data:null,error:new oo("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:s},signal:i},{request:l});if(!d)return{data:null,error:f};const{webauthn:h}=d;return this._verify({factorId:n,challengeId:d.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:s,credential_response:h.credential_response}})}catch(d){return Ie(d)?{data:null,error:d}:{data:null,error:new oo("Unexpected error in authenticate",d)}}}async _register({friendlyName:n,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i},l){if(!r)return{data:null,error:new Gl("rpId is required for WebAuthn registration")};try{if(!I0())return{data:null,error:new oo("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:n});if(!d)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:i},{create:l});return h?this._verify({factorId:d.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(d){return Ie(d)?{data:null,error:d}:{data:null,error:new oo("Unexpected error in register",d)}}}}oD();const ED={url:wA,storageKey:xA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function L0(t,n,r){return await r()}const ci={};class Kl{get jwks(){var n,r;return(r=(n=ci[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){ci[this.storageKey]=Object.assign(Object.assign({},ci[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=ci[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ci[this.storageKey]=Object.assign(Object.assign({},ci[this.storageKey]),{cachedAt:n})}constructor(n){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kl.nextInstanceID,Kl.nextInstanceID+=1,this.instanceID>0&&er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ED),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new rD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Dx(i.fetch),this.lock=i.lock||L0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:er()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=sD:this.lock=L0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _D(this)},this.persistSession?(i.storage?this.storage=i.storage:Ax()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=P0(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=P0(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cx}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const r=UA(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),er()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),TA(l)){const h=(n=l.details)===null||n===void 0?void 0:n.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:d,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ie(r)?{error:r}:{error:new oo("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,s,i;try{const l=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Nr}),{data:d,error:f}=l;if(f||!d)return{data:{user:null,session:null},error:f};const h=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Ie(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(n){var r,s,i;try{let l;if("email"in n){const{email:y,password:v,options:w}=n;let j=null,N=null;this.flowType==="pkce"&&([j,N]=await oi(this.storage,this.storageKey)),l=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:v,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:j,code_challenge_method:N},xform:Nr})}else if("phone"in n){const{phone:y,password:v,options:w}=n;l=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(i=w?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Nr})}else throw new qu("You must provide either an email or phone number and a password");const{data:d,error:f}=l;if(f||!d)return{data:{user:null,session:null},error:f};const h=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Ie(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(n){try{let r;if("email"in n){const{email:l,password:d,options:f}=n;r=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:z0})}else if("phone"in n){const{phone:l,password:d,options:f}=n;r=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:z0})}else throw new qu("You must provide either an email or phone number and a password");const{data:s,error:i}=r;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new si}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(r){if(Ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,s,i,l;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=n.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=n.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,s,i,l,d,f,h,m,y,v,w;let j,N;if("message"in n)j=n.message,N=n.signature;else{const{chain:_,wallet:S,statement:E,options:C}=n;let T;if(er())if(typeof S=="object")T=S;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")T=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=S}const D=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),M=await T.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Rx(M[0]);let A=(s=C?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!A){const F=await T.request({method:"eth_chainId"});A=iD(F)}const U={domain:D.host,address:k,statement:E,uri:D.href,version:"1",chainId:A,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(d=(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=C?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=C?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=C?.signInWithEthereum)===null||y===void 0?void 0:y.resources};j=cD(U),N=await T.request({method:"personal_sign",params:[lD(j),k]})}try{const{data:_,error:S}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:N},!((v=n.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Nr});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new si}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(Ie(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(n){var r,s,i,l,d,f,h,m,y,v,w,j;let N,_;if("message"in n)N=n.message,_=n.signature;else{const{chain:S,wallet:E,statement:C,options:T}=n;let D;if(er())if(typeof E=="object")D=E;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))D=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=E}const M=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const k=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),C?{statement:C}:null));let A;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")A=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)A=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)N=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),_=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${M.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(s=T?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=T?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((v=(y=T?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...T.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const k=await D.signMessage(new TextEncoder().encode(N),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=k}}try{const{data:S,error:E}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:io(_)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Nr});if(E)throw E;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new si}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:E})}catch(S){if(Ie(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(n){const r=await to(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(r??"").split("/");try{const{data:l,error:d}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:s},xform:Nr});if(await ys(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new si}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:d})}catch(l){if(Ie(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(n){try{const{options:r,provider:s,token:i,access_token:l,nonce:d}=n,f=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:l,nonce:d,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Nr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new si}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(Ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,s,i,l,d;try{if("email"in n){const{email:f,options:h}=n;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await oi(this.storage,this.storageKey));const{error:v}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in n){const{phone:f,options:h}=n,{data:m,error:y}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(d=h?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:y}}throw new qu("You must provide either an email or phone number.")}catch(f){if(Ie(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(n){var r,s;try{let i,l;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,l=(s=n.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:f}=await Ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:Nr});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const h=d.session,m=d.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(i){if(Ie(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(n){var r,s,i;try{let l=null,d=null;return this.flowType==="pkce"&&([l,d]=await oi(this.storage,this.storageKey)),await Ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(s=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:d}),headers:this.headers,xform:JA})}catch(l){if(Ie(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;if(s)throw s;if(!r)throw new ws;const{error:i}=await Ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:s,type:i,options:l}=n,{error:d}=await Ke(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in n){const{phone:s,type:i,options:l}=n,{data:d,error:f}=await Ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new qu("You must provide either an email or phone number and a type")}catch(r){if(Ie(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await to(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const s=n.expires_at?n.expires_at*1e3-Date.now()<bm:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",n.expires_at),!s){if(this.userStorage){const d=await to(this.userStorage,this.storageKey+"-user");d?.user?n.user=d.user:n.user=Sm()}if(this.storage.isServer&&n.user){let d=this.suppressGetSessionWarning;n=new Proxy(n,{get:(h,m,y)=>(!d&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,y))})}return{data:{session:n},error:null}}const{data:i,error:l}=await this._callRefreshToken(n.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:js}):await this._useSession(async r=>{var s,i,l;const{data:d,error:f}=r;if(f)throw f;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ws}:await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:js})})}catch(r){if(Ie(r))return CA(r)&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async s=>{const{data:i,error:l}=s;if(l)throw l;if(!i.session)throw new ws;const d=i.session;let f=null,h=null;this.flowType==="pkce"&&n.email!=null&&([f,h]=await oi(this.storage,this.storageKey));const{data:m,error:y}=await Ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:f,code_challenge_method:h}),jwt:d.access_token,xform:js});if(y)throw y;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(s){if(Ie(s))return{data:{user:null},error:s};throw s}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new ws;const r=Date.now()/1e3;let s=r,i=!0,l=null;const{payload:d}=xm(n.access_token);if(d.exp&&(s=d.exp,i=s<=r),i){const{data:f,error:h}=await this._callRefreshToken(n.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:h}=await this._getUser(n.access_token);if(h)throw h;l={access_token:n.access_token,refresh_token:n.refresh_token,user:f.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(Ie(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var s;if(!n){const{data:d,error:f}=r;if(f)throw f;n=(s=d.session)!==null&&s!==void 0?s:void 0}if(!n?.refresh_token)throw new ws;const{data:i,error:l}=await this._callRefreshToken(n.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ie(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!er())throw new Yu("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Yu(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new T0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new T0("No code detected.");const{data:C,error:T}=await this._exchangeCodeForSession(n.code);if(T)throw T;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:l,refresh_token:d,expires_in:f,expires_at:h,token_type:m}=n;if(!l||!f||!d||!m)throw new Yu("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(f);let w=y+v;h&&(w=parseInt(h));const j=w-y;j*1e3<=mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${v}s`);const N=w-v;y-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,y):y-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,y);const{data:_,error:S}=await this._getUser(l);if(S)throw S;const E={provider_token:s,provider_refresh_token:i,access_token:l,expires_in:v,expires_at:w,refresh_token:d,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:n.type},error:null}}catch(s){if(Ie(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await to(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:i,error:l}=r;if(l)return{error:l};const d=(s=i.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:f}=await this.admin.signOut(d,n);if(f&&!(NA(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return n!=="others"&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const r=zA(),s={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(n){return await this._useSession(async r=>{var s,i;try{const{data:{session:l},error:d}=r;if(d)throw d;await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",n,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",l),console.error(l)}})}async resetPasswordForEmail(n,r={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await oi(this.storage,this.storageKey,!0));try{return await Ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(Ie(l))return{data:null,error:l};throw l}}async getUserIdentities(){var n;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:s,error:i}=await this._useSession(async l=>{var d,f,h,m,y;const{data:v,error:w}=l;if(w)throw w;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=n.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=n.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ke(this.fetch,"GET",j,{headers:this.headers,jwt:(y=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(i)throw i;return er()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:n.provider,url:s?.url},error:null}}catch(s){if(Ie(s))return{data:{provider:n.provider,url:null},error:s};throw s}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var s;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:d,provider:f,token:h,access_token:m,nonce:y}=n,v=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:f,id_token:h,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Nr}),{data:w,error:j}=v;return j?{data:{user:null,session:null},error:j}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new si}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:j})}catch(i){if(Ie(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var s,i;const{data:l,error:d}=r;if(d)throw d;return await Ke(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await LA(async i=>(i>0&&await IA(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Nr})),(i,l)=>{const d=200*Math.pow(2,i);return l&&wm(l)&&Date.now()+d-s<mi})}catch(s){if(this._debug(r,"error",s),Ie(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",s),er()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:n,url:s},error:null}}async _recoverAndRefresh(){var n,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await to(this.storage,this.storageKey);if(i&&this.userStorage){let d=await to(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:i.user},await pi(this.userStorage,this.storageKey+"-user",d)),i.user=(n=d?.user)!==null&&n!==void 0?n:Sm()}else if(i&&!i.user&&!i.user){const d=await to(this.storage,this.storageKey+"-user");d&&d?.user?(i.user=d.user,await ys(this.storage,this.storageKey+"-user"),await pi(this.storage,this.storageKey,i)):i.user=Sm()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<bm;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${bm}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:d}=await this._callRefreshToken(i.refresh_token);d&&(console.error(d),wm(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(i.access_token);!f&&d?.user?(i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var r,s;if(!n)throw new ws;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Nd;const{data:l,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!l.session)throw new ws;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(i,"error",l),Ie(l)){const d={data:null,error:l};return wm(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,r,s=!0){const i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:n,session:r});const l=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(n,r)}catch(h){l.push(h)}});if(await Promise.all(d),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const r=Object.assign({},n),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await pi(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=R0(i);await pi(this.storage,this.storageKey,l)}else{const i=R0(r);await pi(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ys(this.storage,this.storageKey),await ys(this.storage,this.storageKey+"-code-verifier"),await ys(this.storage,this.storageKey+"-user"),this.userStorage&&await ys(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&er()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),mi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-n)/mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${mi}ms, refresh threshold is ${np} ticks`),i<=np&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof kx)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,s){const i=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,d]=await oi(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(d)}`});i.push(f.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);i.push(l.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var s;const{data:i,error:l}=r;return l?{data:null,error:l}:await Ke(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var s,i;const{data:l,error:d}=r;if(d)return{data:null,error:d};const f=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:h,error:m}=await Ke(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(n.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:i,error:l}=r;if(l)return{data:null,error:l};const d=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?gD(n.webauthn.credential_response):vD(n.webauthn.credential_response)})}:{code:n.code}),{data:f,error:h}=await Ke(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:d,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:h})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:i,error:l}=r;if(l)return{data:null,error:l};const d=await Ke(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:mD(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:pD(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:s}=await this._challenge({factorId:n.factorId});return s?{data:null,error:s}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,s;const{data:{session:i},error:l}=n;if(l)return{data:null,error:l};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=xm(i.access_token);let f=null;d.aal&&(f=d.aal);let h=f;((s=(r=i.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(n,r={keys:[]}){let s=r.keys.find(f=>f.kid===n);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(f=>f.kid===n),s&&this.jwks_cached_at+_A>i)return s;const{data:l,error:d}=await Ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,s=l.keys.find(f=>f.kid===n),!s)?null:s}async getClaims(n,r={}){try{let s=n;if(!s){const{data:j,error:N}=await this.getSession();if(N||!j.session)return{data:null,error:N};s=j.session.access_token}const{header:i,payload:l,signature:d,raw:{header:f,payload:h}}=xm(s);r?.allowExpired||YA(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:j}=await this.getUser(s);if(j)throw j;return{data:{claims:l,header:i,signature:d},error:null}}const y=VA(i.alg),v=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,d,RA(`${f}.${h}`)))throw new sp("Invalid JWT signature");return{data:{claims:l,header:i,signature:d},error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}}}Kl.nextInstanceID=0;const ND=Kl;class CD extends ND{constructor(n){super(n)}}var TD=function(t,n,r,s){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function f(y){try{m(s.next(y))}catch(v){d(v)}}function h(y){try{m(s.throw(y))}catch(v){d(v)}}function m(y){y.done?l(y.value):i(y.value).then(f,h)}m((s=s.apply(t,n||[])).next())})};class OD{constructor(n,r,s){var i,l,d;this.supabaseUrl=n,this.supabaseKey=r;const f=bA(n);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:cA,realtime:dA,auth:Object.assign(Object.assign({},uA),{storageKey:h}),global:lA},y=yA(s??{},m);this.storageKey=(i=y.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=pA(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new EO(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new sA(this.storageUrl.href,this.headers,this.fetch,s?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new pO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,r,s)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return TD(this,void 0,void 0,function*(){var n,r;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:i,userStorage:l,storageKey:d,flowType:f,lock:h,debug:m},y,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CD({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),y),storageKey:d,autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:i,userStorage:l,flowType:f,lock:h,debug:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new HO(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(n,r,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const AD=(t,n,r)=>new OD(t,n,r);function DD(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}DD()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kD="https://bytlprenwzfefiaxitrm.supabase.co",RD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ5dGxwcmVud3pmZWZpYXhpdHJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMjgyOTAsImV4cCI6MjA3NTYwNDI5MH0.dJvsicpgklCwvoEVz3gyzPYb2PNRv9yjEqPQnnuVpwg",te=AD(kD,RD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,s)=>s?s.toUpperCase():r.toLowerCase()),B0=t=>{const n=zD(t);return n.charAt(0).toUpperCase()+n.slice(1)},Ux=(...t)=>t.filter((n,r,s)=>!!n&&n.trim()!==""&&s.indexOf(n)===r).join(" ").trim(),UD=t=>{for(const n in t)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=b.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:d,...f},h)=>b.createElement("svg",{ref:h,...PD,width:n,height:n,stroke:t,strokeWidth:s?Number(r)*24/Number(n):r,className:Ux("lucide",i),...!l&&!UD(f)&&{"aria-hidden":"true"},...f},[...d.map(([m,y])=>b.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=(t,n)=>{const r=b.forwardRef(({className:s,...i},l)=>b.createElement(ID,{ref:l,iconNode:n,className:Ux(`lucide-${MD(B0(t))}`,`lucide-${t}`,s),...i}));return r.displayName=B0(t),r};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],BD=Qt("arrow-left",LD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],op=Qt("bell",$D);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Os=Qt("calendar",HD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xt=Qt("check",WD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Cd=Qt("chevron-down",FD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zp=Qt("chevron-left",qD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],VD=Qt("chevron-right",YD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],KD=Qt("chevron-up",GD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$0=Qt("circle-check",XD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],H0=Qt("clock",QD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],hd=Qt("file-check",ZD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ek=Qt("funnel",JD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Up=Qt("list",tk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rk=Qt("lock",nk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sk=Qt("mail",ak);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],ik=Qt("paperclip",ok);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nr=Qt("plus",lk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uk=Qt("square-check-big",ck);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Fr=Qt("square-pen",dk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],On=Qt("trash-2",fk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ut=Qt("x",hk);function Fe(t,n,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return n?.(i)}}function mk(t,n){const r=b.createContext(n),s=l=>{const{children:d,...f}=l,h=b.useMemo(()=>f,Object.values(f));return u.jsx(r.Provider,{value:h,children:d})};s.displayName=t+"Provider";function i(l){const d=b.useContext(r);if(d)return d;if(n!==void 0)return n;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[s,i]}function La(t,n=[]){let r=[];function s(l,d){const f=b.createContext(d),h=r.length;r=[...r,d];const m=v=>{const{scope:w,children:j,...N}=v,_=w?.[t]?.[h]||f,S=b.useMemo(()=>N,Object.values(N));return u.jsx(_.Provider,{value:S,children:j})};m.displayName=l+"Provider";function y(v,w){const j=w?.[t]?.[h]||f,N=b.useContext(j);if(N)return N;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[m,y]}const i=()=>{const l=r.map(d=>b.createContext(d));return function(f){const h=f?.[t]||l;return b.useMemo(()=>({[`__scope${t}`]:{...f,[t]:h}}),[f,h])}};return i.scopeName=t,[s,pk(i,...n)]}function pk(...t){const n=t[0];if(t.length===1)return n;const r=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const d=s.reduce((f,{useScope:h,scopeName:m})=>{const v=h(l)[`__scope${m}`];return{...f,...v}},{});return b.useMemo(()=>({[`__scope${n.scopeName}`]:d}),[d])}};return r.scopeName=n.scopeName,r}var En=globalThis?.document?b.useLayoutEffect:()=>{},gk=zw[" useId ".trim().toString()]||(()=>{}),vk=0;function ka(t){const[n,r]=b.useState(gk());return En(()=>{r(s=>s??String(vk++))},[t]),n?`radix-${n}`:""}var yk=zw[" useInsertionEffect ".trim().toString()]||En;function fo({prop:t,defaultProp:n,onChange:r=()=>{},caller:s}){const[i,l,d]=bk({defaultProp:n,onChange:r}),f=t!==void 0,h=f?t:i;{const y=b.useRef(t!==void 0);b.useEffect(()=>{const v=y.current;v!==f&&console.warn(`${s} is changing from ${v?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,s])}const m=b.useCallback(y=>{if(f){const v=wk(y)?y(t):y;v!==t&&d.current?.(v)}else l(y)},[f,t,l,d]);return[h,m]}function bk({defaultProp:t,onChange:n}){const[r,s]=b.useState(t),i=b.useRef(r),l=b.useRef(n);return yk(()=>{l.current=n},[n]),b.useEffect(()=>{i.current!==r&&(l.current?.(r),i.current=r)},[r,i]),[r,s,l]}function wk(t){return typeof t=="function"}function zn(t){const n=b.useRef(t);return b.useEffect(()=>{n.current=t}),b.useMemo(()=>(...r)=>n.current?.(...r),[])}function xk(t,n=globalThis?.document){const r=zn(t);b.useEffect(()=>{const s=i=>{i.key==="Escape"&&r(i)};return n.addEventListener("keydown",s,{capture:!0}),()=>n.removeEventListener("keydown",s,{capture:!0})},[r,n])}var Sk="DismissableLayer",ip="dismissableLayer.update",jk="dismissableLayer.pointerDownOutside",_k="dismissableLayer.focusOutside",W0,Px=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Td=b.forwardRef((t,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:d,onDismiss:f,...h}=t,m=b.useContext(Px),[y,v]=b.useState(null),w=y?.ownerDocument??globalThis?.document,[,j]=b.useState({}),N=pt(n,A=>v(A)),_=Array.from(m.layers),[S]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(S),C=y?_.indexOf(y):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,D=C>=E,M=Ck(A=>{const U=A.target,F=[...m.branches].some(V=>V.contains(U));!D||F||(i?.(A),d?.(A),A.defaultPrevented||f?.())},w),k=Tk(A=>{const U=A.target;[...m.branches].some(V=>V.contains(U))||(l?.(A),d?.(A),A.defaultPrevented||f?.())},w);return xk(A=>{C===m.layers.size-1&&(s?.(A),!A.defaultPrevented&&f&&(A.preventDefault(),f()))},w),b.useEffect(()=>{if(y)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(W0=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),F0(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=W0)}},[y,w,r,m]),b.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),F0())},[y,m]),b.useEffect(()=>{const A=()=>j({});return document.addEventListener(ip,A),()=>document.removeEventListener(ip,A)},[]),u.jsx(Qe.div,{...h,ref:N,style:{pointerEvents:T?D?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,M.onPointerDownCapture)})});Td.displayName=Sk;var Ek="DismissableLayerBranch",Nk=b.forwardRef((t,n)=>{const r=b.useContext(Px),s=b.useRef(null),i=pt(n,s);return b.useEffect(()=>{const l=s.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),u.jsx(Qe.div,{...t,ref:i})});Nk.displayName=Ek;function Ck(t,n=globalThis?.document){const r=zn(t),s=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const l=f=>{if(f.target&&!s.current){let h=function(){Ix(jk,r,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(n.removeEventListener("click",i.current),i.current=h,n.addEventListener("click",i.current,{once:!0})):h()}else n.removeEventListener("click",i.current);s.current=!1},d=window.setTimeout(()=>{n.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),n.removeEventListener("pointerdown",l),n.removeEventListener("click",i.current)}},[n,r]),{onPointerDownCapture:()=>s.current=!0}}function Tk(t,n=globalThis?.document){const r=zn(t),s=b.useRef(!1);return b.useEffect(()=>{const i=l=>{l.target&&!s.current&&Ix(_k,r,{originalEvent:l},{discrete:!1})};return n.addEventListener("focusin",i),()=>n.removeEventListener("focusin",i)},[n,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function F0(){const t=new CustomEvent(ip);document.dispatchEvent(t)}function Ix(t,n,r,{discrete:s}){const i=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});n&&i.addEventListener(t,n,{once:!0}),s?lO(i,l):i.dispatchEvent(l)}var _m="focusScope.autoFocusOnMount",Em="focusScope.autoFocusOnUnmount",q0={bubbles:!1,cancelable:!0},Ok="FocusScope",Od=b.forwardRef((t,n)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...d}=t,[f,h]=b.useState(null),m=zn(i),y=zn(l),v=b.useRef(null),w=pt(n,_=>h(_)),j=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(s){let _=function(T){if(j.paused||!f)return;const D=T.target;f.contains(D)?v.current=D:xs(v.current,{select:!0})},S=function(T){if(j.paused||!f)return;const D=T.relatedTarget;D!==null&&(f.contains(D)||xs(v.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const M of T)M.removedNodes.length>0&&xs(f)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const C=new MutationObserver(E);return f&&C.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),C.disconnect()}}},[s,f,j.paused]),b.useEffect(()=>{if(f){V0.add(j);const _=document.activeElement;if(!f.contains(_)){const E=new CustomEvent(_m,q0);f.addEventListener(_m,m),f.dispatchEvent(E),E.defaultPrevented||(Ak(zk(Lx(f)),{select:!0}),document.activeElement===_&&xs(f))}return()=>{f.removeEventListener(_m,m),setTimeout(()=>{const E=new CustomEvent(Em,q0);f.addEventListener(Em,y),f.dispatchEvent(E),E.defaultPrevented||xs(_??document.body,{select:!0}),f.removeEventListener(Em,y),V0.remove(j)},0)}}},[f,m,y,j]);const N=b.useCallback(_=>{if(!r&&!s||j.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,E=document.activeElement;if(S&&E){const C=_.currentTarget,[T,D]=Dk(C);T&&D?!_.shiftKey&&E===D?(_.preventDefault(),r&&xs(T,{select:!0})):_.shiftKey&&E===T&&(_.preventDefault(),r&&xs(D,{select:!0})):E===C&&_.preventDefault()}},[r,s,j.paused]);return u.jsx(Qe.div,{tabIndex:-1,...d,ref:w,onKeyDown:N})});Od.displayName=Ok;function Ak(t,{select:n=!1}={}){const r=document.activeElement;for(const s of t)if(xs(s,{select:n}),document.activeElement!==r)return}function Dk(t){const n=Lx(t),r=Y0(n,t),s=Y0(n.reverse(),t);return[r,s]}function Lx(t){const n=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function Y0(t,n){for(const r of t)if(!kk(r,{upTo:n}))return r}function kk(t,{upTo:n}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n!==void 0&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Rk(t){return t instanceof HTMLInputElement&&"select"in t}function xs(t,{select:n=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Rk(t)&&n&&t.select()}}var V0=Mk();function Mk(){let t=[];return{add(n){const r=t[0];n!==r&&r?.pause(),t=G0(t,n),t.unshift(n)},remove(n){t=G0(t,n),t[0]?.resume()}}}function G0(t,n){const r=[...t],s=r.indexOf(n);return s!==-1&&r.splice(s,1),r}function zk(t){return t.filter(n=>n.tagName!=="A")}var Uk="Portal",Ad=b.forwardRef((t,n)=>{const{container:r,...s}=t,[i,l]=b.useState(!1);En(()=>l(!0),[]);const d=r||i&&globalThis?.document?.body;return d?ex.createPortal(u.jsx(Qe.div,{...s,ref:n}),d):null});Ad.displayName=Uk;function Pk(t,n){return b.useReducer((r,s)=>n[r][s]??r,t)}var pr=t=>{const{present:n,children:r}=t,s=Ik(n),i=typeof r=="function"?r({present:s.isPresent}):b.Children.only(r),l=pt(s.ref,Lk(i));return typeof r=="function"||s.isPresent?b.cloneElement(i,{ref:l}):null};pr.displayName="Presence";function Ik(t){const[n,r]=b.useState(),s=b.useRef(null),i=b.useRef(t),l=b.useRef("none"),d=t?"mounted":"unmounted",[f,h]=Pk(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const m=Vu(s.current);l.current=f==="mounted"?m:"none"},[f]),En(()=>{const m=s.current,y=i.current;if(y!==t){const w=l.current,j=Vu(m);t?h("MOUNT"):j==="none"||m?.display==="none"?h("UNMOUNT"):h(y&&w!==j?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),En(()=>{if(n){let m;const y=n.ownerDocument.defaultView??window,v=j=>{const _=Vu(s.current).includes(CSS.escape(j.animationName));if(j.target===n&&_&&(h("ANIMATION_END"),!i.current)){const S=n.style.animationFillMode;n.style.animationFillMode="forwards",m=y.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=S)})}},w=j=>{j.target===n&&(l.current=Vu(s.current))};return n.addEventListener("animationstart",w),n.addEventListener("animationcancel",v),n.addEventListener("animationend",v),()=>{y.clearTimeout(m),n.removeEventListener("animationstart",w),n.removeEventListener("animationcancel",v),n.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[n,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:b.useCallback(m=>{s.current=m?getComputedStyle(m):null,r(m)},[])}}function Vu(t){return t?.animationName||"none"}function Lk(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Nm=0;function Pp(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??K0()),document.body.insertAdjacentElement("beforeend",t[1]??K0()),Nm++,()=>{Nm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Nm--}},[])}function K0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var qr=function(){return qr=Object.assign||function(n){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l])}return n},qr.apply(this,arguments)};function Bx(t,n){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)n.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r}function Bk(t,n,r){if(r||arguments.length===2)for(var s=0,i=n.length,l;s<i;s++)(l||!(s in n))&&(l||(l=Array.prototype.slice.call(n,0,s)),l[s]=n[s]);return t.concat(l||Array.prototype.slice.call(n))}var rd="right-scroll-bar-position",ad="width-before-scroll-bar",$k="with-scroll-bars-hidden",Hk="--removed-body-scroll-bar-size";function Cm(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function Wk(t,n){var r=b.useState(function(){return{value:t,callback:n,facade:{get current(){return r.value},set current(s){var i=r.value;i!==s&&(r.value=s,r.callback(s,i))}}}})[0];return r.callback=n,r.facade}var Fk=typeof window<"u"?b.useLayoutEffect:b.useEffect,X0=new WeakMap;function qk(t,n){var r=Wk(null,function(s){return t.forEach(function(i){return Cm(i,s)})});return Fk(function(){var s=X0.get(r);if(s){var i=new Set(s),l=new Set(t),d=r.current;i.forEach(function(f){l.has(f)||Cm(f,null)}),l.forEach(function(f){i.has(f)||Cm(f,d)})}X0.set(r,t)},[t]),r}function Yk(t){return t}function Vk(t,n){n===void 0&&(n=Yk);var r=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var d=n(l,s);return r.push(d),function(){r=r.filter(function(f){return f!==d})}},assignSyncMedium:function(l){for(s=!0;r.length;){var d=r;r=[],d.forEach(l)}r={push:function(f){return l(f)},filter:function(){return r}}},assignMedium:function(l){s=!0;var d=[];if(r.length){var f=r;r=[],f.forEach(l),d=r}var h=function(){var y=d;d=[],y.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),r={push:function(y){d.push(y),m()},filter:function(y){return d=d.filter(y),r}}}};return i}function Gk(t){t===void 0&&(t={});var n=Vk(null);return n.options=qr({async:!0,ssr:!1},t),n}var $x=function(t){var n=t.sideCar,r=Bx(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=n.read();if(!s)throw new Error("Sidecar medium not found");return b.createElement(s,qr({},r))};$x.isSideCarExport=!0;function Kk(t,n){return t.useMedium(n),$x}var Hx=Gk(),Tm=function(){},Dd=b.forwardRef(function(t,n){var r=b.useRef(null),s=b.useState({onScrollCapture:Tm,onWheelCapture:Tm,onTouchMoveCapture:Tm}),i=s[0],l=s[1],d=t.forwardProps,f=t.children,h=t.className,m=t.removeScrollBar,y=t.enabled,v=t.shards,w=t.sideCar,j=t.noRelative,N=t.noIsolation,_=t.inert,S=t.allowPinchZoom,E=t.as,C=E===void 0?"div":E,T=t.gapMode,D=Bx(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=w,k=qk([r,n]),A=qr(qr({},D),i);return b.createElement(b.Fragment,null,y&&b.createElement(M,{sideCar:Hx,removeScrollBar:m,shards:v,noRelative:j,noIsolation:N,inert:_,setCallbacks:l,allowPinchZoom:!!S,lockRef:r,gapMode:T}),d?b.cloneElement(b.Children.only(f),qr(qr({},A),{ref:k})):b.createElement(C,qr({},A,{className:h,ref:k}),f))});Dd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dd.classNames={fullWidth:ad,zeroRight:rd};var Xk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Qk(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=Xk();return n&&t.setAttribute("nonce",n),t}function Zk(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function Jk(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var eR=function(){var t=0,n=null;return{add:function(r){t==0&&(n=Qk())&&(Zk(n,r),Jk(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},tR=function(){var t=eR();return function(n,r){b.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&r])}},Wx=function(){var t=tR(),n=function(r){var s=r.styles,i=r.dynamic;return t(s,i),null};return n},nR={left:0,top:0,right:0,gap:0},Om=function(t){return parseInt(t||"",10)||0},rR=function(t){var n=window.getComputedStyle(document.body),r=n[t==="padding"?"paddingLeft":"marginLeft"],s=n[t==="padding"?"paddingTop":"marginTop"],i=n[t==="padding"?"paddingRight":"marginRight"];return[Om(r),Om(s),Om(i)]},aR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return nR;var n=rR(t),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,s-r+n[2]-n[0])}},sR=Wx(),vi="data-scroll-locked",oR=function(t,n,r,s){var i=t.left,l=t.top,d=t.right,f=t.gap;return r===void 0&&(r="margin"),`
  .`.concat($k,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(f,"px ").concat(s,`;
  }
  body[`).concat(vi,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rd,` {
    right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(ad,` {
    margin-right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(rd," .").concat(rd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(vi,`] {
    `).concat(Hk,": ").concat(f,`px;
  }
`)},Q0=function(){var t=parseInt(document.body.getAttribute(vi)||"0",10);return isFinite(t)?t:0},iR=function(){b.useEffect(function(){return document.body.setAttribute(vi,(Q0()+1).toString()),function(){var t=Q0()-1;t<=0?document.body.removeAttribute(vi):document.body.setAttribute(vi,t.toString())}},[])},lR=function(t){var n=t.noRelative,r=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;iR();var l=b.useMemo(function(){return aR(i)},[i]);return b.createElement(sR,{styles:oR(l,!n,i,r?"":"!important")})},lp=!1;if(typeof window<"u")try{var Gu=Object.defineProperty({},"passive",{get:function(){return lp=!0,!0}});window.addEventListener("test",Gu,Gu),window.removeEventListener("test",Gu,Gu)}catch{lp=!1}var ui=lp?{passive:!1}:!1,cR=function(t){return t.tagName==="TEXTAREA"},Fx=function(t,n){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!cR(t)&&r[n]==="visible")},uR=function(t){return Fx(t,"overflowY")},dR=function(t){return Fx(t,"overflowX")},Z0=function(t,n){var r=n.ownerDocument,s=n;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=qx(t,s);if(i){var l=Yx(t,s),d=l[1],f=l[2];if(d>f)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},fR=function(t){var n=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;return[n,r,s]},hR=function(t){var n=t.scrollLeft,r=t.scrollWidth,s=t.clientWidth;return[n,r,s]},qx=function(t,n){return t==="v"?uR(n):dR(n)},Yx=function(t,n){return t==="v"?fR(n):hR(n)},mR=function(t,n){return t==="h"&&n==="rtl"?-1:1},pR=function(t,n,r,s,i){var l=mR(t,window.getComputedStyle(n).direction),d=l*s,f=r.target,h=n.contains(f),m=!1,y=d>0,v=0,w=0;do{if(!f)break;var j=Yx(t,f),N=j[0],_=j[1],S=j[2],E=_-S-l*N;(N||E)&&qx(t,f)&&(v+=E,w+=N);var C=f.parentNode;f=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!h&&f!==document.body||h&&(n.contains(f)||n===f));return(y&&Math.abs(v)<1||!y&&Math.abs(w)<1)&&(m=!0),m},Ku=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},J0=function(t){return[t.deltaX,t.deltaY]},ew=function(t){return t&&"current"in t?t.current:t},gR=function(t,n){return t[0]===n[0]&&t[1]===n[1]},vR=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},yR=0,di=[];function bR(t){var n=b.useRef([]),r=b.useRef([0,0]),s=b.useRef(),i=b.useState(yR++)[0],l=b.useState(Wx)[0],d=b.useRef(t);b.useEffect(function(){d.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Bk([t.lockRef.current],(t.shards||[]).map(ew),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=b.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!d.current.allowPinchZoom;var E=Ku(_),C=r.current,T="deltaX"in _?_.deltaX:C[0]-E[0],D="deltaY"in _?_.deltaY:C[1]-E[1],M,k=_.target,A=Math.abs(T)>Math.abs(D)?"h":"v";if("touches"in _&&A==="h"&&k.type==="range")return!1;var U=Z0(A,k);if(!U)return!0;if(U?M=A:(M=A==="v"?"h":"v",U=Z0(A,k)),!U)return!1;if(!s.current&&"changedTouches"in _&&(T||D)&&(s.current=M),!M)return!0;var F=s.current||M;return pR(F,S,_,F==="h"?T:D)},[]),h=b.useCallback(function(_){var S=_;if(!(!di.length||di[di.length-1]!==l)){var E="deltaY"in S?J0(S):Ku(S),C=n.current.filter(function(M){return M.name===S.type&&(M.target===S.target||S.target===M.shadowParent)&&gR(M.delta,E)})[0];if(C&&C.should){S.cancelable&&S.preventDefault();return}if(!C){var T=(d.current.shards||[]).map(ew).filter(Boolean).filter(function(M){return M.contains(S.target)}),D=T.length>0?f(S,T[0]):!d.current.noIsolation;D&&S.cancelable&&S.preventDefault()}}},[]),m=b.useCallback(function(_,S,E,C){var T={name:_,delta:S,target:E,should:C,shadowParent:wR(E)};n.current.push(T),setTimeout(function(){n.current=n.current.filter(function(D){return D!==T})},1)},[]),y=b.useCallback(function(_){r.current=Ku(_),s.current=void 0},[]),v=b.useCallback(function(_){m(_.type,J0(_),_.target,f(_,t.lockRef.current))},[]),w=b.useCallback(function(_){m(_.type,Ku(_),_.target,f(_,t.lockRef.current))},[]);b.useEffect(function(){return di.push(l),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",h,ui),document.addEventListener("touchmove",h,ui),document.addEventListener("touchstart",y,ui),function(){di=di.filter(function(_){return _!==l}),document.removeEventListener("wheel",h,ui),document.removeEventListener("touchmove",h,ui),document.removeEventListener("touchstart",y,ui)}},[]);var j=t.removeScrollBar,N=t.inert;return b.createElement(b.Fragment,null,N?b.createElement(l,{styles:vR(i)}):null,j?b.createElement(lR,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function wR(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const xR=Kk(Hx,bR);var kd=b.forwardRef(function(t,n){return b.createElement(Dd,qr({},t,{ref:n,sideCar:xR}))});kd.classNames=Dd.classNames;var SR=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},fi=new WeakMap,Xu=new WeakMap,Qu={},Am=0,Vx=function(t){return t&&(t.host||Vx(t.parentNode))},jR=function(t,n){return n.map(function(r){if(t.contains(r))return r;var s=Vx(r);return s&&t.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},_R=function(t,n,r,s){var i=jR(n,Array.isArray(t)?t:[t]);Qu[r]||(Qu[r]=new WeakMap);var l=Qu[r],d=[],f=new Set,h=new Set(i),m=function(v){!v||f.has(v)||(f.add(v),m(v.parentNode))};i.forEach(m);var y=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(w){if(f.has(w))y(w);else try{var j=w.getAttribute(s),N=j!==null&&j!=="false",_=(fi.get(w)||0)+1,S=(l.get(w)||0)+1;fi.set(w,_),l.set(w,S),d.push(w),_===1&&N&&Xu.set(w,!0),S===1&&w.setAttribute(r,"true"),N||w.setAttribute(s,"true")}catch(E){console.error("aria-hidden: cannot operate on ",w,E)}})};return y(n),f.clear(),Am++,function(){d.forEach(function(v){var w=fi.get(v)-1,j=l.get(v)-1;fi.set(v,w),l.set(v,j),w||(Xu.has(v)||v.removeAttribute(s),Xu.delete(v)),j||v.removeAttribute(r)}),Am--,Am||(fi=new WeakMap,fi=new WeakMap,Xu=new WeakMap,Qu={})}},Ip=function(t,n,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=SR(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),_R(s,i,r,"aria-hidden")):function(){return null}},Rd="Dialog",[Gx]=La(Rd),[ER,kr]=Gx(Rd),Kx=t=>{const{__scopeDialog:n,children:r,open:s,defaultOpen:i,onOpenChange:l,modal:d=!0}=t,f=b.useRef(null),h=b.useRef(null),[m,y]=fo({prop:s,defaultProp:i??!1,onChange:l,caller:Rd});return u.jsx(ER,{scope:n,triggerRef:f,contentRef:h,contentId:ka(),titleId:ka(),descriptionId:ka(),open:m,onOpenChange:y,onOpenToggle:b.useCallback(()=>y(v=>!v),[y]),modal:d,children:r})};Kx.displayName=Rd;var Xx="DialogTrigger",NR=b.forwardRef((t,n)=>{const{__scopeDialog:r,...s}=t,i=kr(Xx,r),l=pt(n,i.triggerRef);return u.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$p(i.open),...s,ref:l,onClick:Fe(t.onClick,i.onOpenToggle)})});NR.displayName=Xx;var Lp="DialogPortal",[CR,Qx]=Gx(Lp,{forceMount:void 0}),Zx=t=>{const{__scopeDialog:n,forceMount:r,children:s,container:i}=t,l=kr(Lp,n);return u.jsx(CR,{scope:n,forceMount:r,children:b.Children.map(s,d=>u.jsx(pr,{present:r||l.open,children:u.jsx(Ad,{asChild:!0,container:i,children:d})}))})};Zx.displayName=Lp;var md="DialogOverlay",Jx=b.forwardRef((t,n)=>{const r=Qx(md,t.__scopeDialog),{forceMount:s=r.forceMount,...i}=t,l=kr(md,t.__scopeDialog);return l.modal?u.jsx(pr,{present:s||l.open,children:u.jsx(OR,{...i,ref:n})}):null});Jx.displayName=md;var TR=uo("DialogOverlay.RemoveScroll"),OR=b.forwardRef((t,n)=>{const{__scopeDialog:r,...s}=t,i=kr(md,r);return u.jsx(kd,{as:TR,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Qe.div,{"data-state":$p(i.open),...s,ref:n,style:{pointerEvents:"auto",...s.style}})})}),ho="DialogContent",eS=b.forwardRef((t,n)=>{const r=Qx(ho,t.__scopeDialog),{forceMount:s=r.forceMount,...i}=t,l=kr(ho,t.__scopeDialog);return u.jsx(pr,{present:s||l.open,children:l.modal?u.jsx(AR,{...i,ref:n}):u.jsx(DR,{...i,ref:n})})});eS.displayName=ho;var AR=b.forwardRef((t,n)=>{const r=kr(ho,t.__scopeDialog),s=b.useRef(null),i=pt(n,r.contentRef,s);return b.useEffect(()=>{const l=s.current;if(l)return Ip(l)},[]),u.jsx(tS,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(t.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Fe(t.onPointerDownOutside,l=>{const d=l.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&l.preventDefault()}),onFocusOutside:Fe(t.onFocusOutside,l=>l.preventDefault())})}),DR=b.forwardRef((t,n)=>{const r=kr(ho,t.__scopeDialog),s=b.useRef(!1),i=b.useRef(!1);return u.jsx(tS,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(s.current||r.triggerRef.current?.focus(),l.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=l.target;r.triggerRef.current?.contains(d)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),tS=b.forwardRef((t,n)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,...d}=t,f=kr(ho,r),h=b.useRef(null),m=pt(n,h);return Pp(),u.jsxs(u.Fragment,{children:[u.jsx(Od,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:l,children:u.jsx(Td,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":$p(f.open),...d,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(kR,{titleId:f.titleId}),u.jsx(MR,{contentRef:h,descriptionId:f.descriptionId})]})]})}),Bp="DialogTitle",nS=b.forwardRef((t,n)=>{const{__scopeDialog:r,...s}=t,i=kr(Bp,r);return u.jsx(Qe.h2,{id:i.titleId,...s,ref:n})});nS.displayName=Bp;var rS="DialogDescription",aS=b.forwardRef((t,n)=>{const{__scopeDialog:r,...s}=t,i=kr(rS,r);return u.jsx(Qe.p,{id:i.descriptionId,...s,ref:n})});aS.displayName=rS;var sS="DialogClose",oS=b.forwardRef((t,n)=>{const{__scopeDialog:r,...s}=t,i=kr(sS,r);return u.jsx(Qe.button,{type:"button",...s,ref:n,onClick:Fe(t.onClick,()=>i.onOpenChange(!1))})});oS.displayName=sS;function $p(t){return t?"open":"closed"}var iS="DialogTitleWarning",[BU,lS]=mk(iS,{contentName:ho,titleName:Bp,docsSlug:"dialog"}),kR=({titleId:t})=>{const n=lS(iS),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},RR="DialogDescriptionWarning",MR=({contentRef:t,descriptionId:n})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lS(RR).contentName}}.`;return b.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");n&&i&&(document.getElementById(n)||console.warn(s))},[s,t,n]),null},Hp=Kx,Wp=Zx,oc=Jx,ic=eS,lc=nS,cc=aS,zR=oS;const Rr=Hp,UR=Wp,cS=b.forwardRef(({className:t,...n},r)=>u.jsx(oc,{ref:r,className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n}));cS.displayName=oc.displayName;const gr=b.forwardRef(({className:t,children:n,...r},s)=>u.jsxs(UR,{children:[u.jsx(cS,{}),u.jsxs(ic,{ref:s,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[n,u.jsxs(zR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Ut,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gr.displayName=ic.displayName;const vr=({className:t,...n})=>u.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",t),...n});vr.displayName="DialogHeader";const Md=({className:t,...n})=>u.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});Md.displayName="DialogFooter";const yr=b.forwardRef(({className:t,...n},r)=>u.jsx(lc,{ref:r,className:je("text-lg font-semibold leading-none tracking-tight",t),...n}));yr.displayName=lc.displayName;const aa=b.forwardRef(({className:t,...n},r)=>u.jsx(cc,{ref:r,className:je("text-sm text-muted-foreground",t),...n}));aa.displayName=cc.displayName;const PR="teacher2024";function IR({open:t,onClose:n,onSuccess:r}){const[s,i]=b.useState(""),[l,d]=b.useState(""),[f,h]=b.useState(!1),m=v=>{v.preventDefault(),h(!0),d(""),s===PR?(i(""),h(!1),r()):(d("パスワードが正しくありません"),h(!1),i(""))},y=()=>{i(""),d(""),n()};return u.jsx(Rr,{open:t,onOpenChange:y,children:u.jsxs(gr,{className:"sm:max-w-md",children:[u.jsxs(vr,{children:[u.jsxs(yr,{className:"flex items-center gap-2 text-xl",children:[u.jsx(rk,{className:"h-5 w-5 text-primary"}),"先生ページへのアクセス"]}),u.jsx(aa,{children:"先生専用ページにアクセスするには、パスワードを入力してください。"})]}),u.jsxs("form",{onSubmit:m,children:[u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pt,{htmlFor:"teacher-password",children:"パスワード"}),u.jsx(Dt,{id:"teacher-password",type:"password",placeholder:"パスワードを入力",value:s,onChange:v=>{i(v.target.value),d("")},className:"rounded-xl",autoFocus:!0,disabled:f}),l&&u.jsx("p",{className:"text-sm text-destructive",children:l})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["ℹ️ デフォルトパスワード: ",u.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded",children:"teacher2024"}),u.jsx("br",{}),"環境変数 ",u.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded",children:"VITE_TEACHER_PASSWORD"})," で変更可能"]})]}),u.jsxs(Md,{className:"gap-2 sm:gap-0",children:[u.jsx(de,{type:"button",variant:"outline",onClick:y,disabled:f,className:"rounded-xl",children:"キャンセル"}),u.jsx(de,{type:"submit",disabled:f||!s,className:"rounded-xl bg-primary hover:bg-primary/90",children:f?"確認中...":"確認"})]})]})]})})}function LR(){const t=Ia(),[n,r]=b.useState(""),[s,i]=b.useState(""),[l,d]=b.useState(!1),[f,h]=b.useState(!1),[m,y]=b.useState(!1),v=async()=>{const{data:E,error:C}=await te.auth.signInWithOAuth({provider:"azure",options:{redirectTo:window.location.origin+"/auth/callback",scopes:"email"}});C&&(console.error("Error signing in with Microsoft:",C),alert("Microsoftでのサインイン中にエラーが発生しました。"))},w=async(E,C)=>{if(!E){console.error("No email provided, cannot create user");return}try{const{data:T,error:D}=await te.from("users").select("id").eq("email",E).maybeSingle();if(T){console.log("User already exists in users table (email:",E,")");return}const M=C||E.split("@")[0]||"ユーザー",{error:k}=await te.from("users").insert({email:E,name:M,ms_account_id:null});if(k)throw console.error("Error creating user in users table:",k),k;console.log("User created in users table with email:",E)}catch(T){throw console.error("Error in ensureUserInUsersTable:",T),T}},j=async E=>{if(E.preventDefault(),!n||!s){pe.error("メールアドレスとパスワードを入力してください");return}h(!0);try{console.log("Attempting to sign in with email:",n);const{data:C,error:T}=await te.auth.signInWithPassword({email:n,password:s});if(T)throw T;console.log("Sign in successful, user:",C.user?.id),C.user&&(console.log("Ensuring user exists in users table..."),await w(C.user.email,C.user.user_metadata?.name||C.user.user_metadata?.full_name),console.log("User table check complete")),pe.success("ログインしました"),t("/home")}catch(C){console.error("Error signing in:",C),pe.error(C.message||"ログインに失敗しました")}finally{h(!1)}},N=async E=>{if(E.preventDefault(),!n||!s){pe.error("メールアドレスとパスワードを入力してください");return}if(s.length<6){pe.error("パスワードは6文字以上にしてください");return}h(!0);try{const{data:C,error:T}=await te.auth.signUp({email:n,password:s});if(T)throw T;C.user?(await w(C.user.email,C.user.user_metadata?.name||C.user.user_metadata?.full_name),pe.success("アカウントを作成しました"),t("/home")):pe.info("確認メールを送信しました。メールを確認してください。")}catch(C){console.error("Error signing up:",C),pe.error(C.message||"アカウント作成に失敗しました")}finally{h(!1)}},_=()=>{y(!0)},S=()=>{y(!1),pe.success("先生ページにアクセスします"),t("/teacher")};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#E8F0FF] to-[#F5F0FF] flex items-center justify-center p-4",children:[u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-4xl mb-2 text-[#7B9FE8]",style:{fontWeight:600},children:"せいと手帳"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"学校生活をスマートに管理"})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8 space-y-6",children:[u.jsx(de,{onClick:v,className:"w-full h-12 bg-white hover:bg-gray-50 text-foreground border border-border rounded-xl shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsxs("div",{className:"flex gap-0.5",children:[u.jsx("div",{className:"w-3 h-3 bg-[#F25022] rounded-sm"}),u.jsx("div",{className:"w-3 h-3 bg-[#7FBA00] rounded-sm"})]}),u.jsxs("div",{className:"flex gap-0.5",children:[u.jsx("div",{className:"w-3 h-3 bg-[#00A4EF] rounded-sm"}),u.jsx("div",{className:"w-3 h-3 bg-[#FFB900] rounded-sm"})]}),u.jsx("span",{className:"ml-2",children:"Microsoftでサインイン"})]})}),u.jsxs("div",{className:"space-y-4 pt-4 border-t border-border",children:[u.jsxs("form",{onSubmit:l?N:j,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pt,{htmlFor:"email",children:"メールアドレス"}),u.jsx(Dt,{id:"email",type:"email",placeholder:"example@school.jp",value:n,onChange:E=>r(E.target.value),className:"rounded-xl",disabled:f})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pt,{htmlFor:"password",children:"パスワード"}),u.jsx(Dt,{id:"password",type:"password",placeholder:"••••••••",value:s,onChange:E=>i(E.target.value),className:"rounded-xl",disabled:f})]}),u.jsxs(de,{type:"submit",className:"w-full h-12 bg-[#7B9FE8] hover:bg-[#6A8DD7] text-white rounded-xl",disabled:f,children:[u.jsx(sk,{className:"w-4 h-4 mr-2"}),f?"処理中...":l?"アカウント作成":"メールでサインイン"]})]}),u.jsx("button",{onClick:()=>d(!l),className:"text-sm text-[#7B9FE8] hover:underline w-full text-center",disabled:f,children:l?"すでにアカウントをお持ちの方はこちら":"新規アカウント作成はこちら"})]})]}),u.jsx("button",{onClick:_,className:"text-xs text-center text-muted-foreground mt-4 w-full hover:text-foreground transition-colors",children:"🔑先生ログイン"}),u.jsx("p",{className:"text-xs text-center text-muted-foreground mt-6",children:"利用することで、利用規約とプライバシーポリシーに同意したものとみなされます"})]}),u.jsx(IR,{open:m,onClose:()=>y(!1),onSuccess:S})]})}function BR(){const t=Ia();return b.useEffect(()=>{const n=async(i,l)=>{if(!i){console.error("No email provided, cannot create user");return}try{const{data:d,error:f}=await te.from("users").select("id").eq("email",i).maybeSingle();if(d){console.log("User already exists in users table (email:",i,")");return}const h=l||i.split("@")[0]||"ユーザー",{error:m}=await te.from("users").insert({email:i,name:h,ms_account_id:null});if(m)throw console.error("Error creating user:",m),m;console.log("New user created in users table with email:",i)}catch(d){throw console.error("Error in ensureUserExists:",d),d}};(async()=>{const{data:{session:i}}=await te.auth.getSession();if(i?.user)try{await n(i.user.email,i.user.user_metadata?.name||i.user.user_metadata?.full_name),t("/home")}catch(l){console.error("Failed to ensure user exists:",l),t("/home")}else t("/")})();const{data:s}=te.auth.onAuthStateChange(async(i,l)=>{if(l?.user)try{await n(l.user.email,l.user.user_metadata?.name||l.user.user_metadata?.full_name),t("/home")}catch(d){console.error("Failed to ensure user exists:",d),t("/home")}else t("/")});return()=>{s.subscription.unsubscribe()}},[t]),u.jsx("div",{children:u.jsx("p",{children:"認証情報を処理中..."})})}const $R=Ed("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function co({className:t,variant:n,...r}){return u.jsx("div",{className:je($R({variant:n}),t),...r})}var HR=b.createContext(void 0);function zd(t){const n=b.useContext(HR);return t||n||"ltr"}function cp(t,[n,r]){return Math.min(r,Math.max(n,t))}function WR(t,n){return b.useReducer((r,s)=>n[r][s]??r,t)}var Fp="ScrollArea",[uS]=La(Fp),[FR,br]=uS(Fp),dS=b.forwardRef((t,n)=>{const{__scopeScrollArea:r,type:s="hover",dir:i,scrollHideDelay:l=600,...d}=t,[f,h]=b.useState(null),[m,y]=b.useState(null),[v,w]=b.useState(null),[j,N]=b.useState(null),[_,S]=b.useState(null),[E,C]=b.useState(0),[T,D]=b.useState(0),[M,k]=b.useState(!1),[A,U]=b.useState(!1),F=pt(n,Q=>h(Q)),V=zd(i);return u.jsx(FR,{scope:r,type:s,dir:V,scrollHideDelay:l,scrollArea:f,viewport:m,onViewportChange:y,content:v,onContentChange:w,scrollbarX:j,onScrollbarXChange:N,scrollbarXEnabled:M,onScrollbarXEnabledChange:k,scrollbarY:_,onScrollbarYChange:S,scrollbarYEnabled:A,onScrollbarYEnabledChange:U,onCornerWidthChange:C,onCornerHeightChange:D,children:u.jsx(Qe.div,{dir:V,...d,ref:F,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});dS.displayName=Fp;var fS="ScrollAreaViewport",hS=b.forwardRef((t,n)=>{const{__scopeScrollArea:r,children:s,nonce:i,...l}=t,d=br(fS,r),f=b.useRef(null),h=pt(n,f,d.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(Qe.div,{"data-radix-scroll-area-viewport":"",...l,ref:h,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});hS.displayName=fS;var sa="ScrollAreaScrollbar",qp=b.forwardRef((t,n)=>{const{forceMount:r,...s}=t,i=br(sa,t.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:d}=i,f=t.orientation==="horizontal";return b.useEffect(()=>(f?l(!0):d(!0),()=>{f?l(!1):d(!1)}),[f,l,d]),i.type==="hover"?u.jsx(qR,{...s,ref:n,forceMount:r}):i.type==="scroll"?u.jsx(YR,{...s,ref:n,forceMount:r}):i.type==="auto"?u.jsx(mS,{...s,ref:n,forceMount:r}):i.type==="always"?u.jsx(Yp,{...s,ref:n}):null});qp.displayName=sa;var qR=b.forwardRef((t,n)=>{const{forceMount:r,...s}=t,i=br(sa,t.__scopeScrollArea),[l,d]=b.useState(!1);return b.useEffect(()=>{const f=i.scrollArea;let h=0;if(f){const m=()=>{window.clearTimeout(h),d(!0)},y=()=>{h=window.setTimeout(()=>d(!1),i.scrollHideDelay)};return f.addEventListener("pointerenter",m),f.addEventListener("pointerleave",y),()=>{window.clearTimeout(h),f.removeEventListener("pointerenter",m),f.removeEventListener("pointerleave",y)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(pr,{present:r||l,children:u.jsx(mS,{"data-state":l?"visible":"hidden",...s,ref:n})})}),YR=b.forwardRef((t,n)=>{const{forceMount:r,...s}=t,i=br(sa,t.__scopeScrollArea),l=t.orientation==="horizontal",d=Pd(()=>h("SCROLL_END"),100),[f,h]=WR("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(f==="idle"){const m=window.setTimeout(()=>h("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(m)}},[f,i.scrollHideDelay,h]),b.useEffect(()=>{const m=i.viewport,y=l?"scrollLeft":"scrollTop";if(m){let v=m[y];const w=()=>{const j=m[y];v!==j&&(h("SCROLL"),d()),v=j};return m.addEventListener("scroll",w),()=>m.removeEventListener("scroll",w)}},[i.viewport,l,h,d]),u.jsx(pr,{present:r||f!=="hidden",children:u.jsx(Yp,{"data-state":f==="hidden"?"hidden":"visible",...s,ref:n,onPointerEnter:Fe(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Fe(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),mS=b.forwardRef((t,n)=>{const r=br(sa,t.__scopeScrollArea),{forceMount:s,...i}=t,[l,d]=b.useState(!1),f=t.orientation==="horizontal",h=Pd(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,y=r.viewport.offsetHeight<r.viewport.scrollHeight;d(f?m:y)}},10);return xi(r.viewport,h),xi(r.content,h),u.jsx(pr,{present:s||l,children:u.jsx(Yp,{"data-state":l?"visible":"hidden",...i,ref:n})})}),Yp=b.forwardRef((t,n)=>{const{orientation:r="vertical",...s}=t,i=br(sa,t.__scopeScrollArea),l=b.useRef(null),d=b.useRef(0),[f,h]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=bS(f.viewport,f.content),y={...s,sizes:f,onSizesChange:h,hasThumb:m>0&&m<1,onThumbChange:w=>l.current=w,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:w=>d.current=w};function v(w,j){return ZR(w,d.current,f,j)}return r==="horizontal"?u.jsx(VR,{...y,ref:n,onThumbPositionChange:()=>{if(i.viewport&&l.current){const w=i.viewport.scrollLeft,j=tw(w,f,i.dir);l.current.style.transform=`translate3d(${j}px, 0, 0)`}},onWheelScroll:w=>{i.viewport&&(i.viewport.scrollLeft=w)},onDragScroll:w=>{i.viewport&&(i.viewport.scrollLeft=v(w,i.dir))}}):r==="vertical"?u.jsx(GR,{...y,ref:n,onThumbPositionChange:()=>{if(i.viewport&&l.current){const w=i.viewport.scrollTop,j=tw(w,f);l.current.style.transform=`translate3d(0, ${j}px, 0)`}},onWheelScroll:w=>{i.viewport&&(i.viewport.scrollTop=w)},onDragScroll:w=>{i.viewport&&(i.viewport.scrollTop=v(w))}}):null}),VR=b.forwardRef((t,n)=>{const{sizes:r,onSizesChange:s,...i}=t,l=br(sa,t.__scopeScrollArea),[d,f]=b.useState(),h=b.useRef(null),m=pt(n,h,l.onScrollbarXChange);return b.useEffect(()=>{h.current&&f(getComputedStyle(h.current))},[h]),u.jsx(gS,{"data-orientation":"horizontal",...i,ref:m,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ud(r)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.x),onDragScroll:y=>t.onDragScroll(y.x),onWheelScroll:(y,v)=>{if(l.viewport){const w=l.viewport.scrollLeft+y.deltaX;t.onWheelScroll(w),xS(w,v)&&y.preventDefault()}},onResize:()=>{h.current&&l.viewport&&d&&s({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:gd(d.paddingLeft),paddingEnd:gd(d.paddingRight)}})}})}),GR=b.forwardRef((t,n)=>{const{sizes:r,onSizesChange:s,...i}=t,l=br(sa,t.__scopeScrollArea),[d,f]=b.useState(),h=b.useRef(null),m=pt(n,h,l.onScrollbarYChange);return b.useEffect(()=>{h.current&&f(getComputedStyle(h.current))},[h]),u.jsx(gS,{"data-orientation":"vertical",...i,ref:m,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ud(r)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.y),onDragScroll:y=>t.onDragScroll(y.y),onWheelScroll:(y,v)=>{if(l.viewport){const w=l.viewport.scrollTop+y.deltaY;t.onWheelScroll(w),xS(w,v)&&y.preventDefault()}},onResize:()=>{h.current&&l.viewport&&d&&s({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:gd(d.paddingTop),paddingEnd:gd(d.paddingBottom)}})}})}),[KR,pS]=uS(sa),gS=b.forwardRef((t,n)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:i,onThumbChange:l,onThumbPointerUp:d,onThumbPointerDown:f,onThumbPositionChange:h,onDragScroll:m,onWheelScroll:y,onResize:v,...w}=t,j=br(sa,r),[N,_]=b.useState(null),S=pt(n,F=>_(F)),E=b.useRef(null),C=b.useRef(""),T=j.viewport,D=s.content-s.viewport,M=zn(y),k=zn(h),A=Pd(v,10);function U(F){if(E.current){const V=F.clientX-E.current.left,Q=F.clientY-E.current.top;m({x:V,y:Q})}}return b.useEffect(()=>{const F=V=>{const Q=V.target;N?.contains(Q)&&M(V,D)};return document.addEventListener("wheel",F,{passive:!1}),()=>document.removeEventListener("wheel",F,{passive:!1})},[T,N,D,M]),b.useEffect(k,[s,k]),xi(N,A),xi(j.content,A),u.jsx(KR,{scope:r,scrollbar:N,hasThumb:i,onThumbChange:zn(l),onThumbPointerUp:zn(d),onThumbPositionChange:k,onThumbPointerDown:zn(f),children:u.jsx(Qe.div,{...w,ref:S,style:{position:"absolute",...w.style},onPointerDown:Fe(t.onPointerDown,F=>{F.button===0&&(F.target.setPointerCapture(F.pointerId),E.current=N.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",j.viewport&&(j.viewport.style.scrollBehavior="auto"),U(F))}),onPointerMove:Fe(t.onPointerMove,U),onPointerUp:Fe(t.onPointerUp,F=>{const V=F.target;V.hasPointerCapture(F.pointerId)&&V.releasePointerCapture(F.pointerId),document.body.style.webkitUserSelect=C.current,j.viewport&&(j.viewport.style.scrollBehavior=""),E.current=null})})})}),pd="ScrollAreaThumb",vS=b.forwardRef((t,n)=>{const{forceMount:r,...s}=t,i=pS(pd,t.__scopeScrollArea);return u.jsx(pr,{present:r||i.hasThumb,children:u.jsx(XR,{ref:n,...s})})}),XR=b.forwardRef((t,n)=>{const{__scopeScrollArea:r,style:s,...i}=t,l=br(pd,r),d=pS(pd,r),{onThumbPositionChange:f}=d,h=pt(n,v=>d.onThumbChange(v)),m=b.useRef(void 0),y=Pd(()=>{m.current&&(m.current(),m.current=void 0)},100);return b.useEffect(()=>{const v=l.viewport;if(v){const w=()=>{if(y(),!m.current){const j=JR(v,f);m.current=j,f()}};return f(),v.addEventListener("scroll",w),()=>v.removeEventListener("scroll",w)}},[l.viewport,y,f]),u.jsx(Qe.div,{"data-state":d.hasThumb?"visible":"hidden",...i,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Fe(t.onPointerDownCapture,v=>{const j=v.target.getBoundingClientRect(),N=v.clientX-j.left,_=v.clientY-j.top;d.onThumbPointerDown({x:N,y:_})}),onPointerUp:Fe(t.onPointerUp,d.onThumbPointerUp)})});vS.displayName=pd;var Vp="ScrollAreaCorner",yS=b.forwardRef((t,n)=>{const r=br(Vp,t.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?u.jsx(QR,{...t,ref:n}):null});yS.displayName=Vp;var QR=b.forwardRef((t,n)=>{const{__scopeScrollArea:r,...s}=t,i=br(Vp,r),[l,d]=b.useState(0),[f,h]=b.useState(0),m=!!(l&&f);return xi(i.scrollbarX,()=>{const y=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(y),h(y)}),xi(i.scrollbarY,()=>{const y=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(y),d(y)}),m?u.jsx(Qe.div,{...s,ref:n,style:{width:l,height:f,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function gd(t){return t?parseInt(t,10):0}function bS(t,n){const r=t/n;return isNaN(r)?0:r}function Ud(t){const n=bS(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-r)*n;return Math.max(s,18)}function ZR(t,n,r,s="ltr"){const i=Ud(r),l=i/2,d=n||l,f=i-d,h=r.scrollbar.paddingStart+d,m=r.scrollbar.size-r.scrollbar.paddingEnd-f,y=r.content-r.viewport,v=s==="ltr"?[0,y]:[y*-1,0];return wS([h,m],v)(t)}function tw(t,n,r="ltr"){const s=Ud(n),i=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,l=n.scrollbar.size-i,d=n.content-n.viewport,f=l-s,h=r==="ltr"?[0,d]:[d*-1,0],m=cp(t,h);return wS([0,d],[0,f])(m)}function wS(t,n){return r=>{if(t[0]===t[1]||n[0]===n[1])return n[0];const s=(n[1]-n[0])/(t[1]-t[0]);return n[0]+s*(r-t[0])}}function xS(t,n){return t>0&&t<n}var JR=(t,n=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},s=0;return(function i(){const l={left:t.scrollLeft,top:t.scrollTop},d=r.left!==l.left,f=r.top!==l.top;(d||f)&&n(),r=l,s=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(s)};function Pd(t,n){const r=zn(t),s=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),b.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,n)},[r,n])}function xi(t,n){const r=zn(n);En(()=>{let s=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(s),i.unobserve(t)}}},[t,r])}var SS=dS,e2=hS,t2=yS;const Mn=b.forwardRef(({className:t,children:n,...r},s)=>u.jsxs(SS,{ref:s,className:je("relative overflow-hidden",t),...r,children:[u.jsx(e2,{className:"h-full w-full rounded-[inherit]",children:n}),u.jsx(jS,{}),u.jsx(t2,{})]}));Mn.displayName=SS.displayName;const jS=b.forwardRef(({className:t,orientation:n="vertical",...r},s)=>u.jsx(qp,{ref:s,orientation:n,className:je("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:u.jsx(vS,{className:"relative flex-1 rounded-full bg-border"})}));jS.displayName=qp.displayName;const ln={国語:"#FF9F9F",数学:"#7B9FE8",英語:"#FFD6A5",外国語:"#FFD6A5",理科:"#A8E8D8",社会:"#B8A8E8",地理歴史:"#B8A8E8",公民:"#B8A8E8",保健体育:"#FFA8C8",芸術:"#FFB8E8",家庭:"#FFE8A8",情報:"#C8D8FF",その他:"#D8D8D8"};function _S(t){const n=t+"CollectionProvider",[r,s]=La(n),[i,l]=r(n,{collectionRef:{current:null},itemMap:new Map}),d=_=>{const{scope:S,children:E}=_,C=I.useRef(null),T=I.useRef(new Map).current;return u.jsx(i,{scope:S,itemMap:T,collectionRef:C,children:E})};d.displayName=n;const f=t+"CollectionSlot",h=uo(f),m=I.forwardRef((_,S)=>{const{scope:E,children:C}=_,T=l(f,E),D=pt(S,T.collectionRef);return u.jsx(h,{ref:D,children:C})});m.displayName=f;const y=t+"CollectionItemSlot",v="data-radix-collection-item",w=uo(y),j=I.forwardRef((_,S)=>{const{scope:E,children:C,...T}=_,D=I.useRef(null),M=pt(S,D),k=l(y,E);return I.useEffect(()=>(k.itemMap.set(D,{ref:D,...T}),()=>void k.itemMap.delete(D))),u.jsx(w,{[v]:"",ref:M,children:C})});j.displayName=y;function N(_){const S=l(t+"CollectionConsumer",_);return I.useCallback(()=>{const C=S.collectionRef.current;if(!C)return[];const T=Array.from(C.querySelectorAll(`[${v}]`));return Array.from(S.itemMap.values()).sort((k,A)=>T.indexOf(k.ref.current)-T.indexOf(A.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:d,Slot:m,ItemSlot:j},N,s]}const n2=["top","right","bottom","left"],Ns=Math.min,rr=Math.max,vd=Math.round,Zu=Math.floor,Xr=t=>({x:t,y:t}),r2={left:"right",right:"left",bottom:"top",top:"bottom"},a2={start:"end",end:"start"};function up(t,n,r){return rr(t,Ns(n,r))}function Ua(t,n){return typeof t=="function"?t(n):t}function Pa(t){return t.split("-")[0]}function Di(t){return t.split("-")[1]}function Gp(t){return t==="x"?"y":"x"}function Kp(t){return t==="y"?"height":"width"}const s2=new Set(["top","bottom"]);function Gr(t){return s2.has(Pa(t))?"y":"x"}function Xp(t){return Gp(Gr(t))}function o2(t,n,r){r===void 0&&(r=!1);const s=Di(t),i=Xp(t),l=Kp(i);let d=i==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return n.reference[l]>n.floating[l]&&(d=yd(d)),[d,yd(d)]}function i2(t){const n=yd(t);return[dp(t),n,dp(n)]}function dp(t){return t.replace(/start|end/g,n=>a2[n])}const nw=["left","right"],rw=["right","left"],l2=["top","bottom"],c2=["bottom","top"];function u2(t,n,r){switch(t){case"top":case"bottom":return r?n?rw:nw:n?nw:rw;case"left":case"right":return n?l2:c2;default:return[]}}function d2(t,n,r,s){const i=Di(t);let l=u2(Pa(t),r==="start",s);return i&&(l=l.map(d=>d+"-"+i),n&&(l=l.concat(l.map(dp)))),l}function yd(t){return t.replace(/left|right|bottom|top/g,n=>r2[n])}function f2(t){return{top:0,right:0,bottom:0,left:0,...t}}function ES(t){return typeof t!="number"?f2(t):{top:t,right:t,bottom:t,left:t}}function bd(t){const{x:n,y:r,width:s,height:i}=t;return{width:s,height:i,top:r,left:n,right:n+s,bottom:r+i,x:n,y:r}}function aw(t,n,r){let{reference:s,floating:i}=t;const l=Gr(n),d=Xp(n),f=Kp(d),h=Pa(n),m=l==="y",y=s.x+s.width/2-i.width/2,v=s.y+s.height/2-i.height/2,w=s[f]/2-i[f]/2;let j;switch(h){case"top":j={x:y,y:s.y-i.height};break;case"bottom":j={x:y,y:s.y+s.height};break;case"right":j={x:s.x+s.width,y:v};break;case"left":j={x:s.x-i.width,y:v};break;default:j={x:s.x,y:s.y}}switch(Di(n)){case"start":j[d]-=w*(r&&m?-1:1);break;case"end":j[d]+=w*(r&&m?-1:1);break}return j}const h2=async(t,n,r)=>{const{placement:s="bottom",strategy:i="absolute",middleware:l=[],platform:d}=r,f=l.filter(Boolean),h=await(d.isRTL==null?void 0:d.isRTL(n));let m=await d.getElementRects({reference:t,floating:n,strategy:i}),{x:y,y:v}=aw(m,s,h),w=s,j={},N=0;for(let _=0;_<f.length;_++){const{name:S,fn:E}=f[_],{x:C,y:T,data:D,reset:M}=await E({x:y,y:v,initialPlacement:s,placement:w,strategy:i,middlewareData:j,rects:m,platform:d,elements:{reference:t,floating:n}});y=C??y,v=T??v,j={...j,[S]:{...j[S],...D}},M&&N<=50&&(N++,typeof M=="object"&&(M.placement&&(w=M.placement),M.rects&&(m=M.rects===!0?await d.getElementRects({reference:t,floating:n,strategy:i}):M.rects),{x:y,y:v}=aw(m,w,h)),_=-1)}return{x:y,y:v,placement:w,strategy:i,middlewareData:j}};async function Xl(t,n){var r;n===void 0&&(n={});const{x:s,y:i,platform:l,rects:d,elements:f,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:w=!1,padding:j=0}=Ua(n,t),N=ES(j),S=f[w?v==="floating"?"reference":"floating":v],E=bd(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(S)))==null||r?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:m,rootBoundary:y,strategy:h})),C=v==="floating"?{x:s,y:i,width:d.floating.width,height:d.floating.height}:d.reference,T=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),D=await(l.isElement==null?void 0:l.isElement(T))?await(l.getScale==null?void 0:l.getScale(T))||{x:1,y:1}:{x:1,y:1},M=bd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:C,offsetParent:T,strategy:h}):C);return{top:(E.top-M.top+N.top)/D.y,bottom:(M.bottom-E.bottom+N.bottom)/D.y,left:(E.left-M.left+N.left)/D.x,right:(M.right-E.right+N.right)/D.x}}const m2=t=>({name:"arrow",options:t,async fn(n){const{x:r,y:s,placement:i,rects:l,platform:d,elements:f,middlewareData:h}=n,{element:m,padding:y=0}=Ua(t,n)||{};if(m==null)return{};const v=ES(y),w={x:r,y:s},j=Xp(i),N=Kp(j),_=await d.getDimensions(m),S=j==="y",E=S?"top":"left",C=S?"bottom":"right",T=S?"clientHeight":"clientWidth",D=l.reference[N]+l.reference[j]-w[j]-l.floating[N],M=w[j]-l.reference[j],k=await(d.getOffsetParent==null?void 0:d.getOffsetParent(m));let A=k?k[T]:0;(!A||!await(d.isElement==null?void 0:d.isElement(k)))&&(A=f.floating[T]||l.floating[N]);const U=D/2-M/2,F=A/2-_[N]/2-1,V=Ns(v[E],F),Q=Ns(v[C],F),re=V,J=A-_[N]-Q,le=A/2-_[N]/2+U,fe=up(re,le,J),R=!h.arrow&&Di(i)!=null&&le!==fe&&l.reference[N]/2-(le<re?V:Q)-_[N]/2<0,L=R?le<re?le-re:le-J:0;return{[j]:w[j]+L,data:{[j]:fe,centerOffset:le-fe-L,...R&&{alignmentOffset:L}},reset:R}}}),p2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var r,s;const{placement:i,middlewareData:l,rects:d,initialPlacement:f,platform:h,elements:m}=n,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:_=!0,...S}=Ua(t,n);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const E=Pa(i),C=Gr(f),T=Pa(f)===f,D=await(h.isRTL==null?void 0:h.isRTL(m.floating)),M=w||(T||!_?[yd(f)]:i2(f)),k=N!=="none";!w&&k&&M.push(...d2(f,_,N,D));const A=[f,...M],U=await Xl(n,S),F=[];let V=((s=l.flip)==null?void 0:s.overflows)||[];if(y&&F.push(U[E]),v){const le=o2(i,d,D);F.push(U[le[0]],U[le[1]])}if(V=[...V,{placement:i,overflows:F}],!F.every(le=>le<=0)){var Q,re;const le=(((Q=l.flip)==null?void 0:Q.index)||0)+1,fe=A[le];if(fe&&(!(v==="alignment"?C!==Gr(fe):!1)||V.every($=>Gr($.placement)===C?$.overflows[0]>0:!0)))return{data:{index:le,overflows:V},reset:{placement:fe}};let R=(re=V.filter(L=>L.overflows[0]<=0).sort((L,$)=>L.overflows[1]-$.overflows[1])[0])==null?void 0:re.placement;if(!R)switch(j){case"bestFit":{var J;const L=(J=V.filter($=>{if(k){const oe=Gr($.placement);return oe===C||oe==="y"}return!0}).map($=>[$.placement,$.overflows.filter(oe=>oe>0).reduce((oe,me)=>oe+me,0)]).sort(($,oe)=>$[1]-oe[1])[0])==null?void 0:J[0];L&&(R=L);break}case"initialPlacement":R=f;break}if(i!==R)return{reset:{placement:R}}}return{}}}};function sw(t,n){return{top:t.top-n.height,right:t.right-n.width,bottom:t.bottom-n.height,left:t.left-n.width}}function ow(t){return n2.some(n=>t[n]>=0)}const g2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(n){const{rects:r}=n,{strategy:s="referenceHidden",...i}=Ua(t,n);switch(s){case"referenceHidden":{const l=await Xl(n,{...i,elementContext:"reference"}),d=sw(l,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:ow(d)}}}case"escaped":{const l=await Xl(n,{...i,altBoundary:!0}),d=sw(l,r.floating);return{data:{escapedOffsets:d,escaped:ow(d)}}}default:return{}}}}},NS=new Set(["left","top"]);async function v2(t,n){const{placement:r,platform:s,elements:i}=t,l=await(s.isRTL==null?void 0:s.isRTL(i.floating)),d=Pa(r),f=Di(r),h=Gr(r)==="y",m=NS.has(d)?-1:1,y=l&&h?-1:1,v=Ua(n,t);let{mainAxis:w,crossAxis:j,alignmentAxis:N}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof N=="number"&&(j=f==="end"?N*-1:N),h?{x:j*y,y:w*m}:{x:w*m,y:j*y}}const y2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){var r,s;const{x:i,y:l,placement:d,middlewareData:f}=n,h=await v2(n,t);return d===((r=f.offset)==null?void 0:r.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:{...h,placement:d}}}}},b2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:r,y:s,placement:i}=n,{mainAxis:l=!0,crossAxis:d=!1,limiter:f={fn:S=>{let{x:E,y:C}=S;return{x:E,y:C}}},...h}=Ua(t,n),m={x:r,y:s},y=await Xl(n,h),v=Gr(Pa(i)),w=Gp(v);let j=m[w],N=m[v];if(l){const S=w==="y"?"top":"left",E=w==="y"?"bottom":"right",C=j+y[S],T=j-y[E];j=up(C,j,T)}if(d){const S=v==="y"?"top":"left",E=v==="y"?"bottom":"right",C=N+y[S],T=N-y[E];N=up(C,N,T)}const _=f.fn({...n,[w]:j,[v]:N});return{..._,data:{x:_.x-r,y:_.y-s,enabled:{[w]:l,[v]:d}}}}}},w2=function(t){return t===void 0&&(t={}),{options:t,fn(n){const{x:r,y:s,placement:i,rects:l,middlewareData:d}=n,{offset:f=0,mainAxis:h=!0,crossAxis:m=!0}=Ua(t,n),y={x:r,y:s},v=Gr(i),w=Gp(v);let j=y[w],N=y[v];const _=Ua(f,n),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const T=w==="y"?"height":"width",D=l.reference[w]-l.floating[T]+S.mainAxis,M=l.reference[w]+l.reference[T]-S.mainAxis;j<D?j=D:j>M&&(j=M)}if(m){var E,C;const T=w==="y"?"width":"height",D=NS.has(Pa(i)),M=l.reference[v]-l.floating[T]+(D&&((E=d.offset)==null?void 0:E[v])||0)+(D?0:S.crossAxis),k=l.reference[v]+l.reference[T]+(D?0:((C=d.offset)==null?void 0:C[v])||0)-(D?S.crossAxis:0);N<M?N=M:N>k&&(N=k)}return{[w]:j,[v]:N}}}},x2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(n){var r,s;const{placement:i,rects:l,platform:d,elements:f}=n,{apply:h=()=>{},...m}=Ua(t,n),y=await Xl(n,m),v=Pa(i),w=Di(i),j=Gr(i)==="y",{width:N,height:_}=l.floating;let S,E;v==="top"||v==="bottom"?(S=v,E=w===(await(d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(E=v,S=w==="end"?"top":"bottom");const C=_-y.top-y.bottom,T=N-y.left-y.right,D=Ns(_-y[S],C),M=Ns(N-y[E],T),k=!n.middlewareData.shift;let A=D,U=M;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(U=T),(s=n.middlewareData.shift)!=null&&s.enabled.y&&(A=C),k&&!w){const V=rr(y.left,0),Q=rr(y.right,0),re=rr(y.top,0),J=rr(y.bottom,0);j?U=N-2*(V!==0||Q!==0?V+Q:rr(y.left,y.right)):A=_-2*(re!==0||J!==0?re+J:rr(y.top,y.bottom))}await h({...n,availableWidth:U,availableHeight:A});const F=await d.getDimensions(f.floating);return N!==F.width||_!==F.height?{reset:{rects:!0}}:{}}}};function Id(){return typeof window<"u"}function ki(t){return CS(t)?(t.nodeName||"").toLowerCase():"#document"}function ar(t){var n;return(t==null||(n=t.ownerDocument)==null?void 0:n.defaultView)||window}function oa(t){var n;return(n=(CS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:n.documentElement}function CS(t){return Id()?t instanceof Node||t instanceof ar(t).Node:!1}function Ar(t){return Id()?t instanceof Element||t instanceof ar(t).Element:!1}function ta(t){return Id()?t instanceof HTMLElement||t instanceof ar(t).HTMLElement:!1}function iw(t){return!Id()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ar(t).ShadowRoot}const S2=new Set(["inline","contents"]);function uc(t){const{overflow:n,overflowX:r,overflowY:s,display:i}=Dr(t);return/auto|scroll|overlay|hidden|clip/.test(n+s+r)&&!S2.has(i)}const j2=new Set(["table","td","th"]);function _2(t){return j2.has(ki(t))}const E2=[":popover-open",":modal"];function Ld(t){return E2.some(n=>{try{return t.matches(n)}catch{return!1}})}const N2=["transform","translate","scale","rotate","perspective"],C2=["transform","translate","scale","rotate","perspective","filter"],T2=["paint","layout","strict","content"];function Qp(t){const n=Zp(),r=Ar(t)?Dr(t):t;return N2.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||C2.some(s=>(r.willChange||"").includes(s))||T2.some(s=>(r.contain||"").includes(s))}function O2(t){let n=Cs(t);for(;ta(n)&&!Si(n);){if(Qp(n))return n;if(Ld(n))return null;n=Cs(n)}return null}function Zp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const A2=new Set(["html","body","#document"]);function Si(t){return A2.has(ki(t))}function Dr(t){return ar(t).getComputedStyle(t)}function Bd(t){return Ar(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Cs(t){if(ki(t)==="html")return t;const n=t.assignedSlot||t.parentNode||iw(t)&&t.host||oa(t);return iw(n)?n.host:n}function TS(t){const n=Cs(t);return Si(n)?t.ownerDocument?t.ownerDocument.body:t.body:ta(n)&&uc(n)?n:TS(n)}function Ql(t,n,r){var s;n===void 0&&(n=[]),r===void 0&&(r=!0);const i=TS(t),l=i===((s=t.ownerDocument)==null?void 0:s.body),d=ar(i);if(l){const f=fp(d);return n.concat(d,d.visualViewport||[],uc(i)?i:[],f&&r?Ql(f):[])}return n.concat(i,Ql(i,[],r))}function fp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OS(t){const n=Dr(t);let r=parseFloat(n.width)||0,s=parseFloat(n.height)||0;const i=ta(t),l=i?t.offsetWidth:r,d=i?t.offsetHeight:s,f=vd(r)!==l||vd(s)!==d;return f&&(r=l,s=d),{width:r,height:s,$:f}}function Jp(t){return Ar(t)?t:t.contextElement}function yi(t){const n=Jp(t);if(!ta(n))return Xr(1);const r=n.getBoundingClientRect(),{width:s,height:i,$:l}=OS(n);let d=(l?vd(r.width):r.width)/s,f=(l?vd(r.height):r.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const D2=Xr(0);function AS(t){const n=ar(t);return!Zp()||!n.visualViewport?D2:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function k2(t,n,r){return n===void 0&&(n=!1),!r||n&&r!==ar(t)?!1:n}function mo(t,n,r,s){n===void 0&&(n=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),l=Jp(t);let d=Xr(1);n&&(s?Ar(s)&&(d=yi(s)):d=yi(t));const f=k2(l,r,s)?AS(l):Xr(0);let h=(i.left+f.x)/d.x,m=(i.top+f.y)/d.y,y=i.width/d.x,v=i.height/d.y;if(l){const w=ar(l),j=s&&Ar(s)?ar(s):s;let N=w,_=fp(N);for(;_&&s&&j!==N;){const S=yi(_),E=_.getBoundingClientRect(),C=Dr(_),T=E.left+(_.clientLeft+parseFloat(C.paddingLeft))*S.x,D=E.top+(_.clientTop+parseFloat(C.paddingTop))*S.y;h*=S.x,m*=S.y,y*=S.x,v*=S.y,h+=T,m+=D,N=ar(_),_=fp(N)}}return bd({width:y,height:v,x:h,y:m})}function $d(t,n){const r=Bd(t).scrollLeft;return n?n.left+r:mo(oa(t)).left+r}function DS(t,n){const r=t.getBoundingClientRect(),s=r.left+n.scrollLeft-$d(t,r),i=r.top+n.scrollTop;return{x:s,y:i}}function R2(t){let{elements:n,rect:r,offsetParent:s,strategy:i}=t;const l=i==="fixed",d=oa(s),f=n?Ld(n.floating):!1;if(s===d||f&&l)return r;let h={scrollLeft:0,scrollTop:0},m=Xr(1);const y=Xr(0),v=ta(s);if((v||!v&&!l)&&((ki(s)!=="body"||uc(d))&&(h=Bd(s)),ta(s))){const j=mo(s);m=yi(s),y.x=j.x+s.clientLeft,y.y=j.y+s.clientTop}const w=d&&!v&&!l?DS(d,h):Xr(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-h.scrollLeft*m.x+y.x+w.x,y:r.y*m.y-h.scrollTop*m.y+y.y+w.y}}function M2(t){return Array.from(t.getClientRects())}function z2(t){const n=oa(t),r=Bd(t),s=t.ownerDocument.body,i=rr(n.scrollWidth,n.clientWidth,s.scrollWidth,s.clientWidth),l=rr(n.scrollHeight,n.clientHeight,s.scrollHeight,s.clientHeight);let d=-r.scrollLeft+$d(t);const f=-r.scrollTop;return Dr(s).direction==="rtl"&&(d+=rr(n.clientWidth,s.clientWidth)-i),{width:i,height:l,x:d,y:f}}const lw=25;function U2(t,n){const r=ar(t),s=oa(t),i=r.visualViewport;let l=s.clientWidth,d=s.clientHeight,f=0,h=0;if(i){l=i.width,d=i.height;const y=Zp();(!y||y&&n==="fixed")&&(f=i.offsetLeft,h=i.offsetTop)}const m=$d(s);if(m<=0){const y=s.ownerDocument,v=y.body,w=getComputedStyle(v),j=y.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,N=Math.abs(s.clientWidth-v.clientWidth-j);N<=lw&&(l-=N)}else m<=lw&&(l+=m);return{width:l,height:d,x:f,y:h}}const P2=new Set(["absolute","fixed"]);function I2(t,n){const r=mo(t,!0,n==="fixed"),s=r.top+t.clientTop,i=r.left+t.clientLeft,l=ta(t)?yi(t):Xr(1),d=t.clientWidth*l.x,f=t.clientHeight*l.y,h=i*l.x,m=s*l.y;return{width:d,height:f,x:h,y:m}}function cw(t,n,r){let s;if(n==="viewport")s=U2(t,r);else if(n==="document")s=z2(oa(t));else if(Ar(n))s=I2(n,r);else{const i=AS(t);s={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return bd(s)}function kS(t,n){const r=Cs(t);return r===n||!Ar(r)||Si(r)?!1:Dr(r).position==="fixed"||kS(r,n)}function L2(t,n){const r=n.get(t);if(r)return r;let s=Ql(t,[],!1).filter(f=>Ar(f)&&ki(f)!=="body"),i=null;const l=Dr(t).position==="fixed";let d=l?Cs(t):t;for(;Ar(d)&&!Si(d);){const f=Dr(d),h=Qp(d);!h&&f.position==="fixed"&&(i=null),(l?!h&&!i:!h&&f.position==="static"&&!!i&&P2.has(i.position)||uc(d)&&!h&&kS(t,d))?s=s.filter(y=>y!==d):i=f,d=Cs(d)}return n.set(t,s),s}function B2(t){let{element:n,boundary:r,rootBoundary:s,strategy:i}=t;const d=[...r==="clippingAncestors"?Ld(n)?[]:L2(n,this._c):[].concat(r),s],f=d[0],h=d.reduce((m,y)=>{const v=cw(n,y,i);return m.top=rr(v.top,m.top),m.right=Ns(v.right,m.right),m.bottom=Ns(v.bottom,m.bottom),m.left=rr(v.left,m.left),m},cw(n,f,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function $2(t){const{width:n,height:r}=OS(t);return{width:n,height:r}}function H2(t,n,r){const s=ta(n),i=oa(n),l=r==="fixed",d=mo(t,!0,l,n);let f={scrollLeft:0,scrollTop:0};const h=Xr(0);function m(){h.x=$d(i)}if(s||!s&&!l)if((ki(n)!=="body"||uc(i))&&(f=Bd(n)),s){const j=mo(n,!0,l,n);h.x=j.x+n.clientLeft,h.y=j.y+n.clientTop}else i&&m();l&&!s&&i&&m();const y=i&&!s&&!l?DS(i,f):Xr(0),v=d.left+f.scrollLeft-h.x-y.x,w=d.top+f.scrollTop-h.y-y.y;return{x:v,y:w,width:d.width,height:d.height}}function Dm(t){return Dr(t).position==="static"}function uw(t,n){if(!ta(t)||Dr(t).position==="fixed")return null;if(n)return n(t);let r=t.offsetParent;return oa(t)===r&&(r=r.ownerDocument.body),r}function RS(t,n){const r=ar(t);if(Ld(t))return r;if(!ta(t)){let i=Cs(t);for(;i&&!Si(i);){if(Ar(i)&&!Dm(i))return i;i=Cs(i)}return r}let s=uw(t,n);for(;s&&_2(s)&&Dm(s);)s=uw(s,n);return s&&Si(s)&&Dm(s)&&!Qp(s)?r:s||O2(t)||r}const W2=async function(t){const n=this.getOffsetParent||RS,r=this.getDimensions,s=await r(t.floating);return{reference:H2(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function F2(t){return Dr(t).direction==="rtl"}const q2={convertOffsetParentRelativeRectToViewportRelativeRect:R2,getDocumentElement:oa,getClippingRect:B2,getOffsetParent:RS,getElementRects:W2,getClientRects:M2,getDimensions:$2,getScale:yi,isElement:Ar,isRTL:F2};function MS(t,n){return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height}function Y2(t,n){let r=null,s;const i=oa(t);function l(){var f;clearTimeout(s),(f=r)==null||f.disconnect(),r=null}function d(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),l();const m=t.getBoundingClientRect(),{left:y,top:v,width:w,height:j}=m;if(f||n(),!w||!j)return;const N=Zu(v),_=Zu(i.clientWidth-(y+w)),S=Zu(i.clientHeight-(v+j)),E=Zu(y),T={rootMargin:-N+"px "+-_+"px "+-S+"px "+-E+"px",threshold:rr(0,Ns(1,h))||1};let D=!0;function M(k){const A=k[0].intersectionRatio;if(A!==h){if(!D)return d();A?d(!1,A):s=setTimeout(()=>{d(!1,1e-7)},1e3)}A===1&&!MS(m,t.getBoundingClientRect())&&d(),D=!1}try{r=new IntersectionObserver(M,{...T,root:i.ownerDocument})}catch{r=new IntersectionObserver(M,T)}r.observe(t)}return d(!0),l}function V2(t,n,r,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,m=Jp(t),y=i||l?[...m?Ql(m):[],...Ql(n)]:[];y.forEach(E=>{i&&E.addEventListener("scroll",r,{passive:!0}),l&&E.addEventListener("resize",r)});const v=m&&f?Y2(m,r):null;let w=-1,j=null;d&&(j=new ResizeObserver(E=>{let[C]=E;C&&C.target===m&&j&&(j.unobserve(n),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var T;(T=j)==null||T.observe(n)})),r()}),m&&!h&&j.observe(m),j.observe(n));let N,_=h?mo(t):null;h&&S();function S(){const E=mo(t);_&&!MS(_,E)&&r(),_=E,N=requestAnimationFrame(S)}return r(),()=>{var E;y.forEach(C=>{i&&C.removeEventListener("scroll",r),l&&C.removeEventListener("resize",r)}),v?.(),(E=j)==null||E.disconnect(),j=null,h&&cancelAnimationFrame(N)}}const G2=y2,K2=b2,X2=p2,Q2=x2,Z2=g2,dw=m2,J2=w2,eM=(t,n,r)=>{const s=new Map,i={platform:q2,...r},l={...i.platform,_c:s};return h2(t,n,{...i,platform:l})};var tM=typeof document<"u",nM=function(){},sd=tM?b.useLayoutEffect:nM;function wd(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if(typeof t=="function"&&t.toString()===n.toString())return!0;let r,s,i;if(t&&n&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==n.length)return!1;for(s=r;s--!==0;)if(!wd(t[s],n[s]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){const l=i[s];if(!(l==="_owner"&&t.$$typeof)&&!wd(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}function zS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function fw(t,n){const r=zS(t);return Math.round(n*r)/r}function km(t){const n=b.useRef(t);return sd(()=>{n.current=t}),n}function rM(t){t===void 0&&(t={});const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:i,elements:{reference:l,floating:d}={},transform:f=!0,whileElementsMounted:h,open:m}=t,[y,v]=b.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[w,j]=b.useState(s);wd(w,s)||j(s);const[N,_]=b.useState(null),[S,E]=b.useState(null),C=b.useCallback($=>{$!==k.current&&(k.current=$,_($))},[]),T=b.useCallback($=>{$!==A.current&&(A.current=$,E($))},[]),D=l||N,M=d||S,k=b.useRef(null),A=b.useRef(null),U=b.useRef(y),F=h!=null,V=km(h),Q=km(i),re=km(m),J=b.useCallback(()=>{if(!k.current||!A.current)return;const $={placement:n,strategy:r,middleware:w};Q.current&&($.platform=Q.current),eM(k.current,A.current,$).then(oe=>{const me={...oe,isPositioned:re.current!==!1};le.current&&!wd(U.current,me)&&(U.current=me,rc.flushSync(()=>{v(me)}))})},[w,n,r,Q,re]);sd(()=>{m===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,v($=>({...$,isPositioned:!1})))},[m]);const le=b.useRef(!1);sd(()=>(le.current=!0,()=>{le.current=!1}),[]),sd(()=>{if(D&&(k.current=D),M&&(A.current=M),D&&M){if(V.current)return V.current(D,M,J);J()}},[D,M,J,V,F]);const fe=b.useMemo(()=>({reference:k,floating:A,setReference:C,setFloating:T}),[C,T]),R=b.useMemo(()=>({reference:D,floating:M}),[D,M]),L=b.useMemo(()=>{const $={position:r,left:0,top:0};if(!R.floating)return $;const oe=fw(R.floating,y.x),me=fw(R.floating,y.y);return f?{...$,transform:"translate("+oe+"px, "+me+"px)",...zS(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:oe,top:me}},[r,f,R.floating,y.x,y.y]);return b.useMemo(()=>({...y,update:J,refs:fe,elements:R,floatingStyles:L}),[y,J,fe,R,L])}const aM=t=>{function n(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:i}=typeof t=="function"?t(r):t;return s&&n(s)?s.current!=null?dw({element:s.current,padding:i}).fn(r):{}:s?dw({element:s,padding:i}).fn(r):{}}}},sM=(t,n)=>({...G2(t),options:[t,n]}),oM=(t,n)=>({...K2(t),options:[t,n]}),iM=(t,n)=>({...J2(t),options:[t,n]}),lM=(t,n)=>({...X2(t),options:[t,n]}),cM=(t,n)=>({...Q2(t),options:[t,n]}),uM=(t,n)=>({...Z2(t),options:[t,n]}),dM=(t,n)=>({...aM(t),options:[t,n]});var fM="Arrow",US=b.forwardRef((t,n)=>{const{children:r,width:s=10,height:i=5,...l}=t;return u.jsx(Qe.svg,{...l,ref:n,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});US.displayName=fM;var hM=US;function PS(t){const[n,r]=b.useState(void 0);return En(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let d,f;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;d=m.inlineSize,f=m.blockSize}else d=t.offsetWidth,f=t.offsetHeight;r({width:d,height:f})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),n}var eg="Popper",[IS,Hd]=La(eg),[mM,LS]=IS(eg),BS=t=>{const{__scopePopper:n,children:r}=t,[s,i]=b.useState(null);return u.jsx(mM,{scope:n,anchor:s,onAnchorChange:i,children:r})};BS.displayName=eg;var $S="PopperAnchor",HS=b.forwardRef((t,n)=>{const{__scopePopper:r,virtualRef:s,...i}=t,l=LS($S,r),d=b.useRef(null),f=pt(n,d),h=b.useRef(null);return b.useEffect(()=>{const m=h.current;h.current=s?.current||d.current,m!==h.current&&l.onAnchorChange(h.current)}),s?null:u.jsx(Qe.div,{...i,ref:f})});HS.displayName=$S;var tg="PopperContent",[pM,gM]=IS(tg),WS=b.forwardRef((t,n)=>{const{__scopePopper:r,side:s="bottom",sideOffset:i=0,align:l="center",alignOffset:d=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:j="optimized",onPlaced:N,..._}=t,S=LS(tg,r),[E,C]=b.useState(null),T=pt(n,se=>C(se)),[D,M]=b.useState(null),k=PS(D),A=k?.width??0,U=k?.height??0,F=s+(l!=="center"?"-"+l:""),V=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},Q=Array.isArray(m)?m:[m],re=Q.length>0,J={padding:V,boundary:Q.filter(yM),altBoundary:re},{refs:le,floatingStyles:fe,placement:R,isPositioned:L,middlewareData:$}=rM({strategy:"fixed",placement:F,whileElementsMounted:(...se)=>V2(...se,{animationFrame:j==="always"}),elements:{reference:S.anchor},middleware:[sM({mainAxis:i+U,alignmentAxis:d}),h&&oM({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?iM():void 0,...J}),h&&lM({...J}),cM({...J,apply:({elements:se,rects:ve,availableWidth:Ee,availableHeight:Pe})=>{const{width:Me,height:Be}=ve.reference,Tt=se.floating.style;Tt.setProperty("--radix-popper-available-width",`${Ee}px`),Tt.setProperty("--radix-popper-available-height",`${Pe}px`),Tt.setProperty("--radix-popper-anchor-width",`${Me}px`),Tt.setProperty("--radix-popper-anchor-height",`${Be}px`)}}),D&&dM({element:D,padding:f}),bM({arrowWidth:A,arrowHeight:U}),w&&uM({strategy:"referenceHidden",...J})]}),[oe,me]=YS(R),z=zn(N);En(()=>{L&&z?.()},[L,z]);const X=$.arrow?.x,q=$.arrow?.y,ne=$.arrow?.centerOffset!==0,[he,ye]=b.useState();return En(()=>{E&&ye(window.getComputedStyle(E).zIndex)},[E]),u.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:L?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(pM,{scope:r,placedSide:oe,onArrowChange:M,arrowX:X,arrowY:q,shouldHideArrow:ne,children:u.jsx(Qe.div,{"data-side":oe,"data-align":me,..._,ref:T,style:{..._.style,animation:L?void 0:"none"}})})})});WS.displayName=tg;var FS="PopperArrow",vM={top:"bottom",right:"left",bottom:"top",left:"right"},qS=b.forwardRef(function(n,r){const{__scopePopper:s,...i}=n,l=gM(FS,s),d=vM[l.placedSide];return u.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:u.jsx(hM,{...i,ref:r,style:{...i.style,display:"block"}})})});qS.displayName=FS;function yM(t){return t!==null}var bM=t=>({name:"transformOrigin",options:t,fn(n){const{placement:r,rects:s,middlewareData:i}=n,d=i.arrow?.centerOffset!==0,f=d?0:t.arrowWidth,h=d?0:t.arrowHeight,[m,y]=YS(r),v={start:"0%",center:"50%",end:"100%"}[y],w=(i.arrow?.x??0)+f/2,j=(i.arrow?.y??0)+h/2;let N="",_="";return m==="bottom"?(N=d?v:`${w}px`,_=`${-h}px`):m==="top"?(N=d?v:`${w}px`,_=`${s.floating.height+h}px`):m==="right"?(N=`${-h}px`,_=d?v:`${j}px`):m==="left"&&(N=`${s.floating.width+h}px`,_=d?v:`${j}px`),{data:{x:N,y:_}}}});function YS(t){const[n,r="center"]=t.split("-");return[n,r]}var VS=BS,ng=HS,GS=WS,KS=qS;function XS(t){const n=b.useRef({value:t,previous:t});return b.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var QS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wM="VisuallyHidden",xM=b.forwardRef((t,n)=>u.jsx(Qe.span,{...t,ref:n,style:{...QS,...t.style}}));xM.displayName=wM;var SM=[" ","Enter","ArrowUp","ArrowDown"],jM=[" ","Enter"],po="Select",[Wd,Fd,_M]=_S(po),[Ri]=La(po,[_M,Hd]),qd=Hd(),[EM,As]=Ri(po),[NM,CM]=Ri(po),ZS=t=>{const{__scopeSelect:n,children:r,open:s,defaultOpen:i,onOpenChange:l,value:d,defaultValue:f,onValueChange:h,dir:m,name:y,autoComplete:v,disabled:w,required:j,form:N}=t,_=qd(n),[S,E]=b.useState(null),[C,T]=b.useState(null),[D,M]=b.useState(!1),k=zd(m),[A,U]=fo({prop:s,defaultProp:i??!1,onChange:l,caller:po}),[F,V]=fo({prop:d,defaultProp:f,onChange:h,caller:po}),Q=b.useRef(null),re=S?N||!!S.closest("form"):!0,[J,le]=b.useState(new Set),fe=Array.from(J).map(R=>R.props.value).join(";");return u.jsx(VS,{..._,children:u.jsxs(EM,{required:j,scope:n,trigger:S,onTriggerChange:E,valueNode:C,onValueNodeChange:T,valueNodeHasChildren:D,onValueNodeHasChildrenChange:M,contentId:ka(),value:F,onValueChange:V,open:A,onOpenChange:U,dir:k,triggerPointerDownPosRef:Q,disabled:w,children:[u.jsx(Wd.Provider,{scope:n,children:u.jsx(NM,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(R=>{le(L=>new Set(L).add(R))},[]),onNativeOptionRemove:b.useCallback(R=>{le(L=>{const $=new Set(L);return $.delete(R),$})},[]),children:r})}),re?u.jsxs(Sj,{"aria-hidden":!0,required:j,tabIndex:-1,name:y,autoComplete:v,value:F,onChange:R=>V(R.target.value),disabled:w,form:N,children:[F===void 0?u.jsx("option",{value:""}):null,Array.from(J)]},fe):null]})})};ZS.displayName=po;var JS="SelectTrigger",ej=b.forwardRef((t,n)=>{const{__scopeSelect:r,disabled:s=!1,...i}=t,l=qd(r),d=As(JS,r),f=d.disabled||s,h=pt(n,d.onTriggerChange),m=Fd(r),y=b.useRef("touch"),[v,w,j]=_j(_=>{const S=m().filter(T=>!T.disabled),E=S.find(T=>T.value===d.value),C=Ej(S,_,E);C!==void 0&&d.onValueChange(C.value)}),N=_=>{f||(d.onOpenChange(!0),j()),_&&(d.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return u.jsx(ng,{asChild:!0,...l,children:u.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":jj(d.value)?"":void 0,...i,ref:h,onClick:Fe(i.onClick,_=>{_.currentTarget.focus(),y.current!=="mouse"&&N(_)}),onPointerDown:Fe(i.onPointerDown,_=>{y.current=_.pointerType;const S=_.target;S.hasPointerCapture(_.pointerId)&&S.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(N(_),_.preventDefault())}),onKeyDown:Fe(i.onKeyDown,_=>{const S=v.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&w(_.key),!(S&&_.key===" ")&&SM.includes(_.key)&&(N(),_.preventDefault())})})})});ej.displayName=JS;var tj="SelectValue",nj=b.forwardRef((t,n)=>{const{__scopeSelect:r,className:s,style:i,children:l,placeholder:d="",...f}=t,h=As(tj,r),{onValueNodeHasChildrenChange:m}=h,y=l!==void 0,v=pt(n,h.onValueNodeChange);return En(()=>{m(y)},[m,y]),u.jsx(Qe.span,{...f,ref:v,style:{pointerEvents:"none"},children:jj(h.value)?u.jsx(u.Fragment,{children:d}):l})});nj.displayName=tj;var TM="SelectIcon",rj=b.forwardRef((t,n)=>{const{__scopeSelect:r,children:s,...i}=t;return u.jsx(Qe.span,{"aria-hidden":!0,...i,ref:n,children:s||"▼"})});rj.displayName=TM;var OM="SelectPortal",aj=t=>u.jsx(Ad,{asChild:!0,...t});aj.displayName=OM;var go="SelectContent",sj=b.forwardRef((t,n)=>{const r=As(go,t.__scopeSelect),[s,i]=b.useState();if(En(()=>{i(new DocumentFragment)},[]),!r.open){const l=s;return l?rc.createPortal(u.jsx(oj,{scope:t.__scopeSelect,children:u.jsx(Wd.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),l):null}return u.jsx(ij,{...t,ref:n})});sj.displayName=go;var Cr=10,[oj,Ds]=Ri(go),AM="SelectContentImpl",DM=uo("SelectContent.RemoveScroll"),ij=b.forwardRef((t,n)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:d,side:f,sideOffset:h,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:w,collisionPadding:j,sticky:N,hideWhenDetached:_,avoidCollisions:S,...E}=t,C=As(go,r),[T,D]=b.useState(null),[M,k]=b.useState(null),A=pt(n,se=>D(se)),[U,F]=b.useState(null),[V,Q]=b.useState(null),re=Fd(r),[J,le]=b.useState(!1),fe=b.useRef(!1);b.useEffect(()=>{if(T)return Ip(T)},[T]),Pp();const R=b.useCallback(se=>{const[ve,...Ee]=re().map(Be=>Be.ref.current),[Pe]=Ee.slice(-1),Me=document.activeElement;for(const Be of se)if(Be===Me||(Be?.scrollIntoView({block:"nearest"}),Be===ve&&M&&(M.scrollTop=0),Be===Pe&&M&&(M.scrollTop=M.scrollHeight),Be?.focus(),document.activeElement!==Me))return},[re,M]),L=b.useCallback(()=>R([U,T]),[R,U,T]);b.useEffect(()=>{J&&L()},[J,L]);const{onOpenChange:$,triggerPointerDownPosRef:oe}=C;b.useEffect(()=>{if(T){let se={x:0,y:0};const ve=Pe=>{se={x:Math.abs(Math.round(Pe.pageX)-(oe.current?.x??0)),y:Math.abs(Math.round(Pe.pageY)-(oe.current?.y??0))}},Ee=Pe=>{se.x<=10&&se.y<=10?Pe.preventDefault():T.contains(Pe.target)||$(!1),document.removeEventListener("pointermove",ve),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[T,$,oe]),b.useEffect(()=>{const se=()=>$(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[$]);const[me,z]=_j(se=>{const ve=re().filter(Me=>!Me.disabled),Ee=ve.find(Me=>Me.ref.current===document.activeElement),Pe=Ej(ve,se,Ee);Pe&&setTimeout(()=>Pe.ref.current.focus())}),X=b.useCallback((se,ve,Ee)=>{const Pe=!fe.current&&!Ee;(C.value!==void 0&&C.value===ve||Pe)&&(F(se),Pe&&(fe.current=!0))},[C.value]),q=b.useCallback(()=>T?.focus(),[T]),ne=b.useCallback((se,ve,Ee)=>{const Pe=!fe.current&&!Ee;(C.value!==void 0&&C.value===ve||Pe)&&Q(se)},[C.value]),he=s==="popper"?hp:lj,ye=he===hp?{side:f,sideOffset:h,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:w,collisionPadding:j,sticky:N,hideWhenDetached:_,avoidCollisions:S}:{};return u.jsx(oj,{scope:r,content:T,viewport:M,onViewportChange:k,itemRefCallback:X,selectedItem:U,onItemLeave:q,itemTextRefCallback:ne,focusSelectedItem:L,selectedItemText:V,position:s,isPositioned:J,searchRef:me,children:u.jsx(kd,{as:DM,allowPinchZoom:!0,children:u.jsx(Od,{asChild:!0,trapped:C.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:Fe(i,se=>{C.trigger?.focus({preventScroll:!0}),se.preventDefault()}),children:u.jsx(Td,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:u.jsx(he,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:se=>se.preventDefault(),...E,...ye,onPlaced:()=>le(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Fe(E.onKeyDown,se=>{const ve=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ve&&se.key.length===1&&z(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let Pe=re().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(se.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Me=se.target,Be=Pe.indexOf(Me);Pe=Pe.slice(Be+1)}setTimeout(()=>R(Pe)),se.preventDefault()}})})})})})})});ij.displayName=AM;var kM="SelectItemAlignedPosition",lj=b.forwardRef((t,n)=>{const{__scopeSelect:r,onPlaced:s,...i}=t,l=As(go,r),d=Ds(go,r),[f,h]=b.useState(null),[m,y]=b.useState(null),v=pt(n,A=>y(A)),w=Fd(r),j=b.useRef(!1),N=b.useRef(!0),{viewport:_,selectedItem:S,selectedItemText:E,focusSelectedItem:C}=d,T=b.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&m&&_&&S&&E){const A=l.trigger.getBoundingClientRect(),U=m.getBoundingClientRect(),F=l.valueNode.getBoundingClientRect(),V=E.getBoundingClientRect();if(l.dir!=="rtl"){const Me=V.left-U.left,Be=F.left-Me,Tt=A.left-Be,W=A.width+Tt,Ae=Math.max(W,U.width),Re=window.innerWidth-Cr,Ve=cp(Be,[Cr,Math.max(Cr,Re-Ae)]);f.style.minWidth=W+"px",f.style.left=Ve+"px"}else{const Me=U.right-V.right,Be=window.innerWidth-F.right-Me,Tt=window.innerWidth-A.right-Be,W=A.width+Tt,Ae=Math.max(W,U.width),Re=window.innerWidth-Cr,Ve=cp(Be,[Cr,Math.max(Cr,Re-Ae)]);f.style.minWidth=W+"px",f.style.right=Ve+"px"}const Q=w(),re=window.innerHeight-Cr*2,J=_.scrollHeight,le=window.getComputedStyle(m),fe=parseInt(le.borderTopWidth,10),R=parseInt(le.paddingTop,10),L=parseInt(le.borderBottomWidth,10),$=parseInt(le.paddingBottom,10),oe=fe+R+J+$+L,me=Math.min(S.offsetHeight*5,oe),z=window.getComputedStyle(_),X=parseInt(z.paddingTop,10),q=parseInt(z.paddingBottom,10),ne=A.top+A.height/2-Cr,he=re-ne,ye=S.offsetHeight/2,se=S.offsetTop+ye,ve=fe+R+se,Ee=oe-ve;if(ve<=ne){const Me=Q.length>0&&S===Q[Q.length-1].ref.current;f.style.bottom="0px";const Be=m.clientHeight-_.offsetTop-_.offsetHeight,Tt=Math.max(he,ye+(Me?q:0)+Be+L),W=ve+Tt;f.style.height=W+"px"}else{const Me=Q.length>0&&S===Q[0].ref.current;f.style.top="0px";const Tt=Math.max(ne,fe+_.offsetTop+(Me?X:0)+ye)+Ee;f.style.height=Tt+"px",_.scrollTop=ve-ne+_.offsetTop}f.style.margin=`${Cr}px 0`,f.style.minHeight=me+"px",f.style.maxHeight=re+"px",s?.(),requestAnimationFrame(()=>j.current=!0)}},[w,l.trigger,l.valueNode,f,m,_,S,E,l.dir,s]);En(()=>T(),[T]);const[D,M]=b.useState();En(()=>{m&&M(window.getComputedStyle(m).zIndex)},[m]);const k=b.useCallback(A=>{A&&N.current===!0&&(T(),C?.(),N.current=!1)},[T,C]);return u.jsx(MM,{scope:r,contentWrapper:f,shouldExpandOnScrollRef:j,onScrollButtonChange:k,children:u.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:u.jsx(Qe.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});lj.displayName=kM;var RM="SelectPopperPosition",hp=b.forwardRef((t,n)=>{const{__scopeSelect:r,align:s="start",collisionPadding:i=Cr,...l}=t,d=qd(r);return u.jsx(GS,{...d,...l,ref:n,align:s,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hp.displayName=RM;var[MM,rg]=Ri(go,{}),mp="SelectViewport",cj=b.forwardRef((t,n)=>{const{__scopeSelect:r,nonce:s,...i}=t,l=Ds(mp,r),d=rg(mp,r),f=pt(n,l.onViewportChange),h=b.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),u.jsx(Wd.Slot,{scope:r,children:u.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Fe(i.onScroll,m=>{const y=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:w}=d;if(w?.current&&v){const j=Math.abs(h.current-y.scrollTop);if(j>0){const N=window.innerHeight-Cr*2,_=parseFloat(v.style.minHeight),S=parseFloat(v.style.height),E=Math.max(_,S);if(E<N){const C=E+j,T=Math.min(N,C),D=C-T;v.style.height=T+"px",v.style.bottom==="0px"&&(y.scrollTop=D>0?D:0,v.style.justifyContent="flex-end")}}}h.current=y.scrollTop})})})]})});cj.displayName=mp;var uj="SelectGroup",[zM,UM]=Ri(uj),PM=b.forwardRef((t,n)=>{const{__scopeSelect:r,...s}=t,i=ka();return u.jsx(zM,{scope:r,id:i,children:u.jsx(Qe.div,{role:"group","aria-labelledby":i,...s,ref:n})})});PM.displayName=uj;var dj="SelectLabel",fj=b.forwardRef((t,n)=>{const{__scopeSelect:r,...s}=t,i=UM(dj,r);return u.jsx(Qe.div,{id:i.id,...s,ref:n})});fj.displayName=dj;var xd="SelectItem",[IM,hj]=Ri(xd),mj=b.forwardRef((t,n)=>{const{__scopeSelect:r,value:s,disabled:i=!1,textValue:l,...d}=t,f=As(xd,r),h=Ds(xd,r),m=f.value===s,[y,v]=b.useState(l??""),[w,j]=b.useState(!1),N=pt(n,C=>h.itemRefCallback?.(C,s,i)),_=ka(),S=b.useRef("touch"),E=()=>{i||(f.onValueChange(s),f.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(IM,{scope:r,value:s,disabled:i,textId:_,isSelected:m,onItemTextChange:b.useCallback(C=>{v(T=>T||(C?.textContent??"").trim())},[]),children:u.jsx(Wd.ItemSlot,{scope:r,value:s,disabled:i,textValue:y,children:u.jsx(Qe.div,{role:"option","aria-labelledby":_,"data-highlighted":w?"":void 0,"aria-selected":m&&w,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:N,onFocus:Fe(d.onFocus,()=>j(!0)),onBlur:Fe(d.onBlur,()=>j(!1)),onClick:Fe(d.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:Fe(d.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:Fe(d.onPointerDown,C=>{S.current=C.pointerType}),onPointerMove:Fe(d.onPointerMove,C=>{S.current=C.pointerType,i?h.onItemLeave?.():S.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(d.onPointerLeave,C=>{C.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Fe(d.onKeyDown,C=>{h.searchRef?.current!==""&&C.key===" "||(jM.includes(C.key)&&E(),C.key===" "&&C.preventDefault())})})})})});mj.displayName=xd;var $l="SelectItemText",pj=b.forwardRef((t,n)=>{const{__scopeSelect:r,className:s,style:i,...l}=t,d=As($l,r),f=Ds($l,r),h=hj($l,r),m=CM($l,r),[y,v]=b.useState(null),w=pt(n,E=>v(E),h.onItemTextChange,E=>f.itemTextRefCallback?.(E,h.value,h.disabled)),j=y?.textContent,N=b.useMemo(()=>u.jsx("option",{value:h.value,disabled:h.disabled,children:j},h.value),[h.disabled,h.value,j]),{onNativeOptionAdd:_,onNativeOptionRemove:S}=m;return En(()=>(_(N),()=>S(N)),[_,S,N]),u.jsxs(u.Fragment,{children:[u.jsx(Qe.span,{id:h.textId,...l,ref:w}),h.isSelected&&d.valueNode&&!d.valueNodeHasChildren?rc.createPortal(l.children,d.valueNode):null]})});pj.displayName=$l;var gj="SelectItemIndicator",vj=b.forwardRef((t,n)=>{const{__scopeSelect:r,...s}=t;return hj(gj,r).isSelected?u.jsx(Qe.span,{"aria-hidden":!0,...s,ref:n}):null});vj.displayName=gj;var pp="SelectScrollUpButton",yj=b.forwardRef((t,n)=>{const r=Ds(pp,t.__scopeSelect),s=rg(pp,t.__scopeSelect),[i,l]=b.useState(!1),d=pt(n,s.onScrollButtonChange);return En(()=>{if(r.viewport&&r.isPositioned){let f=function(){const m=h.scrollTop>0;l(m)};const h=r.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),i?u.jsx(wj,{...t,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=r;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});yj.displayName=pp;var gp="SelectScrollDownButton",bj=b.forwardRef((t,n)=>{const r=Ds(gp,t.__scopeSelect),s=rg(gp,t.__scopeSelect),[i,l]=b.useState(!1),d=pt(n,s.onScrollButtonChange);return En(()=>{if(r.viewport&&r.isPositioned){let f=function(){const m=h.scrollHeight-h.clientHeight,y=Math.ceil(h.scrollTop)<m;l(y)};const h=r.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),i?u.jsx(wj,{...t,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=r;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});bj.displayName=gp;var wj=b.forwardRef((t,n)=>{const{__scopeSelect:r,onAutoScroll:s,...i}=t,l=Ds("SelectScrollButton",r),d=b.useRef(null),f=Fd(r),h=b.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return b.useEffect(()=>()=>h(),[h]),En(()=>{f().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),u.jsx(Qe.div,{"aria-hidden":!0,...i,ref:n,style:{flexShrink:0,...i.style},onPointerDown:Fe(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(s,50))}),onPointerMove:Fe(i.onPointerMove,()=>{l.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(s,50))}),onPointerLeave:Fe(i.onPointerLeave,()=>{h()})})}),LM="SelectSeparator",xj=b.forwardRef((t,n)=>{const{__scopeSelect:r,...s}=t;return u.jsx(Qe.div,{"aria-hidden":!0,...s,ref:n})});xj.displayName=LM;var vp="SelectArrow",BM=b.forwardRef((t,n)=>{const{__scopeSelect:r,...s}=t,i=qd(r),l=As(vp,r),d=Ds(vp,r);return l.open&&d.position==="popper"?u.jsx(KS,{...i,...s,ref:n}):null});BM.displayName=vp;var $M="SelectBubbleInput",Sj=b.forwardRef(({__scopeSelect:t,value:n,...r},s)=>{const i=b.useRef(null),l=pt(s,i),d=XS(n);return b.useEffect(()=>{const f=i.current;if(!f)return;const h=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==n&&y){const v=new Event("change",{bubbles:!0});y.call(f,n),f.dispatchEvent(v)}},[d,n]),u.jsx(Qe.select,{...r,style:{...QS,...r.style},ref:l,defaultValue:n})});Sj.displayName=$M;function jj(t){return t===""||t===void 0}function _j(t){const n=zn(t),r=b.useRef(""),s=b.useRef(0),i=b.useCallback(d=>{const f=r.current+d;n(f),(function h(m){r.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>h(""),1e3))})(f)},[n]),l=b.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,i,l]}function Ej(t,n,r){const i=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,l=r?t.indexOf(r):-1;let d=HM(t,Math.max(l,0));i.length===1&&(d=d.filter(m=>m!==r));const h=d.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==r?h:void 0}function HM(t,n){return t.map((r,s)=>t[(n+s)%t.length])}var WM=ZS,Nj=ej,FM=nj,qM=rj,YM=aj,Cj=sj,VM=cj,Tj=fj,Oj=mj,GM=pj,KM=vj,Aj=yj,Dj=bj,kj=xj;const Ra=WM,Ma=FM,Qr=b.forwardRef(({className:t,children:n,...r},s)=>u.jsxs(Nj,{ref:s,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[n,u.jsx(qM,{asChild:!0,children:u.jsx(Cd,{className:"h-4 w-4 opacity-50"})})]}));Qr.displayName=Nj.displayName;const Rj=b.forwardRef(({className:t,...n},r)=>u.jsx(Aj,{ref:r,className:je("flex cursor-default items-center justify-center py-1",t),...n,children:u.jsx(KD,{className:"h-4 w-4"})}));Rj.displayName=Aj.displayName;const Mj=b.forwardRef(({className:t,...n},r)=>u.jsx(Dj,{ref:r,className:je("flex cursor-default items-center justify-center py-1",t),...n,children:u.jsx(Cd,{className:"h-4 w-4"})}));Mj.displayName=Dj.displayName;const Zr=b.forwardRef(({className:t,children:n,position:r="popper",...s},i)=>u.jsx(YM,{children:u.jsxs(Cj,{ref:i,className:je("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...s,children:[u.jsx(Rj,{}),u.jsx(VM,{className:je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),u.jsx(Mj,{})]})}));Zr.displayName=Cj.displayName;const XM=b.forwardRef(({className:t,...n},r)=>u.jsx(Tj,{ref:r,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...n}));XM.displayName=Tj.displayName;const Jr=b.forwardRef(({className:t,children:n,...r},s)=>u.jsxs(Oj,{ref:s,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(KM,{children:u.jsx(Xt,{className:"h-4 w-4"})})}),u.jsx(GM,{children:n})]}));Jr.displayName=Oj.displayName;const QM=b.forwardRef(({className:t,...n},r)=>u.jsx(kj,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",t),...n}));QM.displayName=kj.displayName;function ZM(t,n,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:r}).format(n).split(/\s/g).slice(2).join(" ")}const JM={},Hl={};function lo(t,n){try{const s=(JM[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(n).split("GMT")[1];return s in Hl?Hl[s]:hw(s,s.split(":"))}catch{if(t in Hl)return Hl[t];const r=t?.match(e4);return r?hw(t,r.slice(1)):NaN}}const e4=/([+-]\d\d):?(\d\d)?/;function hw(t,n){const r=+(n[0]||0),s=+(n[1]||0),i=+(n[2]||0)/60;return Hl[t]=r*60+s>0?r*60+s+i:r*60-s-i}class Kr extends Date{constructor(...n){super(),n.length>1&&typeof n[n.length-1]=="string"&&(this.timeZone=n.pop()),this.internal=new Date,isNaN(lo(this.timeZone,this))?this.setTime(NaN):n.length?typeof n[0]=="number"&&(n.length===1||n.length===2&&typeof n[1]!="number")?this.setTime(n[0]):typeof n[0]=="string"?this.setTime(+new Date(n[0])):n[0]instanceof Date?this.setTime(+n[0]):(this.setTime(+new Date(...n)),zj(this),yp(this)):this.setTime(Date.now())}static tz(n,...r){return r.length?new Kr(...r,n):new Kr(Date.now(),n)}withTimeZone(n){return new Kr(+this,n)}getTimezoneOffset(){const n=-lo(this.timeZone,this);return n>0?Math.floor(n):Math.ceil(n)}setTime(n){return Date.prototype.setTime.apply(this,arguments),yp(this),+this}[Symbol.for("constructDateFrom")](n){return new Kr(+new Date(n),this.timeZone)}}const mw=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!mw.test(t))return;const n=t.replace(mw,"$1UTC");Kr.prototype[n]&&(t.startsWith("get")?Kr.prototype[t]=function(){return this.internal[n]()}:(Kr.prototype[t]=function(){return Date.prototype[n].apply(this.internal,arguments),t4(this),+this},Kr.prototype[n]=function(){return Date.prototype[n].apply(this,arguments),yp(this),+this}))});function yp(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-lo(t.timeZone,t)*60))}function t4(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),zj(t)}function zj(t){const n=lo(t.timeZone,t),r=n>0?Math.floor(n):Math.ceil(n),s=new Date(+t);s.setUTCHours(s.getUTCHours()-1);const i=-new Date(+t).getTimezoneOffset(),l=-new Date(+s).getTimezoneOffset(),d=i-l,f=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();d&&f&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+d);const h=i-r;h&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+h);const m=new Date(+t);m.setUTCSeconds(0);const y=i>0?m.getSeconds():(m.getSeconds()-60)%60,v=Math.round(-(lo(t.timeZone,t)*60))%60;(v||y)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+v),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+v+y));const w=lo(t.timeZone,t),j=w>0?Math.floor(w):Math.ceil(w),_=-new Date(+t).getTimezoneOffset()-j,S=j!==r,E=_-h;if(S&&E){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+E);const C=lo(t.timeZone,t),T=C>0?Math.floor(C):Math.ceil(C),D=j-T;D&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+D),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+D))}}class An extends Kr{static tz(n,...r){return r.length?new An(...r,n):new An(Date.now(),n)}toISOString(){const[n,r,s]=this.tzComponents(),i=`${n}${r}:${s}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[n,r,s,i]=this.internal.toUTCString().split(" ");return`${n?.slice(0,-1)} ${s} ${r} ${i}`}toTimeString(){const n=this.internal.toUTCString().split(" ")[4],[r,s,i]=this.tzComponents();return`${n} GMT${r}${s}${i} (${ZM(this.timeZone,this)})`}toLocaleString(n,r){return Date.prototype.toLocaleString.call(this,n,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(n,r){return Date.prototype.toLocaleDateString.call(this,n,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(n,r){return Date.prototype.toLocaleTimeString.call(this,n,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const n=this.getTimezoneOffset(),r=n>0?"-":"+",s=String(Math.floor(Math.abs(n)/60)).padStart(2,"0"),i=String(Math.abs(n)%60).padStart(2,"0");return[r,s,i]}withTimeZone(n){return new An(+this,n)}[Symbol.for("constructDateFrom")](n){return new An(+new Date(n),this.timeZone)}}const Uj=6048e5,n4=864e5,pw=Symbol.for("constructDateFrom");function cn(t,n){return typeof t=="function"?t(n):t&&typeof t=="object"&&pw in t?t[pw](n):t instanceof Date?new t.constructor(n):new Date(n)}function Et(t,n){return cn(n||t,t)}function Pj(t,n,r){const s=Et(t,r?.in);return isNaN(n)?cn(t,NaN):(n&&s.setDate(s.getDate()+n),s)}function Ij(t,n,r){const s=Et(t,r?.in);if(isNaN(n))return cn(t,NaN);if(!n)return s;const i=s.getDate(),l=cn(t,s.getTime());l.setMonth(s.getMonth()+n+1,0);const d=l.getDate();return i>=d?l:(s.setFullYear(l.getFullYear(),l.getMonth(),i),s)}let r4={};function dc(){return r4}function ji(t,n){const r=dc(),s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Et(t,n?.in),l=i.getDay(),d=(l<s?7:0)+l-s;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function Zl(t,n){return ji(t,{...n,weekStartsOn:1})}function Lj(t,n){const r=Et(t,n?.in),s=r.getFullYear(),i=cn(r,0);i.setFullYear(s+1,0,4),i.setHours(0,0,0,0);const l=Zl(i),d=cn(r,0);d.setFullYear(s,0,4),d.setHours(0,0,0,0);const f=Zl(d);return r.getTime()>=l.getTime()?s+1:r.getTime()>=f.getTime()?s:s-1}function gw(t){const n=Et(t),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+t-+r}function Mi(t,...n){const r=cn.bind(null,n.find(s=>typeof s=="object"));return n.map(r)}function Jl(t,n){const r=Et(t,n?.in);return r.setHours(0,0,0,0),r}function Bj(t,n,r){const[s,i]=Mi(r?.in,t,n),l=Jl(s),d=Jl(i),f=+l-gw(l),h=+d-gw(d);return Math.round((f-h)/n4)}function a4(t,n){const r=Lj(t,n),s=cn(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Zl(s)}function s4(t,n,r){return Pj(t,n*7,r)}function o4(t,n,r){return Ij(t,n*12,r)}function i4(t,n){let r,s=n?.in;return t.forEach(i=>{!s&&typeof i=="object"&&(s=cn.bind(null,i));const l=Et(i,s);(!r||r<l||isNaN(+l))&&(r=l)}),cn(s,r||NaN)}function l4(t,n){let r,s=n?.in;return t.forEach(i=>{!s&&typeof i=="object"&&(s=cn.bind(null,i));const l=Et(i,s);(!r||r>l||isNaN(+l))&&(r=l)}),cn(s,r||NaN)}function c4(t,n,r){const[s,i]=Mi(r?.in,t,n);return+Jl(s)==+Jl(i)}function $j(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function u4(t){return!(!$j(t)&&typeof t!="number"||isNaN(+Et(t)))}function d4(t,n,r){const[s,i]=Mi(r?.in,t,n),l=s.getFullYear()-i.getFullYear(),d=s.getMonth()-i.getMonth();return l*12+d}function f4(t,n){const r=Et(t,n?.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function Hj(t,n){const[r,s]=Mi(t,n.start,n.end);return{start:r,end:s}}function h4(t,n){const{start:r,end:s}=Hj(n?.in,t);let i=+r>+s;const l=i?+r:+s,d=i?s:r;d.setHours(0,0,0,0),d.setDate(1);let f=1;const h=[];for(;+d<=l;)h.push(cn(r,d)),d.setMonth(d.getMonth()+f);return i?h.reverse():h}function m4(t,n){const r=Et(t,n?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function p4(t,n){const r=Et(t,n?.in),s=r.getFullYear();return r.setFullYear(s+1,0,0),r.setHours(23,59,59,999),r}function Wj(t,n){const r=Et(t,n?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function g4(t,n){const{start:r,end:s}=Hj(n?.in,t);let i=+r>+s;const l=i?+r:+s,d=i?s:r;d.setHours(0,0,0,0),d.setMonth(0,1);let f=1;const h=[];for(;+d<=l;)h.push(cn(r,d)),d.setFullYear(d.getFullYear()+f);return i?h.reverse():h}function Fj(t,n){const r=dc(),s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Et(t,n?.in),l=i.getDay(),d=(l<s?-7:0)+6-(l-s);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}function v4(t,n){return Fj(t,{...n,weekStartsOn:1})}const y4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b4=(t,n,r)=>{let s;const i=y4[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function bi(t){return(n={})=>{const r=n.width?String(n.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const w4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},x4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},S4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j4={date:bi({formats:w4,defaultWidth:"full"}),time:bi({formats:x4,defaultWidth:"full"}),dateTime:bi({formats:S4,defaultWidth:"full"})},_4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},E4=(t,n,r,s)=>_4[t];function Yr(t){return(n,r)=>{const s=r?.context?String(r.context):"standalone";let i;if(s==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,f=r?.width?String(r.width):d;i=t.formattingValues[f]||t.formattingValues[d]}else{const d=t.defaultWidth,f=r?.width?String(r.width):t.defaultWidth;i=t.values[f]||t.values[d]}const l=t.argumentCallback?t.argumentCallback(n):n;return i[l]}}const N4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},C4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},T4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},O4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},A4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},D4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},k4=(t,n)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},R4={ordinalNumber:k4,era:Yr({values:N4,defaultWidth:"wide"}),quarter:Yr({values:C4,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Yr({values:T4,defaultWidth:"wide"}),day:Yr({values:O4,defaultWidth:"wide"}),dayPeriod:Yr({values:A4,defaultWidth:"wide",formattingValues:D4,defaultFormattingWidth:"wide"})};function Vr(t){return(n,r={})=>{const s=r.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=n.match(i);if(!l)return null;const d=l[0],f=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(f)?z4(f,v=>v.test(d)):M4(f,v=>v.test(d));let m;m=t.valueCallback?t.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;const y=n.slice(d.length);return{value:m,rest:y}}}function M4(t,n){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n(t[r]))return r}function z4(t,n){for(let r=0;r<t.length;r++)if(n(t[r]))return r}function qj(t){return(n,r={})=>{const s=n.match(t.matchPattern);if(!s)return null;const i=s[0],l=n.match(t.parsePattern);if(!l)return null;let d=t.valueCallback?t.valueCallback(l[0]):l[0];d=r.valueCallback?r.valueCallback(d):d;const f=n.slice(i.length);return{value:d,rest:f}}}const U4=/^(\d+)(th|st|nd|rd)?/i,P4=/\d+/i,I4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L4={any:[/^b/i,/^(a|c)/i]},B4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$4={any:[/1/i,/2/i,/3/i,/4/i]},H4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},W4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},q4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Y4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},V4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},G4={ordinalNumber:qj({matchPattern:U4,parsePattern:P4,valueCallback:t=>parseInt(t,10)}),era:Vr({matchPatterns:I4,defaultMatchWidth:"wide",parsePatterns:L4,defaultParseWidth:"any"}),quarter:Vr({matchPatterns:B4,defaultMatchWidth:"wide",parsePatterns:$4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vr({matchPatterns:H4,defaultMatchWidth:"wide",parsePatterns:W4,defaultParseWidth:"any"}),day:Vr({matchPatterns:F4,defaultMatchWidth:"wide",parsePatterns:q4,defaultParseWidth:"any"}),dayPeriod:Vr({matchPatterns:Y4,defaultMatchWidth:"any",parsePatterns:V4,defaultParseWidth:"any"})},ag={code:"en-US",formatDistance:b4,formatLong:j4,formatRelative:E4,localize:R4,match:G4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function K4(t,n){const r=Et(t,n?.in);return Bj(r,Wj(r))+1}function Yj(t,n){const r=Et(t,n?.in),s=+Zl(r)-+a4(r);return Math.round(s/Uj)+1}function Vj(t,n){const r=Et(t,n?.in),s=r.getFullYear(),i=dc(),l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=cn(n?.in||t,0);d.setFullYear(s+1,0,l),d.setHours(0,0,0,0);const f=ji(d,n),h=cn(n?.in||t,0);h.setFullYear(s,0,l),h.setHours(0,0,0,0);const m=ji(h,n);return+r>=+f?s+1:+r>=+m?s:s-1}function X4(t,n){const r=dc(),s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=Vj(t,n),l=cn(n?.in||t,0);return l.setFullYear(i,0,s),l.setHours(0,0,0,0),ji(l,n)}function Gj(t,n){const r=Et(t,n?.in),s=+ji(r,n)-+X4(r,n);return Math.round(s/Uj)+1}function xt(t,n){const r=t<0?"-":"",s=Math.abs(t).toString().padStart(n,"0");return r+s}const bs={y(t,n){const r=t.getFullYear(),s=r>0?r:1-r;return xt(n==="yy"?s%100:s,n.length)},M(t,n){const r=t.getMonth();return n==="M"?String(r+1):xt(r+1,2)},d(t,n){return xt(t.getDate(),n.length)},a(t,n){const r=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,n){return xt(t.getHours()%12||12,n.length)},H(t,n){return xt(t.getHours(),n.length)},m(t,n){return xt(t.getMinutes(),n.length)},s(t,n){return xt(t.getSeconds(),n.length)},S(t,n){const r=n.length,s=t.getMilliseconds(),i=Math.trunc(s*Math.pow(10,r-3));return xt(i,n.length)}},hi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vw={G:function(t,n,r){const s=t.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){const s=t.getFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return bs.y(t,n)},Y:function(t,n,r,s){const i=Vj(t,s),l=i>0?i:1-i;if(n==="YY"){const d=l%100;return xt(d,2)}return n==="Yo"?r.ordinalNumber(l,{unit:"year"}):xt(l,n.length)},R:function(t,n){const r=Lj(t);return xt(r,n.length)},u:function(t,n){const r=t.getFullYear();return xt(r,n.length)},Q:function(t,n,r){const s=Math.ceil((t.getMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return xt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){const s=Math.ceil((t.getMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return xt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){const s=t.getMonth();switch(n){case"M":case"MM":return bs.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){const s=t.getMonth();switch(n){case"L":return String(s+1);case"LL":return xt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){const i=Gj(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):xt(i,n.length)},I:function(t,n,r){const s=Yj(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):xt(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):bs.d(t,n)},D:function(t,n,r){const s=K4(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):xt(s,n.length)},E:function(t,n,r){const s=t.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){const i=t.getDay(),l=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(l);case"ee":return xt(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){const i=t.getDay(),l=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(l);case"cc":return xt(l,n.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){const s=t.getDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return xt(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){const i=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){const s=t.getHours();let i;switch(s===12?i=hi.noon:s===0?i=hi.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){const s=t.getHours();let i;switch(s>=17?i=hi.evening:s>=12?i=hi.afternoon:s>=4?i=hi.morning:i=hi.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){let s=t.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return bs.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):bs.H(t,n)},K:function(t,n,r){const s=t.getHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):xt(s,n.length)},k:function(t,n,r){let s=t.getHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):xt(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):bs.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):bs.s(t,n)},S:function(t,n){return bs.S(t,n)},X:function(t,n,r){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return bw(s);case"XXXX":case"XX":return ao(s);case"XXXXX":case"XXX":default:return ao(s,":")}},x:function(t,n,r){const s=t.getTimezoneOffset();switch(n){case"x":return bw(s);case"xxxx":case"xx":return ao(s);case"xxxxx":case"xxx":default:return ao(s,":")}},O:function(t,n,r){const s=t.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+yw(s,":");case"OOOO":default:return"GMT"+ao(s,":")}},z:function(t,n,r){const s=t.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+yw(s,":");case"zzzz":default:return"GMT"+ao(s,":")}},t:function(t,n,r){const s=Math.trunc(+t/1e3);return xt(s,n.length)},T:function(t,n,r){return xt(+t,n.length)}};function yw(t,n=""){const r=t>0?"-":"+",s=Math.abs(t),i=Math.trunc(s/60),l=s%60;return l===0?r+String(i):r+String(i)+n+xt(l,2)}function bw(t,n){return t%60===0?(t>0?"-":"+")+xt(Math.abs(t)/60,2):ao(t,n)}function ao(t,n=""){const r=t>0?"-":"+",s=Math.abs(t),i=xt(Math.trunc(s/60),2),l=xt(s%60,2);return r+i+n+l}const ww=(t,n)=>{switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Kj=(t,n)=>{switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Q4=(t,n)=>{const r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return ww(t,n);let l;switch(s){case"P":l=n.dateTime({width:"short"});break;case"PP":l=n.dateTime({width:"medium"});break;case"PPP":l=n.dateTime({width:"long"});break;case"PPPP":default:l=n.dateTime({width:"full"});break}return l.replace("{{date}}",ww(s,n)).replace("{{time}}",Kj(i,n))},Z4={p:Kj,P:Q4},J4=/^D+$/,e3=/^Y+$/,t3=["D","DD","YY","YYYY"];function n3(t){return J4.test(t)}function r3(t){return e3.test(t)}function a3(t,n,r){const s=s3(t,n,r);if(console.warn(s),t3.includes(t))throw new RangeError(s)}function s3(t,n,r){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${n}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const o3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l3=/^'([^]*?)'?$/,c3=/''/g,u3=/[a-zA-Z]/;function _i(t,n,r){const s=dc(),i=r?.locale??s.locale??ag,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,d=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,f=Et(t,r?.in);if(!u4(f))throw new RangeError("Invalid time value");let h=n.match(i3).map(y=>{const v=y[0];if(v==="p"||v==="P"){const w=Z4[v];return w(y,i.formatLong)}return y}).join("").match(o3).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:d3(y)};if(vw[v])return{isToken:!0,value:y};if(v.match(u3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(h=i.localize.preprocessor(f,h));const m={firstWeekContainsDate:l,weekStartsOn:d,locale:i};return h.map(y=>{if(!y.isToken)return y.value;const v=y.value;(!r?.useAdditionalWeekYearTokens&&r3(v)||!r?.useAdditionalDayOfYearTokens&&n3(v))&&a3(v,n,String(t));const w=vw[v[0]];return w(f,v,i.localize,m)}).join("")}function d3(t){const n=t.match(l3);return n?n[1].replace(c3,"'"):t}function f3(t,n){const r=Et(t,n?.in),s=r.getFullYear(),i=r.getMonth(),l=cn(r,0);return l.setFullYear(s,i+1,0),l.setHours(0,0,0,0),l.getDate()}function h3(t,n){return Et(t,n?.in).getMonth()}function m3(t,n){return Et(t,n?.in).getFullYear()}function p3(t,n){return+Et(t)>+Et(n)}function g3(t,n){return+Et(t)<+Et(n)}function v3(t,n,r){const[s,i]=Mi(r?.in,t,n);return s.getFullYear()===i.getFullYear()&&s.getMonth()===i.getMonth()}function y3(t,n,r){const[s,i]=Mi(r?.in,t,n);return s.getFullYear()===i.getFullYear()}function b3(t,n,r){const s=Et(t,r?.in),i=s.getFullYear(),l=s.getDate(),d=cn(t,0);d.setFullYear(i,n,15),d.setHours(0,0,0,0);const f=f3(d);return s.setMonth(n,Math.min(l,f)),s}function w3(t,n,r){const s=Et(t,r?.in);return isNaN(+s)?cn(t,NaN):(s.setFullYear(n),s)}const xw=5,x3=4;function S3(t,n){const r=n.startOfMonth(t),s=r.getDay()>0?r.getDay():7,i=n.addDays(t,-s+1),l=n.addDays(i,xw*7-1);return n.getMonth(t)===n.getMonth(l)?xw:x3}function Xj(t,n){const r=n.startOfMonth(t),s=r.getDay();return s===1?r:s===0?n.addDays(r,-6):n.addDays(r,-1*(s-1))}function j3(t,n){const r=Xj(t,n),s=S3(t,n);return n.addDays(r,s*7-1)}class sr{constructor(n,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?An.tz(this.options.timeZone):new this.Date,this.newDate=(s,i,l)=>this.overrides?.newDate?this.overrides.newDate(s,i,l):this.options.timeZone?new An(s,i,l,this.options.timeZone):new Date(s,i,l),this.addDays=(s,i)=>this.overrides?.addDays?this.overrides.addDays(s,i):Pj(s,i),this.addMonths=(s,i)=>this.overrides?.addMonths?this.overrides.addMonths(s,i):Ij(s,i),this.addWeeks=(s,i)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,i):s4(s,i),this.addYears=(s,i)=>this.overrides?.addYears?this.overrides.addYears(s,i):o4(s,i),this.differenceInCalendarDays=(s,i)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,i):Bj(s,i),this.differenceInCalendarMonths=(s,i)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,i):d4(s,i),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):h4(s),this.eachYearOfInterval=s=>{const i=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(s):g4(s),l=new Set(i.map(f=>this.getYear(f)));if(l.size===i.length)return i;const d=[];return l.forEach(f=>{d.push(new Date(f,0,1))}),d},this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):j3(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):v4(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):f4(s),this.endOfWeek=(s,i)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,i):Fj(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):p4(s),this.format=(s,i,l)=>{const d=this.overrides?.format?this.overrides.format(s,i,this.options):_i(s,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(d):d},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):Yj(s),this.getMonth=(s,i)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):h3(s,this.options),this.getYear=(s,i)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):m3(s,this.options),this.getWeek=(s,i)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):Gj(s,this.options),this.isAfter=(s,i)=>this.overrides?.isAfter?this.overrides.isAfter(s,i):p3(s,i),this.isBefore=(s,i)=>this.overrides?.isBefore?this.overrides.isBefore(s,i):g3(s,i),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):$j(s),this.isSameDay=(s,i)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,i):c4(s,i),this.isSameMonth=(s,i)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,i):v3(s,i),this.isSameYear=(s,i)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,i):y3(s,i),this.max=s=>this.overrides?.max?this.overrides.max(s):i4(s),this.min=s=>this.overrides?.min?this.overrides.min(s):l4(s),this.setMonth=(s,i)=>this.overrides?.setMonth?this.overrides.setMonth(s,i):b3(s,i),this.setYear=(s,i)=>this.overrides?.setYear?this.overrides.setYear(s,i):w3(s,i),this.startOfBroadcastWeek=(s,i)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):Xj(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):Jl(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):Zl(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):m4(s),this.startOfWeek=(s,i)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):ji(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):Wj(s),this.options={locale:ag,...n},this.overrides=r}getDigitMap(){const{numerals:n="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:n}),s={};for(let i=0;i<10;i++)s[i.toString()]=r.format(i);return s}replaceDigits(n){const r=this.getDigitMap();return n.replace(/\d/g,s=>r[s]||s)}formatNumber(n){return this.replaceDigits(n.toString())}getMonthYearOrder(){const n=this.options.locale?.code;return n&&sr.yearFirstLocales.has(n)?"year-first":"month-first"}formatMonthYear(n){const{locale:r,timeZone:s,numerals:i}=this.options,l=r?.code;if(l&&sr.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:s,numberingSystem:i}).format(n)}catch{}const d=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(n,d)}}sr.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const ia=new sr;class Qj{constructor(n,r,s=ia){this.date=n,this.displayMonth=r,this.outside=!!(r&&!s.isSameMonth(n,r)),this.dateLib=s}isEqualTo(n){return this.dateLib.isSameDay(n.date,this.date)&&this.dateLib.isSameMonth(n.displayMonth,this.displayMonth)}}class _3{constructor(n,r){this.date=n,this.weeks=r}}class E3{constructor(n,r){this.days=r,this.weekNumber=n}}function N3(t){return I.createElement("button",{...t})}function C3(t){return I.createElement("span",{...t})}function T3(t){const{size:n=24,orientation:r="left",className:s}=t;return I.createElement("svg",{className:s,width:n,height:n,viewBox:"0 0 24 24"},r==="up"&&I.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&I.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&I.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&I.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function O3(t){const{day:n,modifiers:r,...s}=t;return I.createElement("td",{...s})}function A3(t){const{day:n,modifiers:r,...s}=t,i=I.useRef(null);return I.useEffect(()=>{r.focused&&i.current?.focus()},[r.focused]),I.createElement("button",{ref:i,...s})}var ze;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ze||(ze={}));var Bt;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Bt||(Bt={}));var Or;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Or||(Or={}));var tr;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(tr||(tr={}));function D3(t){const{options:n,className:r,components:s,classNames:i,...l}=t,d=[i[ze.Dropdown],r].join(" "),f=n?.find(({value:h})=>h===l.value);return I.createElement("span",{"data-disabled":l.disabled,className:i[ze.DropdownRoot]},I.createElement(s.Select,{className:d,...l},n?.map(({value:h,label:m,disabled:y})=>I.createElement(s.Option,{key:h,value:h,disabled:y},m))),I.createElement("span",{className:i[ze.CaptionLabel],"aria-hidden":!0},f?.label,I.createElement(s.Chevron,{orientation:"down",size:18,className:i[ze.Chevron]})))}function k3(t){return I.createElement("div",{...t})}function R3(t){return I.createElement("div",{...t})}function M3(t){const{calendarMonth:n,displayIndex:r,...s}=t;return I.createElement("div",{...s},t.children)}function z3(t){const{calendarMonth:n,displayIndex:r,...s}=t;return I.createElement("div",{...s})}function U3(t){return I.createElement("table",{...t})}function P3(t){return I.createElement("div",{...t})}const Zj=b.createContext(void 0);function fc(){const t=b.useContext(Zj);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function I3(t){const{components:n}=fc();return I.createElement(n.Dropdown,{...t})}function L3(t){const{onPreviousClick:n,onNextClick:r,previousMonth:s,nextMonth:i,...l}=t,{components:d,classNames:f,labels:{labelPrevious:h,labelNext:m}}=fc(),y=b.useCallback(w=>{i&&r?.(w)},[i,r]),v=b.useCallback(w=>{s&&n?.(w)},[s,n]);return I.createElement("nav",{...l},I.createElement(d.PreviousMonthButton,{type:"button",className:f[ze.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":h(s),onClick:v},I.createElement(d.Chevron,{disabled:s?void 0:!0,className:f[ze.Chevron],orientation:"left"})),I.createElement(d.NextMonthButton,{type:"button",className:f[ze.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":m(i),onClick:y},I.createElement(d.Chevron,{disabled:i?void 0:!0,orientation:"right",className:f[ze.Chevron]})))}function B3(t){const{components:n}=fc();return I.createElement(n.Button,{...t})}function $3(t){return I.createElement("option",{...t})}function H3(t){const{components:n}=fc();return I.createElement(n.Button,{...t})}function W3(t){const{rootRef:n,...r}=t;return I.createElement("div",{...r,ref:n})}function F3(t){return I.createElement("select",{...t})}function q3(t){const{week:n,...r}=t;return I.createElement("tr",{...r})}function Y3(t){return I.createElement("th",{...t})}function V3(t){return I.createElement("thead",{"aria-hidden":!0},I.createElement("tr",{...t}))}function G3(t){const{week:n,...r}=t;return I.createElement("th",{...r})}function K3(t){return I.createElement("th",{...t})}function X3(t){return I.createElement("tbody",{...t})}function Q3(t){const{components:n}=fc();return I.createElement(n.Dropdown,{...t})}const Z3=Object.freeze(Object.defineProperty({__proto__:null,Button:N3,CaptionLabel:C3,Chevron:T3,Day:O3,DayButton:A3,Dropdown:D3,DropdownNav:k3,Footer:R3,Month:M3,MonthCaption:z3,MonthGrid:U3,Months:P3,MonthsDropdown:I3,Nav:L3,NextMonthButton:B3,Option:$3,PreviousMonthButton:H3,Root:W3,Select:F3,Week:q3,WeekNumber:G3,WeekNumberHeader:K3,Weekday:Y3,Weekdays:V3,Weeks:X3,YearsDropdown:Q3},Symbol.toStringTag,{value:"Module"}));function Oa(t,n,r=!1,s=ia){let{from:i,to:l}=t;const{differenceInCalendarDays:d,isSameDay:f}=s;return i&&l?(d(l,i)<0&&([i,l]=[l,i]),d(n,i)>=(r?1:0)&&d(l,n)>=(r?1:0)):!r&&l?f(l,n):!r&&i?f(i,n):!1}function Jj(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function sg(t){return!!(t&&typeof t=="object"&&"from"in t)}function e_(t){return!!(t&&typeof t=="object"&&"after"in t)}function t_(t){return!!(t&&typeof t=="object"&&"before"in t)}function n_(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function r_(t,n){return Array.isArray(t)&&t.every(n.isDate)}function Aa(t,n,r=ia){const s=Array.isArray(n)?n:[n],{isSameDay:i,differenceInCalendarDays:l,isAfter:d}=r;return s.some(f=>{if(typeof f=="boolean")return f;if(r.isDate(f))return i(t,f);if(r_(f,r))return f.includes(t);if(sg(f))return Oa(f,t,!1,r);if(n_(f))return Array.isArray(f.dayOfWeek)?f.dayOfWeek.includes(t.getDay()):f.dayOfWeek===t.getDay();if(Jj(f)){const h=l(f.before,t),m=l(f.after,t),y=h>0,v=m<0;return d(f.before,f.after)?v&&y:y||v}return e_(f)?l(t,f.after)>0:t_(f)?l(f.before,t)>0:typeof f=="function"?f(t):!1})}function J3(t,n,r,s,i){const{disabled:l,hidden:d,modifiers:f,showOutsideDays:h,broadcastCalendar:m,today:y}=n,{isSameDay:v,isSameMonth:w,startOfMonth:j,isBefore:N,endOfMonth:_,isAfter:S}=i,E=r&&j(r),C=s&&_(s),T={[Bt.focused]:[],[Bt.outside]:[],[Bt.disabled]:[],[Bt.hidden]:[],[Bt.today]:[]},D={};for(const M of t){const{date:k,displayMonth:A}=M,U=!!(A&&!w(k,A)),F=!!(E&&N(k,E)),V=!!(C&&S(k,C)),Q=!!(l&&Aa(k,l,i)),re=!!(d&&Aa(k,d,i))||F||V||!m&&!h&&U||m&&h===!1&&U,J=v(k,y??i.today());U&&T.outside.push(M),Q&&T.disabled.push(M),re&&T.hidden.push(M),J&&T.today.push(M),f&&Object.keys(f).forEach(le=>{const fe=f?.[le];fe&&Aa(k,fe,i)&&(D[le]?D[le].push(M):D[le]=[M])})}return M=>{const k={[Bt.focused]:!1,[Bt.disabled]:!1,[Bt.hidden]:!1,[Bt.outside]:!1,[Bt.today]:!1},A={};for(const U in T){const F=T[U];k[U]=F.some(V=>V===M)}for(const U in D)A[U]=D[U].some(F=>F===M);return{...k,...A}}}function e5(t,n,r={}){return Object.entries(t).filter(([,i])=>i===!0).reduce((i,[l])=>(r[l]?i.push(r[l]):n[Bt[l]]?i.push(n[Bt[l]]):n[Or[l]]&&i.push(n[Or[l]]),i),[n[ze.Day]])}function t5(t){return{...Z3,...t}}function n5(t){const n={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([r,s])=>{r.startsWith("data-")&&(n[r]=s)}),n}function og(){const t={};for(const n in ze)t[ze[n]]=`rdp-${ze[n]}`;for(const n in Bt)t[Bt[n]]=`rdp-${Bt[n]}`;for(const n in Or)t[Or[n]]=`rdp-${Or[n]}`;for(const n in tr)t[tr[n]]=`rdp-${tr[n]}`;return t}function a_(t,n,r){return(r??new sr(n)).formatMonthYear(t)}const r5=a_;function a5(t,n,r){return(r??new sr(n)).format(t,"d")}function s5(t,n=ia){return n.format(t,"LLLL")}function o5(t,n,r){return(r??new sr(n)).format(t,"cccccc")}function i5(t,n=ia){return t<10?n.formatNumber(`0${t.toLocaleString()}`):n.formatNumber(`${t.toLocaleString()}`)}function l5(){return""}function s_(t,n=ia){return n.format(t,"yyyy")}const c5=s_,u5=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:a_,formatDay:a5,formatMonthCaption:r5,formatMonthDropdown:s5,formatWeekNumber:i5,formatWeekNumberHeader:l5,formatWeekdayName:o5,formatYearCaption:c5,formatYearDropdown:s_},Symbol.toStringTag,{value:"Module"}));function d5(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...u5,...t}}function f5(t,n,r,s,i){const{startOfMonth:l,startOfYear:d,endOfYear:f,eachMonthOfInterval:h,getMonth:m}=i;return h({start:d(t),end:f(t)}).map(w=>{const j=s.formatMonthDropdown(w,i),N=m(w),_=n&&w<l(n)||r&&w>l(r)||!1;return{value:N,label:j,disabled:_}})}function h5(t,n={},r={}){let s={...n?.[ze.Day]};return Object.entries(t).filter(([,i])=>i===!0).forEach(([i])=>{s={...s,...r?.[i]}}),s}function m5(t,n,r){const s=t.today(),i=n?t.startOfISOWeek(s):t.startOfWeek(s),l=[];for(let d=0;d<7;d++){const f=t.addDays(i,d);l.push(f)}return l}function p5(t,n,r,s,i=!1){if(!t||!n)return;const{startOfYear:l,endOfYear:d,eachYearOfInterval:f,getYear:h}=s,m=l(t),y=d(n),v=f({start:m,end:y});return i&&v.reverse(),v.map(w=>{const j=r.formatYearDropdown(w,s);return{value:h(w),label:j,disabled:!1}})}function o_(t,n,r,s){let i=(s??new sr(r)).format(t,"PPPP");return n.today&&(i=`Today, ${i}`),n.selected&&(i=`${i}, selected`),i}const g5=o_;function i_(t,n,r){return(r??new sr(n)).formatMonthYear(t)}const v5=i_;function y5(t,n,r,s){let i=(s??new sr(r)).format(t,"PPPP");return n?.today&&(i=`Today, ${i}`),i}function b5(t){return"Choose the Month"}function w5(){return""}function x5(t){return"Go to the Next Month"}function S5(t){return"Go to the Previous Month"}function j5(t,n,r){return(r??new sr(n)).format(t,"cccc")}function _5(t,n){return`Week ${t}`}function E5(t){return"Week Number"}function N5(t){return"Choose the Year"}const C5=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:v5,labelDay:g5,labelDayButton:o_,labelGrid:i_,labelGridcell:y5,labelMonthDropdown:b5,labelNav:w5,labelNext:x5,labelPrevious:S5,labelWeekNumber:_5,labelWeekNumberHeader:E5,labelWeekday:j5,labelYearDropdown:N5},Symbol.toStringTag,{value:"Module"})),hc=t=>t instanceof HTMLElement?t:null,Rm=t=>[...t.querySelectorAll("[data-animated-month]")??[]],T5=t=>hc(t.querySelector("[data-animated-month]")),Mm=t=>hc(t.querySelector("[data-animated-caption]")),zm=t=>hc(t.querySelector("[data-animated-weeks]")),O5=t=>hc(t.querySelector("[data-animated-nav]")),A5=t=>hc(t.querySelector("[data-animated-weekdays]"));function D5(t,n,{classNames:r,months:s,focused:i,dateLib:l}){const d=b.useRef(null),f=b.useRef(s),h=b.useRef(!1);b.useLayoutEffect(()=>{const m=f.current;if(f.current=s,!n||!t.current||!(t.current instanceof HTMLElement)||s.length===0||m.length===0||s.length!==m.length)return;const y=l.isSameMonth(s[0].date,m[0].date),v=l.isAfter(s[0].date,m[0].date),w=v?r[tr.caption_after_enter]:r[tr.caption_before_enter],j=v?r[tr.weeks_after_enter]:r[tr.weeks_before_enter],N=d.current,_=t.current.cloneNode(!0);if(_ instanceof HTMLElement?(Rm(_).forEach(T=>{if(!(T instanceof HTMLElement))return;const D=T5(T);D&&T.contains(D)&&T.removeChild(D);const M=Mm(T);M&&M.classList.remove(w);const k=zm(T);k&&k.classList.remove(j)}),d.current=_):d.current=null,h.current||y||i)return;const S=N instanceof HTMLElement?Rm(N):[],E=Rm(t.current);if(E?.every(C=>C instanceof HTMLElement)&&S&&S.every(C=>C instanceof HTMLElement)){h.current=!0,t.current.style.isolation="isolate";const C=O5(t.current);C&&(C.style.zIndex="1"),E.forEach((T,D)=>{const M=S[D];if(!M)return;T.style.position="relative",T.style.overflow="hidden";const k=Mm(T);k&&k.classList.add(w);const A=zm(T);A&&A.classList.add(j);const U=()=>{h.current=!1,t.current&&(t.current.style.isolation=""),C&&(C.style.zIndex=""),k&&k.classList.remove(w),A&&A.classList.remove(j),T.style.position="",T.style.overflow="",T.contains(M)&&T.removeChild(M)};M.style.pointerEvents="none",M.style.position="absolute",M.style.overflow="hidden",M.setAttribute("aria-hidden","true");const F=A5(M);F&&(F.style.opacity="0");const V=Mm(M);V&&(V.classList.add(v?r[tr.caption_before_exit]:r[tr.caption_after_exit]),V.addEventListener("animationend",U));const Q=zm(M);Q&&Q.classList.add(v?r[tr.weeks_before_exit]:r[tr.weeks_after_exit]),T.insertBefore(M,T.firstChild)})}})}function k5(t,n,r,s){const i=t[0],l=t[t.length-1],{ISOWeek:d,fixedWeeks:f,broadcastCalendar:h}=r??{},{addDays:m,differenceInCalendarDays:y,differenceInCalendarMonths:v,endOfBroadcastWeek:w,endOfISOWeek:j,endOfMonth:N,endOfWeek:_,isAfter:S,startOfBroadcastWeek:E,startOfISOWeek:C,startOfWeek:T}=s,D=h?E(i,s):d?C(i):T(i),M=h?w(l):d?j(N(l)):_(N(l)),k=y(M,D),A=v(l,i)+1,U=[];for(let Q=0;Q<=k;Q++){const re=m(D,Q);if(n&&S(re,n))break;U.push(re)}const V=(h?35:42)*A;if(f&&U.length<V){const Q=V-U.length;for(let re=0;re<Q;re++){const J=m(U[U.length-1],1);U.push(J)}}return U}function R5(t){const n=[];return t.reduce((r,s)=>{const i=s.weeks.reduce((l,d)=>l.concat(d.days.slice()),n.slice());return r.concat(i.slice())},n.slice())}function M5(t,n,r,s){const{numberOfMonths:i=1}=r,l=[];for(let d=0;d<i;d++){const f=s.addMonths(t,d);if(n&&f>n)break;l.push(f)}return l}function Sw(t,n,r,s){const{month:i,defaultMonth:l,today:d=s.today(),numberOfMonths:f=1}=t;let h=i||l||d;const{differenceInCalendarMonths:m,addMonths:y,startOfMonth:v}=s;if(r&&m(r,h)<f-1){const w=-1*(f-1);h=y(r,w)}return n&&m(h,n)<0&&(h=n),v(h)}function z5(t,n,r,s){const{addDays:i,endOfBroadcastWeek:l,endOfISOWeek:d,endOfMonth:f,endOfWeek:h,getISOWeek:m,getWeek:y,startOfBroadcastWeek:v,startOfISOWeek:w,startOfWeek:j}=s,N=t.reduce((_,S)=>{const E=r.broadcastCalendar?v(S,s):r.ISOWeek?w(S):j(S),C=r.broadcastCalendar?l(S):r.ISOWeek?d(f(S)):h(f(S)),T=n.filter(A=>A>=E&&A<=C),D=r.broadcastCalendar?35:42;if(r.fixedWeeks&&T.length<D){const A=n.filter(U=>{const F=D-T.length;return U>C&&U<=i(C,F)});T.push(...A)}const M=T.reduce((A,U)=>{const F=r.ISOWeek?m(U):y(U),V=A.find(re=>re.weekNumber===F),Q=new Qj(U,S,s);return V?V.days.push(Q):A.push(new E3(F,[Q])),A},[]),k=new _3(S,M);return _.push(k),_},[]);return r.reverseMonths?N.reverse():N}function U5(t,n){let{startMonth:r,endMonth:s}=t;const{startOfYear:i,startOfDay:l,startOfMonth:d,endOfMonth:f,addYears:h,endOfYear:m,newDate:y,today:v}=n,{fromYear:w,toYear:j,fromMonth:N,toMonth:_}=t;!r&&N&&(r=N),!r&&w&&(r=n.newDate(w,0,1)),!s&&_&&(s=_),!s&&j&&(s=y(j,11,31));const S=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return r?r=d(r):w?r=y(w,0,1):!r&&S&&(r=i(h(t.today??v(),-100))),s?s=f(s):j?s=y(j,11,31):!s&&S&&(s=m(t.today??v())),[r&&l(r),s&&l(s)]}function P5(t,n,r,s){if(r.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:l=1}=r,{startOfMonth:d,addMonths:f,differenceInCalendarMonths:h}=s,m=i?l:1,y=d(t);if(!n)return f(y,m);if(!(h(n,t)<l))return f(y,m)}function I5(t,n,r,s){if(r.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:l}=r,{startOfMonth:d,addMonths:f,differenceInCalendarMonths:h}=s,m=i?l??1:1,y=d(t);if(!n)return f(y,-m);if(!(h(y,n)<=0))return f(y,-m)}function L5(t){const n=[];return t.reduce((r,s)=>r.concat(s.weeks.slice()),n.slice())}function Yd(t,n){const[r,s]=b.useState(t);return[n===void 0?r:n,s]}function B5(t,n){const[r,s]=U5(t,n),{startOfMonth:i,endOfMonth:l}=n,d=Sw(t,r,s,n),[f,h]=Yd(d,t.month?d:void 0);b.useEffect(()=>{const k=Sw(t,r,s,n);h(k)},[t.timeZone]);const m=M5(f,s,t,n),y=k5(m,t.endMonth?l(t.endMonth):void 0,t,n),v=z5(m,y,t,n),w=L5(v),j=R5(v),N=I5(f,r,t,n),_=P5(f,s,t,n),{disableNavigation:S,onMonthChange:E}=t,C=k=>w.some(A=>A.days.some(U=>U.isEqualTo(k))),T=k=>{if(S)return;let A=i(k);r&&A<i(r)&&(A=i(r)),s&&A>i(s)&&(A=i(s)),h(A),E?.(A)};return{months:v,weeks:w,days:j,navStart:r,navEnd:s,previousMonth:N,nextMonth:_,goToMonth:T,goToDay:k=>{C(k)||T(k.date)}}}var $r;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})($r||($r={}));function jw(t){return!t[Bt.disabled]&&!t[Bt.hidden]&&!t[Bt.outside]}function $5(t,n,r,s){let i,l=-1;for(const d of t){const f=n(d);jw(f)&&(f[Bt.focused]&&l<$r.FocusedModifier?(i=d,l=$r.FocusedModifier):s?.isEqualTo(d)&&l<$r.LastFocused?(i=d,l=$r.LastFocused):r(d.date)&&l<$r.Selected?(i=d,l=$r.Selected):f[Bt.today]&&l<$r.Today&&(i=d,l=$r.Today))}return i||(i=t.find(d=>jw(n(d)))),i}function H5(t,n,r,s,i,l,d){const{ISOWeek:f,broadcastCalendar:h}=l,{addDays:m,addMonths:y,addWeeks:v,addYears:w,endOfBroadcastWeek:j,endOfISOWeek:N,endOfWeek:_,max:S,min:E,startOfBroadcastWeek:C,startOfISOWeek:T,startOfWeek:D}=d;let k={day:m,week:v,month:y,year:w,startOfWeek:A=>h?C(A,d):f?T(A):D(A),endOfWeek:A=>h?j(A):f?N(A):_(A)}[t](r,n==="after"?1:-1);return n==="before"&&s?k=S([s,k]):n==="after"&&i&&(k=E([i,k])),k}function l_(t,n,r,s,i,l,d,f=0){if(f>365)return;const h=H5(t,n,r.date,s,i,l,d),m=!!(l.disabled&&Aa(h,l.disabled,d)),y=!!(l.hidden&&Aa(h,l.hidden,d)),v=h,w=new Qj(h,v,d);return!m&&!y?w:l_(t,n,w,s,i,l,d,f+1)}function W5(t,n,r,s,i){const{autoFocus:l}=t,[d,f]=b.useState(),h=$5(n.days,r,s||(()=>!1),d),[m,y]=b.useState(l?h:void 0);return{isFocusTarget:_=>!!h?.isEqualTo(_),setFocused:y,focused:m,blur:()=>{f(m),y(void 0)},moveFocus:(_,S)=>{if(!m)return;const E=l_(_,S,m,n.navStart,n.navEnd,t,i);E&&(t.disableNavigation&&!n.days.some(T=>T.isEqualTo(E))||(n.goToDay(E),y(E)))}}}function F5(t,n){const{selected:r,required:s,onSelect:i}=t,[l,d]=Yd(r,i?r:void 0),f=i?r:l,{isSameDay:h}=n,m=j=>f?.some(N=>h(N,j))??!1,{min:y,max:v}=t;return{selected:f,select:(j,N,_)=>{let S=[...f??[]];if(m(j)){if(f?.length===y||s&&f?.length===1)return;S=f?.filter(E=>!h(E,j))}else f?.length===v?S=[j]:S=[...S,j];return i||d(S),i?.(S,j,N,_),S},isSelected:m}}function q5(t,n,r=0,s=0,i=!1,l=ia){const{from:d,to:f}=n||{},{isSameDay:h,isAfter:m,isBefore:y}=l;let v;if(!d&&!f)v={from:t,to:r>0?void 0:t};else if(d&&!f)h(d,t)?r===0?v={from:d,to:t}:i?v={from:d,to:void 0}:v=void 0:y(t,d)?v={from:t,to:d}:v={from:d,to:t};else if(d&&f)if(h(d,t)&&h(f,t))i?v={from:d,to:f}:v=void 0;else if(h(d,t))v={from:d,to:r>0?void 0:t};else if(h(f,t))v={from:t,to:r>0?void 0:t};else if(y(t,d))v={from:t,to:f};else if(m(t,d))v={from:d,to:t};else if(m(t,f))v={from:d,to:t};else throw new Error("Invalid range");if(v?.from&&v?.to){const w=l.differenceInCalendarDays(v.to,v.from);s>0&&w>s?v={from:t,to:void 0}:r>1&&w<r&&(v={from:t,to:void 0})}return v}function Y5(t,n,r=ia){const s=Array.isArray(n)?n:[n];let i=t.from;const l=r.differenceInCalendarDays(t.to,t.from),d=Math.min(l,6);for(let f=0;f<=d;f++){if(s.includes(i.getDay()))return!0;i=r.addDays(i,1)}return!1}function _w(t,n,r=ia){return Oa(t,n.from,!1,r)||Oa(t,n.to,!1,r)||Oa(n,t.from,!1,r)||Oa(n,t.to,!1,r)}function V5(t,n,r=ia){const s=Array.isArray(n)?n:[n];if(s.filter(f=>typeof f!="function").some(f=>typeof f=="boolean"?f:r.isDate(f)?Oa(t,f,!1,r):r_(f,r)?f.some(h=>Oa(t,h,!1,r)):sg(f)?f.from&&f.to?_w(t,{from:f.from,to:f.to},r):!1:n_(f)?Y5(t,f.dayOfWeek,r):Jj(f)?r.isAfter(f.before,f.after)?_w(t,{from:r.addDays(f.after,1),to:r.addDays(f.before,-1)},r):Aa(t.from,f,r)||Aa(t.to,f,r):e_(f)||t_(f)?Aa(t.from,f,r)||Aa(t.to,f,r):!1))return!0;const d=s.filter(f=>typeof f=="function");if(d.length){let f=t.from;const h=r.differenceInCalendarDays(t.to,t.from);for(let m=0;m<=h;m++){if(d.some(y=>y(f)))return!0;f=r.addDays(f,1)}}return!1}function G5(t,n){const{disabled:r,excludeDisabled:s,selected:i,required:l,onSelect:d}=t,[f,h]=Yd(i,d?i:void 0),m=d?i:f;return{selected:m,select:(w,j,N)=>{const{min:_,max:S}=t,E=w?q5(w,m,_,S,l,n):void 0;return s&&r&&E?.from&&E.to&&V5({from:E.from,to:E.to},r,n)&&(E.from=w,E.to=void 0),d||h(E),d?.(E,w,j,N),E},isSelected:w=>m&&Oa(m,w,!1,n)}}function K5(t,n){const{selected:r,required:s,onSelect:i}=t,[l,d]=Yd(r,i?r:void 0),f=i?r:l,{isSameDay:h}=n;return{selected:f,select:(v,w,j)=>{let N=v;return!s&&f&&f&&h(v,f)&&(N=void 0),i||d(N),i?.(N,v,w,j),N},isSelected:v=>f?h(f,v):!1}}function X5(t,n){const r=K5(t,n),s=F5(t,n),i=G5(t,n);switch(t.mode){case"single":return r;case"multiple":return s;case"range":return i;default:return}}function Q5(t){let n=t;n.timeZone&&(n={...t},n.today&&(n.today=new An(n.today,n.timeZone)),n.month&&(n.month=new An(n.month,n.timeZone)),n.defaultMonth&&(n.defaultMonth=new An(n.defaultMonth,n.timeZone)),n.startMonth&&(n.startMonth=new An(n.startMonth,n.timeZone)),n.endMonth&&(n.endMonth=new An(n.endMonth,n.timeZone)),n.mode==="single"&&n.selected?n.selected=new An(n.selected,n.timeZone):n.mode==="multiple"&&n.selected?n.selected=n.selected?.map(He=>new An(He,n.timeZone)):n.mode==="range"&&n.selected&&(n.selected={from:n.selected.from?new An(n.selected.from,n.timeZone):void 0,to:n.selected.to?new An(n.selected.to,n.timeZone):void 0}));const{components:r,formatters:s,labels:i,dateLib:l,locale:d,classNames:f}=b.useMemo(()=>{const He={...ag,...n.locale};return{dateLib:new sr({locale:He,weekStartsOn:n.broadcastCalendar?1:n.weekStartsOn,firstWeekContainsDate:n.firstWeekContainsDate,useAdditionalWeekYearTokens:n.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:n.useAdditionalDayOfYearTokens,timeZone:n.timeZone,numerals:n.numerals},n.dateLib),components:t5(n.components),formatters:d5(n.formatters),labels:{...C5,...n.labels},locale:He,classNames:{...og(),...n.classNames}}},[n.locale,n.broadcastCalendar,n.weekStartsOn,n.firstWeekContainsDate,n.useAdditionalWeekYearTokens,n.useAdditionalDayOfYearTokens,n.timeZone,n.numerals,n.dateLib,n.components,n.formatters,n.labels,n.classNames]),{captionLayout:h,mode:m,navLayout:y,numberOfMonths:v=1,onDayBlur:w,onDayClick:j,onDayFocus:N,onDayKeyDown:_,onDayMouseEnter:S,onDayMouseLeave:E,onNextClick:C,onPrevClick:T,showWeekNumber:D,styles:M}=n,{formatCaption:k,formatDay:A,formatMonthDropdown:U,formatWeekNumber:F,formatWeekNumberHeader:V,formatWeekdayName:Q,formatYearDropdown:re}=s,J=B5(n,l),{days:le,months:fe,navStart:R,navEnd:L,previousMonth:$,nextMonth:oe,goToMonth:me}=J,z=J3(le,n,R,L,l),{isSelected:X,select:q,selected:ne}=X5(n,l)??{},{blur:he,focused:ye,isFocusTarget:se,moveFocus:ve,setFocused:Ee}=W5(n,J,z,X??(()=>!1),l),{labelDayButton:Pe,labelGridcell:Me,labelGrid:Be,labelMonthDropdown:Tt,labelNav:W,labelPrevious:Ae,labelNext:Re,labelWeekday:Ve,labelWeekNumber:Ye,labelWeekNumberHeader:Xe,labelYearDropdown:tt}=i,rt=b.useMemo(()=>m5(l,n.ISOWeek),[l,n.ISOWeek]),$e=m!==void 0||j!==void 0,xe=b.useCallback(()=>{$&&(me($),T?.($))},[$,me,T]),We=b.useCallback(()=>{oe&&(me(oe),C?.(oe))},[me,oe,C]),Zt=b.useCallback((He,ge)=>be=>{be.preventDefault(),be.stopPropagation(),Ee(He),q?.(He.date,ge,be),j?.(He.date,ge,be)},[q,j,Ee]),Ht=b.useCallback((He,ge)=>be=>{Ee(He),N?.(He.date,ge,be)},[N,Ee]),yn=b.useCallback((He,ge)=>be=>{he(),w?.(He.date,ge,be)},[he,w]),It=b.useCallback((He,ge)=>be=>{const Ne={ArrowLeft:[be.shiftKey?"month":"day",n.dir==="rtl"?"after":"before"],ArrowRight:[be.shiftKey?"month":"day",n.dir==="rtl"?"before":"after"],ArrowDown:[be.shiftKey?"year":"week","after"],ArrowUp:[be.shiftKey?"year":"week","before"],PageUp:[be.shiftKey?"year":"month","before"],PageDown:[be.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Ne[be.key]){be.preventDefault(),be.stopPropagation();const[ke,Se]=Ne[be.key];ve(ke,Se)}_?.(He.date,ge,be)},[ve,_,n.dir]),un=b.useCallback((He,ge)=>be=>{S?.(He.date,ge,be)},[S]),Vt=b.useCallback((He,ge)=>be=>{E?.(He.date,ge,be)},[E]),dn=b.useCallback(He=>ge=>{const be=Number(ge.target.value),Ne=l.setMonth(l.startOfMonth(He),be);me(Ne)},[l,me]),Ot=b.useCallback(He=>ge=>{const be=Number(ge.target.value),Ne=l.setYear(l.startOfMonth(He),be);me(Ne)},[l,me]),{className:kt,style:gt}=b.useMemo(()=>({className:[f[ze.Root],n.className].filter(Boolean).join(" "),style:{...M?.[ze.Root],...n.style}}),[f,n.className,n.style,M]),Wt=n5(n),yt=b.useRef(null);D5(yt,!!n.animate,{classNames:f,months:fe,focused:ye,dateLib:l});const Dn={dayPickerProps:n,selected:ne,select:q,isSelected:X,months:fe,nextMonth:oe,previousMonth:$,goToMonth:me,getModifiers:z,components:r,classNames:f,styles:M,labels:i,formatters:s};return I.createElement(Zj.Provider,{value:Dn},I.createElement(r.Root,{rootRef:n.animate?yt:void 0,className:kt,style:gt,dir:n.dir,id:n.id,lang:n.lang,nonce:n.nonce,title:n.title,role:n.role,"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"],...Wt},I.createElement(r.Months,{className:f[ze.Months],style:M?.[ze.Months]},!n.hideNavigation&&!y&&I.createElement(r.Nav,{"data-animated-nav":n.animate?"true":void 0,className:f[ze.Nav],style:M?.[ze.Nav],"aria-label":W(),onPreviousClick:xe,onNextClick:We,previousMonth:$,nextMonth:oe}),fe.map((He,ge)=>I.createElement(r.Month,{"data-animated-month":n.animate?"true":void 0,className:f[ze.Month],style:M?.[ze.Month],key:ge,displayIndex:ge,calendarMonth:He},y==="around"&&!n.hideNavigation&&ge===0&&I.createElement(r.PreviousMonthButton,{type:"button",className:f[ze.PreviousMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":Ae($),onClick:xe,"data-animated-button":n.animate?"true":void 0},I.createElement(r.Chevron,{disabled:$?void 0:!0,className:f[ze.Chevron],orientation:n.dir==="rtl"?"right":"left"})),I.createElement(r.MonthCaption,{"data-animated-caption":n.animate?"true":void 0,className:f[ze.MonthCaption],style:M?.[ze.MonthCaption],calendarMonth:He,displayIndex:ge},h?.startsWith("dropdown")?I.createElement(r.DropdownNav,{className:f[ze.Dropdowns],style:M?.[ze.Dropdowns]},(()=>{const be=h==="dropdown"||h==="dropdown-months"?I.createElement(r.MonthsDropdown,{key:"month",className:f[ze.MonthsDropdown],"aria-label":Tt(),classNames:f,components:r,disabled:!!n.disableNavigation,onChange:dn(He.date),options:f5(He.date,R,L,s,l),style:M?.[ze.Dropdown],value:l.getMonth(He.date)}):I.createElement("span",{key:"month"},U(He.date,l)),Ne=h==="dropdown"||h==="dropdown-years"?I.createElement(r.YearsDropdown,{key:"year",className:f[ze.YearsDropdown],"aria-label":tt(l.options),classNames:f,components:r,disabled:!!n.disableNavigation,onChange:Ot(He.date),options:p5(R,L,s,l,!!n.reverseYears),style:M?.[ze.Dropdown],value:l.getYear(He.date)}):I.createElement("span",{key:"year"},re(He.date,l));return l.getMonthYearOrder()==="year-first"?[Ne,be]:[be,Ne]})(),I.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},k(He.date,l.options,l))):I.createElement(r.CaptionLabel,{className:f[ze.CaptionLabel],role:"status","aria-live":"polite"},k(He.date,l.options,l))),y==="around"&&!n.hideNavigation&&ge===v-1&&I.createElement(r.NextMonthButton,{type:"button",className:f[ze.NextMonthButton],tabIndex:oe?void 0:-1,"aria-disabled":oe?void 0:!0,"aria-label":Re(oe),onClick:We,"data-animated-button":n.animate?"true":void 0},I.createElement(r.Chevron,{disabled:oe?void 0:!0,className:f[ze.Chevron],orientation:n.dir==="rtl"?"left":"right"})),ge===v-1&&y==="after"&&!n.hideNavigation&&I.createElement(r.Nav,{"data-animated-nav":n.animate?"true":void 0,className:f[ze.Nav],style:M?.[ze.Nav],"aria-label":W(),onPreviousClick:xe,onNextClick:We,previousMonth:$,nextMonth:oe}),I.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":m==="multiple"||m==="range","aria-label":Be(He.date,l.options,l)||void 0,className:f[ze.MonthGrid],style:M?.[ze.MonthGrid]},!n.hideWeekdays&&I.createElement(r.Weekdays,{"data-animated-weekdays":n.animate?"true":void 0,className:f[ze.Weekdays],style:M?.[ze.Weekdays]},D&&I.createElement(r.WeekNumberHeader,{"aria-label":Xe(l.options),className:f[ze.WeekNumberHeader],style:M?.[ze.WeekNumberHeader],scope:"col"},V()),rt.map(be=>I.createElement(r.Weekday,{"aria-label":Ve(be,l.options,l),className:f[ze.Weekday],key:String(be),style:M?.[ze.Weekday],scope:"col"},Q(be,l.options,l)))),I.createElement(r.Weeks,{"data-animated-weeks":n.animate?"true":void 0,className:f[ze.Weeks],style:M?.[ze.Weeks]},He.weeks.map(be=>I.createElement(r.Week,{className:f[ze.Week],key:be.weekNumber,style:M?.[ze.Week],week:be},D&&I.createElement(r.WeekNumber,{week:be,style:M?.[ze.WeekNumber],"aria-label":Ye(be.weekNumber,{locale:d}),className:f[ze.WeekNumber],scope:"row",role:"rowheader"},F(be.weekNumber,l)),be.days.map(Ne=>{const{date:ke}=Ne,Se=z(Ne);if(Se[Bt.focused]=!Se.hidden&&!!ye?.isEqualTo(Ne),Se[Or.selected]=X?.(ke)||Se.selected,sg(ne)){const{from:ut,to:Ft}=ne;Se[Or.range_start]=!!(ut&&Ft&&l.isSameDay(ke,ut)),Se[Or.range_end]=!!(ut&&Ft&&l.isSameDay(ke,Ft)),Se[Or.range_middle]=Oa(ne,ke,!0,l)}const _e=h5(Se,M,n.modifiersStyles),qe=e5(Se,f,n.modifiersClassNames),ct=!$e&&!Se.hidden?Me(ke,Se,l.options,l):void 0;return I.createElement(r.Day,{key:`${l.format(ke,"yyyy-MM-dd")}_${l.format(Ne.displayMonth,"yyyy-MM")}`,day:Ne,modifiers:Se,className:qe.join(" "),style:_e,role:"gridcell","aria-selected":Se.selected||void 0,"aria-label":ct,"data-day":l.format(ke,"yyyy-MM-dd"),"data-month":Ne.outside?l.format(ke,"yyyy-MM"):void 0,"data-selected":Se.selected||void 0,"data-disabled":Se.disabled||void 0,"data-hidden":Se.hidden||void 0,"data-outside":Ne.outside||void 0,"data-focused":Se.focused||void 0,"data-today":Se.today||void 0},!Se.hidden&&$e?I.createElement(r.DayButton,{className:f[ze.DayButton],style:M?.[ze.DayButton],type:"button",day:Ne,modifiers:Se,disabled:Se.disabled||void 0,tabIndex:se(Ne)?0:-1,"aria-label":Pe(ke,Se,l.options,l),onClick:Zt(Ne,Se),onBlur:yn(Ne,Se),onFocus:Ht(Ne,Se),onKeyDown:It(Ne,Se),onMouseEnter:un(Ne,Se),onMouseLeave:Vt(Ne,Se)},A(ke,l.options,l)):!Se.hidden&&A(Ne.date,l.options,l))})))))))),n.footer&&I.createElement(r.Footer,{className:f[ze.Footer],style:M?.[ze.Footer],role:"status","aria-live":"polite"},n.footer)))}function mc({className:t,classNames:n,showOutsideDays:r=!0,captionLayout:s="label",buttonVariant:i="ghost",formatters:l,components:d,...f}){const h=og();return u.jsx(Q5,{showOutsideDays:r,className:je("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),captionLayout:s,formatters:{formatMonthDropdown:m=>m.toLocaleString("default",{month:"short"}),...l},classNames:{root:je("w-fit",h.root),months:je("relative flex flex-col gap-4 md:flex-row",h.months),month:je("flex w-full flex-col gap-4",h.month),nav:je("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",h.nav),button_previous:je(Gm({variant:i}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",h.button_previous),button_next:je(Gm({variant:i}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",h.button_next),month_caption:je("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",h.month_caption),dropdowns:je("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",h.dropdowns),dropdown_root:je("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",h.dropdown_root),dropdown:je("bg-popover absolute inset-0 opacity-0",h.dropdown),caption_label:je("select-none font-medium",s==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",h.caption_label),table:"w-full border-collapse",weekdays:je("flex",h.weekdays),weekday:je("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",h.weekday),week:je("mt-2 flex w-full",h.week),week_number_header:je("w-[--cell-size] select-none",h.week_number_header),week_number:je("text-muted-foreground select-none text-[0.8rem]",h.week_number),day:je("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",h.day),range_start:je("bg-accent rounded-l-md",h.range_start),range_middle:je("rounded-none",h.range_middle),range_end:je("bg-accent rounded-r-md",h.range_end),today:je("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",h.today),outside:je("text-muted-foreground aria-selected:text-muted-foreground",h.outside),disabled:je("text-muted-foreground opacity-50",h.disabled),hidden:je("invisible",h.hidden),...n},components:{Root:({className:m,rootRef:y,...v})=>u.jsx("div",{"data-slot":"calendar",ref:y,className:je(m),...v}),Chevron:({className:m,orientation:y,...v})=>y==="left"?u.jsx(zp,{className:je("size-4",m),...v}):y==="right"?u.jsx(VD,{className:je("size-4",m),...v}):u.jsx(Cd,{className:je("size-4",m),...v}),DayButton:Z5,WeekNumber:({children:m,...y})=>u.jsx("td",{...y,children:u.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:m})}),...d},...f})}function Z5({className:t,day:n,modifiers:r,...s}){const i=og(),l=b.useRef(null);return b.useEffect(()=>{r.focused&&l.current?.focus()},[r.focused]),u.jsx(de,{ref:l,variant:"ghost",size:"icon","data-day":n.date.toLocaleDateString(),"data-selected-single":r.selected&&!r.range_start&&!r.range_end&&!r.range_middle,"data-range-start":r.range_start,"data-range-end":r.range_end,"data-range-middle":r.range_middle,className:je("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",i.day,t),...s})}function J5(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const c_=I.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),pc=()=>{const t=I.useContext(c_);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};J5(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function ez(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function tz(){return ig(/^Mac/)}function nz(){return ig(/^iPhone/)}function Ew(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function rz(){return ig(/^iPad/)||tz()&&navigator.maxTouchPoints>1}function u_(){return nz()||rz()}function ig(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const az=24,sz=typeof window<"u"?b.useLayoutEffect:b.useEffect;function Nw(...t){return(...n)=>{for(let r of t)typeof r=="function"&&r(...n)}}const Um=typeof document<"u"&&window.visualViewport;function Cw(t){let n=window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function d_(t){for(Cw(t)&&(t=t.parentElement);t&&!Cw(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const oz=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ju=0,Pm;function iz(t={}){let{isDisabled:n}=t;sz(()=>{if(!n)return Ju++,Ju===1&&u_()&&(Pm=lz()),()=>{Ju--,Ju===0&&Pm?.()}},[n])}function lz(){let t,n=0,r=v=>{t=d_(v.target),!(t===document.documentElement&&t===document.body)&&(n=v.changedTouches[0].pageY)},s=v=>{if(!t||t===document.documentElement||t===document.body){v.preventDefault();return}let w=v.changedTouches[0].pageY,j=t.scrollTop,N=t.scrollHeight-t.clientHeight;N!==0&&((j<=0&&w>n||j>=N&&w<n)&&v.preventDefault(),n=w)},i=v=>{let w=v.target;bp(w)&&w!==document.activeElement&&(v.preventDefault(),w.style.transform="translateY(-2000px)",w.focus(),requestAnimationFrame(()=>{w.style.transform=""}))},l=v=>{let w=v.target;bp(w)&&(w.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{w.style.transform="",Um&&(Um.height<window.innerHeight?requestAnimationFrame(()=>{Tw(w)}):Um.addEventListener("resize",()=>Tw(w),{once:!0}))}))},d=()=>{window.scrollTo(0,0)},f=window.pageXOffset,h=window.pageYOffset,m=Nw(cz(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let y=Nw(Il(document,"touchstart",r,{passive:!1,capture:!0}),Il(document,"touchmove",s,{passive:!1,capture:!0}),Il(document,"touchend",i,{passive:!1,capture:!0}),Il(document,"focus",l,!0),Il(window,"scroll",d));return()=>{m(),y(),window.scrollTo(f,h)}}function cz(t,n,r){let s=t.style[n];return t.style[n]=r,()=>{t.style[n]=s}}function Il(t,n,r,s){return t.addEventListener(n,r,s),()=>{t.removeEventListener(n,r,s)}}function Tw(t){let n=document.scrollingElement||document.documentElement;for(;t&&t!==n;){let r=d_(t);if(r!==document.documentElement&&r!==document.body&&r!==t){let s=r.getBoundingClientRect().top,i=t.getBoundingClientRect().top,l=t.getBoundingClientRect().bottom;const d=r.getBoundingClientRect().bottom+az;l>d&&(r.scrollTop+=i-s)}t=r.parentElement}}function bp(t){return t instanceof HTMLInputElement&&!oz.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function uz(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function dz(...t){return n=>t.forEach(r=>uz(r,n))}function f_(...t){return b.useCallback(dz(...t),t)}const h_=new WeakMap;function vn(t,n,r=!1){if(!t||!(t instanceof HTMLElement))return;let s={};Object.entries(n).forEach(([i,l])=>{if(i.startsWith("--")){t.style.setProperty(i,l);return}s[i]=t.style[i],t.style[i]=l}),!r&&h_.set(t,s)}function fz(t,n){if(!t||!(t instanceof HTMLElement))return;let r=h_.get(t);r&&(t.style[n]=r[n])}const on=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function ed(t,n){if(!t)return null;const r=window.getComputedStyle(t),s=r.transform||r.webkitTransform||r.mozTransform;let i=s.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[on(n)?13:12]):(i=s.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[on(n)?5:4]):null)}function hz(t){return 8*(Math.log(t+1)-2)}function Im(t,n){if(!t)return()=>{};const r=t.style.cssText;return Object.assign(t.style,n),()=>{t.style.cssText=r}}function mz(...t){return(...n)=>{for(const r of t)typeof r=="function"&&r(...n)}}const Lt={DURATION:.5,EASE:[.32,.72,0,1]},m_=.4,pz=.25,gz=100,p_=8,no=16,wp=26,Lm="vaul-dragging";function g_(t){const n=I.useRef(t);return I.useEffect(()=>{n.current=t}),I.useMemo(()=>(...r)=>n.current==null?void 0:n.current.call(n,...r),[])}function vz({defaultProp:t,onChange:n}){const r=I.useState(t),[s]=r,i=I.useRef(s),l=g_(n);return I.useEffect(()=>{i.current!==s&&(l(s),i.current=s)},[s,i,l]),r}function v_({prop:t,defaultProp:n,onChange:r=()=>{}}){const[s,i]=vz({defaultProp:n,onChange:r}),l=t!==void 0,d=l?t:s,f=g_(r),h=I.useCallback(m=>{if(l){const v=typeof m=="function"?m(t):m;v!==t&&f(v)}else i(m)},[l,t,i,f]);return[d,h]}function yz({activeSnapPointProp:t,setActiveSnapPointProp:n,snapPoints:r,drawerRef:s,overlayRef:i,fadeFromIndex:l,onSnapPointChange:d,direction:f="bottom",container:h,snapToSequentialPoint:m}){const[y,v]=v_({prop:t,defaultProp:r?.[0],onChange:n}),[w,j]=I.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);I.useEffect(()=>{function A(){j({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const N=I.useMemo(()=>y===r?.[r.length-1]||null,[r,y]),_=I.useMemo(()=>{var A;return(A=r?.findIndex(U=>U===y))!=null?A:null},[r,y]),S=r&&r.length>0&&(l||l===0)&&!Number.isNaN(l)&&r[l]===y||!r,E=I.useMemo(()=>{const A=h?{width:h.getBoundingClientRect().width,height:h.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var U;return(U=r?.map(F=>{const V=typeof F=="string";let Q=0;if(V&&(Q=parseInt(F,10)),on(f)){const J=V?Q:w?F*A.height:0;return w?f==="bottom"?A.height-J:-A.height+J:J}const re=V?Q:w?F*A.width:0;return w?f==="right"?A.width-re:-A.width+re:re}))!=null?U:[]},[r,w,h]),C=I.useMemo(()=>_!==null?E?.[_]:null,[E,_]),T=I.useCallback(A=>{var U;const F=(U=E?.findIndex(V=>V===A))!=null?U:null;d(F),vn(s.current,{transition:`transform ${Lt.DURATION}s cubic-bezier(${Lt.EASE.join(",")})`,transform:on(f)?`translate3d(0, ${A}px, 0)`:`translate3d(${A}px, 0, 0)`}),E&&F!==E.length-1&&l!==void 0&&F!==l&&F<l?vn(i.current,{transition:`opacity ${Lt.DURATION}s cubic-bezier(${Lt.EASE.join(",")})`,opacity:"0"}):vn(i.current,{transition:`opacity ${Lt.DURATION}s cubic-bezier(${Lt.EASE.join(",")})`,opacity:"1"}),v(r?.[Math.max(F,0)])},[s.current,r,E,l,i,v]);I.useEffect(()=>{if(y||t){var A;const U=(A=r?.findIndex(F=>F===t||F===y))!=null?A:-1;E&&U!==-1&&typeof E[U]=="number"&&T(E[U])}},[y,t,r,E,T]);function D({draggedDistance:A,closeDrawer:U,velocity:F,dismissible:V}){if(l===void 0)return;const Q=f==="bottom"||f==="right"?(C??0)-A:(C??0)+A,re=_===l-1,J=_===0,le=A>0;if(re&&vn(i.current,{transition:`opacity ${Lt.DURATION}s cubic-bezier(${Lt.EASE.join(",")})`}),!m&&F>2&&!le){V?U():T(E[0]);return}if(!m&&F>2&&le&&E&&r){T(E[r.length-1]);return}const fe=E?.reduce((L,$)=>typeof L!="number"||typeof $!="number"?L:Math.abs($-Q)<Math.abs(L-Q)?$:L),R=on(f)?window.innerHeight:window.innerWidth;if(F>m_&&Math.abs(A)<R*.4){const L=le?1:-1;if(L>0&&N&&r){T(E[r.length-1]);return}if(J&&L<0&&V&&U(),_===null)return;T(E[_+L]);return}T(fe)}function M({draggedDistance:A}){if(C===null)return;const U=f==="bottom"||f==="right"?C-A:C+A;(f==="bottom"||f==="right")&&U<E[E.length-1]||(f==="top"||f==="left")&&U>E[E.length-1]||vn(s.current,{transform:on(f)?`translate3d(0, ${U}px, 0)`:`translate3d(${U}px, 0, 0)`})}function k(A,U){if(!r||typeof _!="number"||!E||l===void 0)return null;const F=_===l-1;if(_>=l&&U)return 0;if(F&&!U)return 1;if(!S&&!F)return null;const Q=F?_+1:_-1,re=F?E[Q]-E[Q-1]:E[Q+1]-E[Q],J=A/Math.abs(re);return F?1-J:J}return{isLastSnapPoint:N,activeSnapPoint:y,shouldFade:S,getPercentageDragged:k,setActiveSnapPoint:v,activeSnapPointIndex:_,onRelease:D,onDrag:M,snapPointsOffset:E}}const bz=()=>()=>{};function wz(){const{direction:t,isOpen:n,shouldScaleBackground:r,setBackgroundColorOnScale:s,noBodyStyles:i}=pc(),l=I.useRef(null),d=b.useMemo(()=>document.body.style.backgroundColor,[]);function f(){return(window.innerWidth-wp)/window.innerWidth}I.useEffect(()=>{if(n&&r){l.current&&clearTimeout(l.current);const h=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!h)return;mz(s&&!i?Im(document.body,{background:"black"}):bz,Im(h,{transformOrigin:on(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Lt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Lt.EASE.join(",")})`}));const m=Im(h,{borderRadius:`${p_}px`,overflow:"hidden",...on(t)?{transform:`scale(${f()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${f()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{m(),l.current=window.setTimeout(()=>{d?document.body.style.background=d:document.body.style.removeProperty("background")},Lt.DURATION*1e3)}}},[n,r,d])}let Ll=null;function xz({isOpen:t,modal:n,nested:r,hasBeenOpened:s,preventScrollRestoration:i,noBodyStyles:l}){const[d,f]=I.useState(()=>typeof window<"u"?window.location.href:""),h=I.useRef(0),m=I.useCallback(()=>{if(Ew()&&Ll===null&&t&&!l){Ll={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:v,innerHeight:w}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-h.current}px`,left:`${-v}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const j=w-window.innerHeight;j&&h.current>=w&&(document.body.style.top=`${-(h.current+j)}px`)}),300)}},[t]),y=I.useCallback(()=>{if(Ew()&&Ll!==null&&!l){const v=-parseInt(document.body.style.top,10),w=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Ll),window.requestAnimationFrame(()=>{if(i&&d!==window.location.href){f(window.location.href);return}window.scrollTo(w,v)}),Ll=null}},[d]);return I.useEffect(()=>{function v(){h.current=window.scrollY}return v(),window.addEventListener("scroll",v),()=>{window.removeEventListener("scroll",v)}},[]),I.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||y()}},[n,y]),I.useEffect(()=>{r||!s||(t?(!window.matchMedia("(display-mode: standalone)").matches&&m(),n||window.setTimeout(()=>{y()},500)):y())},[t,s,d,n,r,m,y]),{restorePositionSetting:y}}function Sz({open:t,onOpenChange:n,children:r,onDrag:s,onRelease:i,snapPoints:l,shouldScaleBackground:d=!1,setBackgroundColorOnScale:f=!0,closeThreshold:h=pz,scrollLockTimeout:m=gz,dismissible:y=!0,handleOnly:v=!1,fadeFromIndex:w=l&&l.length-1,activeSnapPoint:j,setActiveSnapPoint:N,fixed:_,modal:S=!0,onClose:E,nested:C,noBodyStyles:T=!1,direction:D="bottom",defaultOpen:M=!1,disablePreventScroll:k=!0,snapToSequentialPoint:A=!1,preventScrollRestoration:U=!1,repositionInputs:F=!0,onAnimationEnd:V,container:Q,autoFocus:re=!1}){var J,le;const[fe=!1,R]=v_({defaultProp:M,prop:t,onChange:ge=>{n?.(ge),!ge&&!C&&yn(),setTimeout(()=>{V?.(ge)},Lt.DURATION*1e3),ge&&!S&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ge||(document.body.style.pointerEvents="auto")}}),[L,$]=I.useState(!1),[oe,me]=I.useState(!1),[z,X]=I.useState(!1),q=I.useRef(null),ne=I.useRef(null),he=I.useRef(null),ye=I.useRef(null),se=I.useRef(null),ve=I.useRef(!1),Ee=I.useRef(null),Pe=I.useRef(0),Me=I.useRef(!1),Be=I.useRef(!M),Tt=I.useRef(0),W=I.useRef(null),Ae=I.useRef(((J=W.current)==null?void 0:J.getBoundingClientRect().height)||0),Re=I.useRef(((le=W.current)==null?void 0:le.getBoundingClientRect().width)||0),Ve=I.useRef(0),Ye=I.useCallback(ge=>{l&&ge===xe.length-1&&(ne.current=new Date)},[]),{activeSnapPoint:Xe,activeSnapPointIndex:tt,setActiveSnapPoint:rt,onRelease:$e,snapPointsOffset:xe,onDrag:We,shouldFade:Zt,getPercentageDragged:Ht}=yz({snapPoints:l,activeSnapPointProp:j,setActiveSnapPointProp:N,drawerRef:W,fadeFromIndex:w,overlayRef:q,onSnapPointChange:Ye,direction:D,container:Q,snapToSequentialPoint:A});iz({isDisabled:!fe||oe||!S||z||!L||!F||!k});const{restorePositionSetting:yn}=xz({isOpen:fe,modal:S,nested:C??!1,hasBeenOpened:L,preventScrollRestoration:U,noBodyStyles:T});function It(){return(window.innerWidth-wp)/window.innerWidth}function un(ge){var be,Ne;!y&&!l||W.current&&!W.current.contains(ge.target)||(Ae.current=((be=W.current)==null?void 0:be.getBoundingClientRect().height)||0,Re.current=((Ne=W.current)==null?void 0:Ne.getBoundingClientRect().width)||0,me(!0),he.current=new Date,u_()&&window.addEventListener("touchend",()=>ve.current=!1,{once:!0}),ge.target.setPointerCapture(ge.pointerId),Pe.current=on(D)?ge.pageY:ge.pageX)}function Vt(ge,be){var Ne;let ke=ge;const Se=(Ne=window.getSelection())==null?void 0:Ne.toString(),_e=W.current?ed(W.current,D):null,qe=new Date;if(ke.tagName==="SELECT"||ke.hasAttribute("data-vaul-no-drag")||ke.closest("[data-vaul-no-drag]"))return!1;if(D==="right"||D==="left")return!0;if(ne.current&&qe.getTime()-ne.current.getTime()<500)return!1;if(_e!==null&&(D==="bottom"?_e>0:_e<0))return!0;if(Se&&Se.length>0)return!1;if(se.current&&qe.getTime()-se.current.getTime()<m&&_e===0||be)return se.current=qe,!1;for(;ke;){if(ke.scrollHeight>ke.clientHeight){if(ke.scrollTop!==0)return se.current=new Date,!1;if(ke.getAttribute("role")==="dialog")return!0}ke=ke.parentNode}return!0}function dn(ge){if(W.current&&oe){const be=D==="bottom"||D==="right"?1:-1,Ne=(Pe.current-(on(D)?ge.pageY:ge.pageX))*be,ke=Ne>0,Se=l&&!y&&!ke;if(Se&&tt===0)return;const _e=Math.abs(Ne),qe=document.querySelector("[data-vaul-drawer-wrapper]"),ct=D==="bottom"||D==="top"?Ae.current:Re.current;let ut=_e/ct;const Ft=Ht(_e,ke);if(Ft!==null&&(ut=Ft),Se&&ut>=1||!ve.current&&!Vt(ge.target,ke))return;if(W.current.classList.add(Lm),ve.current=!0,vn(W.current,{transition:"none"}),vn(q.current,{transition:"none"}),l&&We({draggedDistance:Ne}),ke&&!l){const Nt=hz(Ne),Un=Math.min(Nt*-1,0)*be;vn(W.current,{transform:on(D)?`translate3d(0, ${Un}px, 0)`:`translate3d(${Un}px, 0, 0)`});return}const dt=1-ut;if((Zt||w&&tt===w-1)&&(s?.(ge,ut),vn(q.current,{opacity:`${dt}`,transition:"none"},!0)),qe&&q.current&&d){const Nt=Math.min(It()+ut*(1-It()),1),Un=8-ut*8,fn=Math.max(0,14-ut*14);vn(qe,{borderRadius:`${Un}px`,transform:on(D)?`scale(${Nt}) translate3d(0, ${fn}px, 0)`:`scale(${Nt}) translate3d(${fn}px, 0, 0)`,transition:"none"},!0)}if(!l){const Nt=_e*be;vn(W.current,{transform:on(D)?`translate3d(0, ${Nt}px, 0)`:`translate3d(${Nt}px, 0, 0)`})}}}I.useEffect(()=>{window.requestAnimationFrame(()=>{Be.current=!0})},[]),I.useEffect(()=>{var ge;function be(){if(!W.current||!F)return;const Ne=document.activeElement;if(bp(Ne)||Me.current){var ke;const Se=((ke=window.visualViewport)==null?void 0:ke.height)||0,_e=window.innerHeight;let qe=_e-Se;const ct=W.current.getBoundingClientRect().height||0,ut=ct>_e*.8;Ve.current||(Ve.current=ct);const Ft=W.current.getBoundingClientRect().top;if(Math.abs(Tt.current-qe)>60&&(Me.current=!Me.current),l&&l.length>0&&xe&&tt){const dt=xe[tt]||0;qe+=dt}if(Tt.current=qe,ct>Se||Me.current){const dt=W.current.getBoundingClientRect().height;let Nt=dt;dt>Se&&(Nt=Se-(ut?Ft:wp)),_?W.current.style.height=`${dt-Math.max(qe,0)}px`:W.current.style.height=`${Math.max(Nt,Se-Ft)}px`}else ez()||(W.current.style.height=`${Ve.current}px`);l&&l.length>0&&!Me.current?W.current.style.bottom="0px":W.current.style.bottom=`${Math.max(qe,0)}px`}}return(ge=window.visualViewport)==null||ge.addEventListener("resize",be),()=>{var Ne;return(Ne=window.visualViewport)==null?void 0:Ne.removeEventListener("resize",be)}},[tt,l,xe]);function Ot(ge){gt(),E?.(),ge||R(!1),setTimeout(()=>{l&&rt(l[0])},Lt.DURATION*1e3)}function kt(){if(!W.current)return;const ge=document.querySelector("[data-vaul-drawer-wrapper]"),be=ed(W.current,D);vn(W.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Lt.DURATION}s cubic-bezier(${Lt.EASE.join(",")})`}),vn(q.current,{transition:`opacity ${Lt.DURATION}s cubic-bezier(${Lt.EASE.join(",")})`,opacity:"1"}),d&&be&&be>0&&fe&&vn(ge,{borderRadius:`${p_}px`,overflow:"hidden",...on(D)?{transform:`scale(${It()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${It()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Lt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Lt.EASE.join(",")})`},!0)}function gt(){!oe||!W.current||(W.current.classList.remove(Lm),ve.current=!1,me(!1),ye.current=new Date)}function Wt(ge){if(!oe||!W.current)return;W.current.classList.remove(Lm),ve.current=!1,me(!1),ye.current=new Date;const be=ed(W.current,D);if(!ge||!Vt(ge.target,!1)||!be||Number.isNaN(be)||he.current===null)return;const Ne=ye.current.getTime()-he.current.getTime(),ke=Pe.current-(on(D)?ge.pageY:ge.pageX),Se=Math.abs(ke)/Ne;if(Se>.05&&(X(!0),setTimeout(()=>{X(!1)},200)),l){$e({draggedDistance:ke*(D==="bottom"||D==="right"?1:-1),closeDrawer:Ot,velocity:Se,dismissible:y}),i?.(ge,!0);return}if(D==="bottom"||D==="right"?ke>0:ke<0){kt(),i?.(ge,!0);return}if(Se>m_){Ot(),i?.(ge,!1);return}var _e;const qe=Math.min((_e=W.current.getBoundingClientRect().height)!=null?_e:0,window.innerHeight);var ct;const ut=Math.min((ct=W.current.getBoundingClientRect().width)!=null?ct:0,window.innerWidth),Ft=D==="left"||D==="right";if(Math.abs(be)>=(Ft?ut:qe)*h){Ot(),i?.(ge,!1);return}i?.(ge,!0),kt()}I.useEffect(()=>(fe&&(vn(document.documentElement,{scrollBehavior:"auto"}),ne.current=new Date),()=>{fz(document.documentElement,"scrollBehavior")}),[fe]);function yt(ge){const be=ge?(window.innerWidth-no)/window.innerWidth:1,Ne=ge?-no:0;Ee.current&&window.clearTimeout(Ee.current),vn(W.current,{transition:`transform ${Lt.DURATION}s cubic-bezier(${Lt.EASE.join(",")})`,transform:on(D)?`scale(${be}) translate3d(0, ${Ne}px, 0)`:`scale(${be}) translate3d(${Ne}px, 0, 0)`}),!ge&&W.current&&(Ee.current=setTimeout(()=>{const ke=ed(W.current,D);vn(W.current,{transition:"none",transform:on(D)?`translate3d(0, ${ke}px, 0)`:`translate3d(${ke}px, 0, 0)`})},500))}function Dn(ge,be){if(be<0)return;const Ne=(window.innerWidth-no)/window.innerWidth,ke=Ne+be*(1-Ne),Se=-no+be*no;vn(W.current,{transform:on(D)?`scale(${ke}) translate3d(0, ${Se}px, 0)`:`scale(${ke}) translate3d(${Se}px, 0, 0)`,transition:"none"})}function He(ge,be){const Ne=on(D)?window.innerHeight:window.innerWidth,ke=be?(Ne-no)/Ne:1,Se=be?-no:0;be&&vn(W.current,{transition:`transform ${Lt.DURATION}s cubic-bezier(${Lt.EASE.join(",")})`,transform:on(D)?`scale(${ke}) translate3d(0, ${Se}px, 0)`:`scale(${ke}) translate3d(${Se}px, 0, 0)`})}return I.useEffect(()=>{S||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[S]),I.createElement(Hp,{defaultOpen:M,onOpenChange:ge=>{!y&&!ge||(ge?$(!0):Ot(!0),R(ge))},open:fe},I.createElement(c_.Provider,{value:{activeSnapPoint:Xe,snapPoints:l,setActiveSnapPoint:rt,drawerRef:W,overlayRef:q,onOpenChange:n,onPress:un,onRelease:Wt,onDrag:dn,dismissible:y,shouldAnimate:Be,handleOnly:v,isOpen:fe,isDragging:oe,shouldFade:Zt,closeDrawer:Ot,onNestedDrag:Dn,onNestedOpenChange:yt,onNestedRelease:He,keyboardIsOpen:Me,modal:S,snapPointsOffset:xe,activeSnapPointIndex:tt,direction:D,shouldScaleBackground:d,setBackgroundColorOnScale:f,noBodyStyles:T,container:Q,autoFocus:re}},r))}const y_=I.forwardRef(function({...t},n){const{overlayRef:r,snapPoints:s,onRelease:i,shouldFade:l,isOpen:d,modal:f,shouldAnimate:h}=pc(),m=f_(n,r),y=s&&s.length>0;if(!f)return null;const v=I.useCallback(w=>i(w),[i]);return I.createElement(oc,{onMouseUp:v,ref:m,"data-vaul-overlay":"","data-vaul-snap-points":d&&y?"true":"false","data-vaul-snap-points-overlay":d&&l?"true":"false","data-vaul-animate":h?.current?"true":"false",...t})});y_.displayName="Drawer.Overlay";const b_=I.forwardRef(function({onPointerDownOutside:t,style:n,onOpenAutoFocus:r,...s},i){const{drawerRef:l,onPress:d,onRelease:f,onDrag:h,keyboardIsOpen:m,snapPointsOffset:y,activeSnapPointIndex:v,modal:w,isOpen:j,direction:N,snapPoints:_,container:S,handleOnly:E,shouldAnimate:C,autoFocus:T}=pc(),[D,M]=I.useState(!1),k=f_(i,l),A=I.useRef(null),U=I.useRef(null),F=I.useRef(!1),V=_&&_.length>0;wz();const Q=(J,le,fe=0)=>{if(F.current)return!0;const R=Math.abs(J.y),L=Math.abs(J.x),$=L>R,oe=["bottom","right"].includes(le)?1:-1;if(le==="left"||le==="right"){if(!(J.x*oe<0)&&L>=0&&L<=fe)return $}else if(!(J.y*oe<0)&&R>=0&&R<=fe)return!$;return F.current=!0,!0};I.useEffect(()=>{V&&window.requestAnimationFrame(()=>{M(!0)})},[]);function re(J){A.current=null,F.current=!1,f(J)}return I.createElement(ic,{"data-vaul-drawer-direction":N,"data-vaul-drawer":"","data-vaul-delayed-snap-points":D?"true":"false","data-vaul-snap-points":j&&V?"true":"false","data-vaul-custom-container":S?"true":"false","data-vaul-animate":C?.current?"true":"false",...s,ref:k,style:y&&y.length>0?{"--snap-point-height":`${y[v??0]}px`,...n}:n,onPointerDown:J=>{E||(s.onPointerDown==null||s.onPointerDown.call(s,J),A.current={x:J.pageX,y:J.pageY},d(J))},onOpenAutoFocus:J=>{r?.(J),T||J.preventDefault()},onPointerDownOutside:J=>{if(t?.(J),!w||J.defaultPrevented){J.preventDefault();return}m.current&&(m.current=!1)},onFocusOutside:J=>{if(!w){J.preventDefault();return}},onPointerMove:J=>{if(U.current=J,E||(s.onPointerMove==null||s.onPointerMove.call(s,J),!A.current))return;const le=J.pageY-A.current.y,fe=J.pageX-A.current.x,R=J.pointerType==="touch"?10:2;Q({x:fe,y:le},N,R)?h(J):(Math.abs(fe)>R||Math.abs(le)>R)&&(A.current=null)},onPointerUp:J=>{s.onPointerUp==null||s.onPointerUp.call(s,J),A.current=null,F.current=!1,f(J)},onPointerOut:J=>{s.onPointerOut==null||s.onPointerOut.call(s,J),re(U.current)},onContextMenu:J=>{s.onContextMenu==null||s.onContextMenu.call(s,J),U.current&&re(U.current)}})});b_.displayName="Drawer.Content";const jz=250,_z=120,Ez=I.forwardRef(function({preventCycle:t=!1,children:n,...r},s){const{closeDrawer:i,isDragging:l,snapPoints:d,activeSnapPoint:f,setActiveSnapPoint:h,dismissible:m,handleOnly:y,isOpen:v,onPress:w,onDrag:j}=pc(),N=I.useRef(null),_=I.useRef(!1);function S(){if(_.current){T();return}window.setTimeout(()=>{E()},_z)}function E(){if(l||t||_.current){T();return}if(T(),!d||d.length===0){m||i();return}if(f===d[d.length-1]&&m){i();return}const M=d.findIndex(A=>A===f);if(M===-1)return;const k=d[M+1];h(k)}function C(){N.current=window.setTimeout(()=>{_.current=!0},jz)}function T(){N.current&&window.clearTimeout(N.current),_.current=!1}return I.createElement("div",{onClick:S,onPointerCancel:T,onPointerDown:D=>{y&&w(D),C()},onPointerMove:D=>{y&&j(D)},ref:s,"data-vaul-drawer-visible":v?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},I.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});Ez.displayName="Drawer.Handle";function Nz(t){const n=pc(),{container:r=n.container,...s}=t;return I.createElement(Wp,{container:r,...s})}const Ba={Root:Sz,Content:b_,Overlay:y_,Portal:Nz,Title:lc,Description:cc},w_=({shouldScaleBackground:t=!0,...n})=>u.jsx(Ba.Root,{shouldScaleBackground:t,...n});w_.displayName="Drawer";const Cz=Ba.Portal,x_=b.forwardRef(({className:t,...n},r)=>u.jsx(Ba.Overlay,{ref:r,className:je("fixed inset-0 z-50 bg-black/80",t),...n}));x_.displayName=Ba.Overlay.displayName;const S_=b.forwardRef(({className:t,children:n,...r},s)=>u.jsxs(Cz,{children:[u.jsx(x_,{}),u.jsxs(Ba.Content,{ref:s,className:je("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...r,children:[u.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),n]})]}));S_.displayName="DrawerContent";const j_=({className:t,...n})=>u.jsx("div",{className:je("grid gap-1.5 p-4 text-center sm:text-left",t),...n});j_.displayName="DrawerHeader";const __=b.forwardRef(({className:t,...n},r)=>u.jsx(Ba.Title,{ref:r,className:je("text-lg font-semibold leading-none tracking-tight",t),...n}));__.displayName=Ba.Title.displayName;const Tz=b.forwardRef(({className:t,...n},r)=>u.jsx(Ba.Description,{ref:r,className:je("text-sm text-muted-foreground",t),...n}));Tz.displayName=Ba.Description.displayName;const Oz=["先生へ直接","Teams","ロイロノート","Google Classroom","メール提出","その他"];function xp({open:t,onClose:n,onSave:r,editingAssignment:s}){const[i,l]=b.useState({subject:s?.subject||"",subsubject:"",teacher:s?.teacher||"",description:s?.description||"",submission_method:s?.submission_method||"",dueDate:s?.dueDate||""}),[d,f]=b.useState(void 0),[h,m]=b.useState(!1),[y,v]=b.useState([]),[w,j]=b.useState([]);b.useEffect(()=>{(async()=>{const{data:E,error:C}=await te.from("subjects").select("id, name");C?console.error("Error fetching subjects:",C):v(E||[]);const{data:T,error:D}=await te.from("subsubjects").select("id, subject_id, name");D?console.error("Error fetching subsubjects:",D):j(T||[])})()},[]),b.useEffect(()=>{if(t&&s){if(console.log("Editing assignment:",s),l({subject:s.subject||"",subsubject:s.subsubject||"",teacher:s.teacher||"",description:s.description||"",submission_method:s.submission_method||"",dueDate:s.dueDate||""}),s.dueDate){const S=s.dueDate.split("T")[0],[E,C,T]=S.split("-").map(Number);f(new Date(E,C-1,T))}}else t&&!s&&(l({subject:"",subsubject:"",teacher:"",description:"",submission_method:"",dueDate:""}),f(void 0))},[t,s]);const N=S=>{if(f(S),S){const E=S.getFullYear(),C=String(S.getMonth()+1).padStart(2,"0"),T=String(S.getDate()).padStart(2,"0"),D=`${E}-${C}-${T}T00:00:00`;l({...i,dueDate:D}),m(!1)}},_=()=>{if(!i.subject||!i.subsubject||!i.teacher||!i.description||!i.submission_method||!i.dueDate){pe.error("すべての項目を入力してください");return}r(i),l({subject:"",subsubject:"",teacher:"",description:"",submission_method:"",dueDate:""}),f(void 0),n()};return t?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/50 animate-in fade-in",children:u.jsxs("div",{className:"bg-white w-full sm:max-w-md sm:rounded-3xl rounded-t-3xl max-h-[90vh] overflow-hidden flex flex-col animate-in slide-in-from-bottom duration-300 sm:animate-in sm:zoom-in-95",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-border px-5 py-4 flex items-center justify-between sm:rounded-t-3xl rounded-t-3xl",children:[u.jsx("h2",{className:"text-lg",style:{fontWeight:600},children:s?"提出物を編集":"新規提出物を登録"}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-muted rounded-full transition-colors",children:u.jsx(Ut,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-5",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"space-y-2.5",children:[u.jsxs(Pt,{className:"text-sm text-foreground",children:["教科 ",u.jsx("span",{className:"text-destructive",children:"*"})]}),u.jsxs(Ra,{value:i.subject,onValueChange:S=>l({...i,subject:S}),children:[u.jsx(Qr,{className:"h-12 rounded-xl border-2 border-border bg-white hover:border-primary/50 transition-colors",children:u.jsx(Ma,{placeholder:"選択してください"})}),u.jsx(Zr,{className:"rounded-xl",children:y.map(S=>u.jsx(Jr,{value:S.name,className:"rounded-lg",children:u.jsx("div",{className:"flex items-center gap-2.5",children:S.name})},S.id))})]})]}),u.jsxs("div",{className:"space-y-2.5",children:[u.jsxs(Pt,{className:"text-sm text-foreground",children:["科目 ",u.jsx("span",{className:"text-destructive",children:"*"})]}),u.jsxs(Ra,{value:i.subsubject,onValueChange:S=>l({...i,subsubject:S}),children:[u.jsx(Qr,{className:"h-12 rounded-xl border-2 border-border bg-white hover:border-primary/50 transition-colors",children:u.jsx(Ma,{placeholder:"選択してください"})}),u.jsx(Zr,{className:"rounded-xl",children:w.filter(S=>S.subject_id===y.find(E=>E.name===i.subject)?.id).map(S=>u.jsx(Jr,{value:S.name,className:"rounded-lg",children:S.name},S.id))})]})]}),u.jsxs("div",{className:"space-y-2.5",children:[u.jsxs(Pt,{className:"text-sm text-foreground",children:["先生（担当者） ",u.jsx("span",{className:"text-destructive",children:"*"})]}),u.jsx(Dt,{value:i.teacher,onChange:S=>l({...i,teacher:S.target.value}),placeholder:"例: 山田太郎",className:"h-12 rounded-xl border-2 border-border bg-white px-4 hover:border-primary/50 focus:border-primary transition-colors"})]}),u.jsxs("div",{className:"space-y-2.5",children:[u.jsx(Pt,{className:"text-sm text-foreground",children:"内容"}),u.jsx(Dt,{value:i.description,onChange:S=>l({...i,description:S.target.value}),placeholder:"例: 10ページから12ページまで",className:"h-12 rounded-xl border-2 border-border bg-white px-4 hover:border-primary/50 focus:border-primary transition-colors"})]}),u.jsxs("div",{className:"space-y-2.5",children:[u.jsxs(Pt,{className:"text-sm text-foreground",children:["提出方法 ",u.jsx("span",{className:"text-destructive",children:"*"})]}),u.jsxs(Ra,{value:i.submission_method,onValueChange:S=>l({...i,submission_method:S}),children:[u.jsx(Qr,{className:"h-12 rounded-xl border-2 border-border bg-white hover:border-primary/50 transition-colors",children:u.jsx(Ma,{placeholder:"選択してください"})}),u.jsx(Zr,{className:"rounded-xl",children:Oz.map(S=>u.jsx(Jr,{value:S,className:"rounded-lg",children:S},S))})]})]}),u.jsxs("div",{className:"space-y-2.5",children:[u.jsxs(Pt,{className:"text-sm text-foreground",children:["提出期限 ",u.jsx("span",{className:"text-destructive",children:"*"})]}),u.jsxs("button",{type:"button",onClick:()=>m(!0),className:"w-full h-12 rounded-xl border-2 border-border bg-white hover:border-primary/50 transition-colors flex items-center px-4 text-left",children:[u.jsx(Os,{className:"mr-2.5 h-5 w-5 shrink-0 text-primary"}),i.dueDate?u.jsx("span",{className:"text-foreground",children:(()=>{const S=i.dueDate.split("T")[0],[E,C,T]=S.split("-").map(Number);return new Date(E,C-1,T).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"short"})})()}):u.jsx("span",{className:"text-muted-foreground",children:"日付を選択してください"})]})]})]})}),u.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-border px-5 py-4 flex gap-3 justify-end",children:[u.jsx(de,{variant:"outline",onClick:n,className:"h-12 rounded-xl border-2 border-border text-foreground hover:bg-muted transition-colors",children:"キャンセル"}),u.jsx(de,{onClick:_,className:"h-12 rounded-xl bg-gray-800 text-white hover:bg-gray-900 shadow-lg shadow-black/25 transition-all",disabled:!i.subject||!i.subsubject||!i.teacher||!i.description||!i.submission_method||!i.dueDate,children:s?"更新":"登録"})]})]})}),h&&u.jsx(w_,{open:h,onOpenChange:m,children:u.jsxs(S_,{className:"px-4 pb-6",children:[u.jsx(j_,{className:"text-left px-0 pt-4 pb-2",children:u.jsx(__,{className:"text-center",children:"提出期限を選択"})}),u.jsx("div",{className:"flex justify-center py-4",children:u.jsx(mc,{mode:"single",selected:d,onSelect:N,initialFocus:!0,className:"rounded-2xl border-0"})})]})})]}):null}function Az({open:t,onClose:n,assignments:r,onSelectAssignment:s}){const i=l=>{s(l),n()};return t?u.jsx(Rr,{open:t,onOpenChange:n,children:u.jsxs(gr,{className:"max-w-[90vw] sm:max-w-md max-h-[85vh] overflow-y-auto w-full",children:[u.jsx(vr,{children:u.jsx(yr,{className:"text-base sm:text-lg",children:"編集する提出物を選択"})}),u.jsx("div",{className:"space-y-3 py-4 w-full max-w-full",children:r.length===0?u.jsx("p",{className:"text-center text-muted-foreground text-sm py-8",children:"提出物がありません"}):r.map(l=>u.jsxs("button",{onClick:()=>i(l),className:"w-full max-w-full text-left bg-white rounded-xl p-3 border-2 border-border hover:border-primary transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 w-full max-w-full min-w-0",children:[u.jsx("div",{className:"w-1 h-8 rounded-full shrink-0",style:{backgroundColor:l.subjectColor}}),u.jsx("span",{className:"text-sm px-2 py-1 rounded text-white shrink-0",style:{backgroundColor:l.subjectColor,fontWeight:500},children:l.subject}),u.jsx("span",{className:"text-sm flex-1 min-w-0 break-words overflow-hidden",style:{fontWeight:500},children:l.description})]}),u.jsxs("div",{className:"text-sm text-muted-foreground px-2 break-words",children:["期限: ",l.deadline]})]},l.id))}),u.jsx("div",{className:"flex justify-end pt-2 border-t",children:u.jsx(de,{variant:"outline",onClick:n,className:"text-sm",children:"キャンセル"})})]})}):null}const gc=b.forwardRef(({className:t,...n},r)=>u.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));gc.displayName="Textarea";var Vd="Popover",[E_]=La(Vd,[Hd]),vc=Hd(),[Dz,ks]=E_(Vd),N_=t=>{const{__scopePopover:n,children:r,open:s,defaultOpen:i,onOpenChange:l,modal:d=!1}=t,f=vc(n),h=b.useRef(null),[m,y]=b.useState(!1),[v,w]=fo({prop:s,defaultProp:i??!1,onChange:l,caller:Vd});return u.jsx(VS,{...f,children:u.jsx(Dz,{scope:n,contentId:ka(),triggerRef:h,open:v,onOpenChange:w,onOpenToggle:b.useCallback(()=>w(j=>!j),[w]),hasCustomAnchor:m,onCustomAnchorAdd:b.useCallback(()=>y(!0),[]),onCustomAnchorRemove:b.useCallback(()=>y(!1),[]),modal:d,children:r})})};N_.displayName=Vd;var C_="PopoverAnchor",kz=b.forwardRef((t,n)=>{const{__scopePopover:r,...s}=t,i=ks(C_,r),l=vc(r),{onCustomAnchorAdd:d,onCustomAnchorRemove:f}=i;return b.useEffect(()=>(d(),()=>f()),[d,f]),u.jsx(ng,{...l,...s,ref:n})});kz.displayName=C_;var T_="PopoverTrigger",O_=b.forwardRef((t,n)=>{const{__scopePopover:r,...s}=t,i=ks(T_,r),l=vc(r),d=pt(n,i.triggerRef),f=u.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":M_(i.open),...s,ref:d,onClick:Fe(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?f:u.jsx(ng,{asChild:!0,...l,children:f})});O_.displayName=T_;var lg="PopoverPortal",[Rz,Mz]=E_(lg,{forceMount:void 0}),A_=t=>{const{__scopePopover:n,forceMount:r,children:s,container:i}=t,l=ks(lg,n);return u.jsx(Rz,{scope:n,forceMount:r,children:u.jsx(pr,{present:r||l.open,children:u.jsx(Ad,{asChild:!0,container:i,children:s})})})};A_.displayName=lg;var Ei="PopoverContent",D_=b.forwardRef((t,n)=>{const r=Mz(Ei,t.__scopePopover),{forceMount:s=r.forceMount,...i}=t,l=ks(Ei,t.__scopePopover);return u.jsx(pr,{present:s||l.open,children:l.modal?u.jsx(Uz,{...i,ref:n}):u.jsx(Pz,{...i,ref:n})})});D_.displayName=Ei;var zz=uo("PopoverContent.RemoveScroll"),Uz=b.forwardRef((t,n)=>{const r=ks(Ei,t.__scopePopover),s=b.useRef(null),i=pt(n,s),l=b.useRef(!1);return b.useEffect(()=>{const d=s.current;if(d)return Ip(d)},[]),u.jsx(kd,{as:zz,allowPinchZoom:!0,children:u.jsx(k_,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(t.onCloseAutoFocus,d=>{d.preventDefault(),l.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Fe(t.onPointerDownOutside,d=>{const f=d.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,m=f.button===2||h;l.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:Fe(t.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1})})})}),Pz=b.forwardRef((t,n)=>{const r=ks(Ei,t.__scopePopover),s=b.useRef(!1),i=b.useRef(!1);return u.jsx(k_,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(s.current||r.triggerRef.current?.focus(),l.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=l.target;r.triggerRef.current?.contains(d)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),k_=b.forwardRef((t,n)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:y,...v}=t,w=ks(Ei,r),j=vc(r);return Pp(),u.jsx(Od,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:l,children:u.jsx(Td,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:y,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:m,onDismiss:()=>w.onOpenChange(!1),children:u.jsx(GS,{"data-state":M_(w.open),role:"dialog",id:w.contentId,...j,...v,ref:n,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),R_="PopoverClose",Iz=b.forwardRef((t,n)=>{const{__scopePopover:r,...s}=t,i=ks(R_,r);return u.jsx(Qe.button,{type:"button",...s,ref:n,onClick:Fe(t.onClick,()=>i.onOpenChange(!1))})});Iz.displayName=R_;var Lz="PopoverArrow",Bz=b.forwardRef((t,n)=>{const{__scopePopover:r,...s}=t,i=vc(r);return u.jsx(KS,{...i,...s,ref:n})});Bz.displayName=Lz;function M_(t){return t?"open":"closed"}var $z=N_,Hz=O_,Wz=A_,z_=D_;const Gd=$z,Kd=Hz,yc=b.forwardRef(({className:t,align:n="center",sideOffset:r=4,...s},i)=>u.jsx(Wz,{children:u.jsx(z_,{ref:i,align:n,sideOffset:r,className:je("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));yc.displayName=z_.displayName;const Fz={lessThanXSeconds:{one:"1秒未満",other:"{{count}}秒未満",oneWithSuffix:"約1秒",otherWithSuffix:"約{{count}}秒"},xSeconds:{one:"1秒",other:"{{count}}秒"},halfAMinute:"30秒",lessThanXMinutes:{one:"1分未満",other:"{{count}}分未満",oneWithSuffix:"約1分",otherWithSuffix:"約{{count}}分"},xMinutes:{one:"1分",other:"{{count}}分"},aboutXHours:{one:"約1時間",other:"約{{count}}時間"},xHours:{one:"1時間",other:"{{count}}時間"},xDays:{one:"1日",other:"{{count}}日"},aboutXWeeks:{one:"約1週間",other:"約{{count}}週間"},xWeeks:{one:"1週間",other:"{{count}}週間"},aboutXMonths:{one:"約1か月",other:"約{{count}}か月"},xMonths:{one:"1か月",other:"{{count}}か月"},aboutXYears:{one:"約1年",other:"約{{count}}年"},xYears:{one:"1年",other:"{{count}}年"},overXYears:{one:"1年以上",other:"{{count}}年以上"},almostXYears:{one:"1年近く",other:"{{count}}年近く"}},qz=(t,n,r)=>{r=r||{};let s;const i=Fz[t];return typeof i=="string"?s=i:n===1?r.addSuffix&&i.oneWithSuffix?s=i.oneWithSuffix:s=i.one:r.addSuffix&&i.otherWithSuffix?s=i.otherWithSuffix.replace("{{count}}",String(n)):s=i.other.replace("{{count}}",String(n)),r.addSuffix?r.comparison&&r.comparison>0?s+"後":s+"前":s},Yz={full:"y年M月d日EEEE",long:"y年M月d日",medium:"y/MM/dd",short:"y/MM/dd"},Vz={full:"H時mm分ss秒 zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},Gz={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Kz={date:bi({formats:Yz,defaultWidth:"full"}),time:bi({formats:Vz,defaultWidth:"full"}),dateTime:bi({formats:Gz,defaultWidth:"full"})},Xz={lastWeek:"先週のeeeeのp",yesterday:"昨日のp",today:"今日のp",tomorrow:"明日のp",nextWeek:"翌週のeeeeのp",other:"P"},Qz=(t,n,r,s)=>Xz[t],Zz={narrow:["BC","AC"],abbreviated:["紀元前","西暦"],wide:["紀元前","西暦"]},Jz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["第1四半期","第2四半期","第3四半期","第4四半期"]},e8={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},t8={narrow:["日","月","火","水","木","金","土"],short:["日","月","火","水","木","金","土"],abbreviated:["日","月","火","水","木","金","土"],wide:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},n8={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},r8={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},a8=(t,n)=>{const r=Number(t);switch(String(n?.unit)){case"year":return`${r}年`;case"quarter":return`第${r}四半期`;case"month":return`${r}月`;case"week":return`第${r}週`;case"date":return`${r}日`;case"hour":return`${r}時`;case"minute":return`${r}分`;case"second":return`${r}秒`;default:return`${r}`}},s8={ordinalNumber:a8,era:Yr({values:Zz,defaultWidth:"wide"}),quarter:Yr({values:Jz,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Yr({values:e8,defaultWidth:"wide"}),day:Yr({values:t8,defaultWidth:"wide"}),dayPeriod:Yr({values:n8,defaultWidth:"wide",formattingValues:r8,defaultFormattingWidth:"wide"})},o8=/^第?\d+(年|四半期|月|週|日|時|分|秒)?/i,i8=/\d+/i,l8={narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^(紀元[前後]|西暦)/i,wide:/^(紀元[前後]|西暦)/i},c8={narrow:[/^B/i,/^A/i],any:[/^(紀元前)/i,/^(西暦|紀元後)/i]},u8={narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^第[1234一二三四１２３４]四半期/i},d8={any:[/(1|一|１)/i,/(2|二|２)/i,/(3|三|３)/i,/(4|四|４)/i]},f8={narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])月/i,wide:/^([123456789]|1[012])月/i},h8={any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},m8={narrow:/^[日月火水木金土]/,short:/^[日月火水木金土]/,abbreviated:/^[日月火水木金土]/,wide:/^[日月火水木金土]曜日/},p8={any:[/^日/,/^月/,/^火/,/^水/,/^木/,/^金/,/^土/]},g8={any:/^(AM|PM|午前|午後|正午|深夜|真夜中|夜|朝)/i},v8={any:{am:/^(A|午前)/i,pm:/^(P|午後)/i,midnight:/^深夜|真夜中/i,noon:/^正午/i,morning:/^朝/i,afternoon:/^午後/i,evening:/^夜/i,night:/^深夜/i}},y8={ordinalNumber:qj({matchPattern:o8,parsePattern:i8,valueCallback:function(t){return parseInt(t,10)}}),era:Vr({matchPatterns:l8,defaultMatchWidth:"wide",parsePatterns:c8,defaultParseWidth:"any"}),quarter:Vr({matchPatterns:u8,defaultMatchWidth:"wide",parsePatterns:d8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vr({matchPatterns:f8,defaultMatchWidth:"wide",parsePatterns:h8,defaultParseWidth:"any"}),day:Vr({matchPatterns:m8,defaultMatchWidth:"wide",parsePatterns:p8,defaultParseWidth:"any"}),dayPeriod:Vr({matchPatterns:g8,defaultMatchWidth:"any",parsePatterns:v8,defaultParseWidth:"any"})},_s={code:"ja",formatDistance:qz,formatLong:Kz,formatRelative:Qz,localize:s8,match:y8,options:{weekStartsOn:0,firstWeekContainsDate:1}},Bm=[{value:"国語",color:"#FF9F9F",courses:["現代の国語","言語文化","論理国語","文学国語","国語表現","古典探究"]},{value:"数学",color:"#7B9FE8",courses:["数学I","数学II","数学III","数学A","数学B","数学C"]},{value:"英語",color:"#FFD6A5",courses:["英語コミュニケーションI","英語コミュニケーションII","英語コミュニケーションIII","論理・表現I","論理・表現II","論理・表現III"]},{value:"理科",color:"#A8E8D8",courses:["物理基礎","物理","化学基礎","化学","生物基礎","生物","地学基礎","地学"]},{value:"社会",color:"#B8A8E8",courses:["地理総合","地理探究","歴史総合","日本史探究","世界史探究","公共","倫理","政治・経済"]},{value:"保健体育",color:"#FFA8C8",courses:["体育","保健"]},{value:"芸術",color:"#E8D8A8",courses:["音楽I","音楽II","音楽III","美術I","美術II","美術III","工芸I","工芸II","工芸III","書道I","書道II","書道III"]},{value:"家庭",color:"#D8E8A8",courses:["家庭基礎","家庭総合"]},{value:"情報",color:"#A8D8E8",courses:["情報I","情報II"]}];function Sp({open:t,onClose:n,onSave:r,initialData:s}){const[i,l]=b.useState(""),[d,f]=b.useState(""),[h,m]=b.useState(""),[y,v]=b.useState(""),[w,j]=b.useState(void 0),_=Bm.find(T=>T.value===i)?.courses||[],S=T=>{const D=Bm.find(M=>M.value===T);l(T),f(D?.color||""),m("")},E=()=>{i&&h&&y&&w&&(r({subject:i,subjectColor:d,course:h,content:y,testDate:_i(w,"M月d日(E)",{locale:_s})}),C())},C=()=>{s||(l(""),f(""),m(""),v(""),j(void 0)),n()};return b.useEffect(()=>{if(t&&s){console.log("Editing test range - initialData:",s),l(s.subject||""),f(s.subjectColor||""),m(s.course||""),v(s.content||"");try{if(s.testDate&&typeof s.testDate=="string")if(s.testDate.includes("-")&&s.testDate.includes("T")){const T=s.testDate.split("T")[0],[D,M,k]=T.split("-").map(Number);j(new Date(D,M-1,k))}else{const T=s.testDate.match(/(\d+)月(\d+)日/);if(T){const D=parseInt(T[1]),M=parseInt(T[2]),k=new Date().getFullYear();j(new Date(k,D-1,M))}}}catch(T){console.error("Error parsing date:",T)}}else t&&!s&&(l(""),f(""),m(""),v(""),j(void 0))},[t,s]),u.jsx(Rr,{open:t,onOpenChange:C,children:u.jsxs(gr,{className:"max-w-lg p-0",children:[u.jsxs(vr,{className:"px-6 pt-6 pb-4 border-b border-border",children:[u.jsx(yr,{children:s?"テスト範囲を編集":"テスト範囲を追加"}),u.jsx(aa,{children:"テストの教科・科目、範囲、日程を入力してください。"})]}),u.jsxs("div",{className:"px-6 py-4 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pt,{children:"教科"}),u.jsxs(Ra,{value:i,onValueChange:S,children:[u.jsx(Qr,{className:"w-full rounded-lg",children:u.jsx(Ma,{placeholder:"選択してください"})}),u.jsx(Zr,{children:Bm.map(T=>u.jsx(Jr,{value:T.value,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:T.color}}),T.value]})},T.value))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pt,{children:"科目"}),u.jsxs(Ra,{value:h,onValueChange:m,disabled:!i,children:[u.jsx(Qr,{className:"w-full rounded-lg",children:u.jsx(Ma,{placeholder:i?"選択してください":"先に教科を選択してください"})}),u.jsx(Zr,{children:_.map(T=>u.jsx(Jr,{value:T,children:T},T))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pt,{children:"テスト範囲"}),u.jsx(gc,{value:y,onChange:T=>v(T.target.value),placeholder:"例: 教科書 P2~10 / ワークブック P2~10",className:"rounded-lg bg-input-background min-h-[100px]"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pt,{children:"テスト日"}),u.jsxs(Gd,{children:[u.jsx(Kd,{asChild:!0,children:u.jsxs("button",{className:"flex w-full items-center justify-start rounded-lg border border-border bg-input-background px-3 py-2 text-left transition-colors hover:bg-accent hover:text-accent-foreground",children:[u.jsx(Os,{className:"mr-2 h-4 w-4"}),w?_i(w,"M月d日(E)",{locale:_s}):"日付を選択"]})}),u.jsx(yc,{className:"w-auto p-0",align:"start",children:u.jsx(mc,{mode:"single",selected:w,onSelect:j,initialFocus:!0,locale:_s})})]})]})]}),u.jsxs("div",{className:"px-6 py-4 border-t border-border flex justify-end gap-3",children:[u.jsx(de,{variant:"outline",onClick:C,className:"rounded-xl",children:"キャンセル"}),u.jsx(de,{onClick:E,className:"rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",disabled:!i||!h||!y||!w,children:"保存"})]})]})})}function b8({open:t,onClose:n,tests:r,onSelectTest:s}){const i=l=>{s(l),n()};return u.jsx(Rr,{open:t,onOpenChange:n,children:u.jsxs(gr,{className:"max-w-lg p-0",children:[u.jsxs(vr,{className:"px-6 pt-6 pb-4 border-b border-border",children:[u.jsx(yr,{children:"編集するテストを選択"}),u.jsx(aa,{children:"編集したいテスト範囲を選んでください。"})]}),u.jsx(Mn,{className:"max-h-[400px]",children:u.jsx("div",{className:"px-6 py-4 space-y-3",children:r.length===0?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"テスト範囲がありません"}):r.map(l=>u.jsx("button",{onClick:()=>i(l),className:"w-full rounded-2xl p-4 shadow-sm border border-border bg-white hover:bg-muted/50 transition-colors text-left",children:u.jsxs("div",{className:"flex gap-3 w-full",children:[u.jsx("div",{className:"w-1 rounded-full shrink-0",style:{backgroundColor:l.subjectColor}}),u.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("span",{className:"text-base text-foreground",style:{fontWeight:600},children:["試験日: ",l.deadline]}),u.jsx(Fr,{className:"h-4 w-4 text-muted-foreground shrink-0"})]}),u.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:u.jsx("span",{className:"text-sm px-2.5 py-1 rounded-lg text-white whitespace-nowrap",style:{backgroundColor:l.subjectColor,fontWeight:500},children:l.subject})}),l.description&&u.jsx("p",{className:"text-sm text-muted-foreground break-words whitespace-pre-line line-clamp-2",children:l.description})]})]})},l.id))})}),u.jsx("div",{className:"px-6 py-4 border-t border-border flex justify-end",children:u.jsx(de,{variant:"outline",onClick:n,className:"rounded-xl",children:"キャンセル"})})]})})}const U_=t=>{const n=b.useRef(null),r=b.useRef(new Set);b.useEffect(()=>{if(!t)return;"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const i=async()=>{try{const l=new Date,d=new Date(l.getTime()+3600*1e3);console.log("🔔 Checking reminders...",{userId:t,now:l.toISOString(),oneHourFromNow:d.toISOString()});const{data:f,error:h}=await te.from("reminders").select(`
            id,
            announcement_id,
            schedule_id,
            remind_at,
            announcements (
              id,
              title,
              description,
              type,
              due_date,
              subjects ( name ),
              subsubjects ( name )
            ),
            schedules (
              id,
              title,
              description,
              start_time,
              subjects ( name )
            )
          `).eq("user_id",t).lte("remind_at",d.toISOString());if(console.log("📋 Fetched reminders:",{count:f?.length||0,reminders:f}),h){console.error("Error fetching reminders:",h);return}for(const m of f||[]){const y=new Date(m.remind_at);if(console.log("⏰ Checking reminder:",{id:m.id,remindAt:y.toISOString(),now:l.toISOString(),shouldNotify:y<=l,alreadyNotified:r.current.has(m.id)}),y<=l){if(r.current.has(m.id)){console.log("⏭️ Skipping already notified reminder (in session):",m.id);continue}console.log("✅ Showing notification for reminder:",m.id),s(m,async()=>{const{error:v}=await te.from("reminders").delete().eq("id",m.id);v?console.error("❌ Error deleting reminder:",{error:v,message:v.message,details:v.details,hint:v.hint,code:v.code,reminderId:m.id}):console.log("✅ Deleted reminder from DB after confirmation:",m.id)}),r.current.add(m.id)}}}catch(l){console.error("Error checking reminders:",l)}};return i(),n.current=setInterval(i,30*1e3),()=>{n.current&&clearInterval(n.current)}},[t]);const s=(i,l)=>{let d="",f="",h="🔔";if(console.log("📢 showNotification called:",i),i.announcement_id&&i.announcements){const m=Array.isArray(i.announcements)?i.announcements[0]:i.announcements;if(console.log("📌 Processing announcement:",m),m){const y=(Array.isArray(m.subjects)?m.subjects[0]?.name:m.subjects?.name)||"",v=(Array.isArray(m.subsubjects)?m.subsubjects[0]?.name:m.subsubjects?.name)||"",w=v?`${y} (${v})`:y;let j="";if(m.due_date){const N=m.due_date.split("T")[0],[_,S,E]=N.split("-").map(Number);j=new Date(_,S-1,E).toLocaleDateString("ja-JP",{month:"long",day:"numeric",weekday:"short"})}m.type==="assignment"?(h="📝",d=`提出物リマインダー: ${w}`,f=`${m.description||m.title||"提出期限が近づいています"}${j?`
📅 期限: ${j}`:""}`):m.type==="test"?(h="📖",d=`テストリマインダー: ${w}`,f=`${m.description||m.title||"テストが近づいています"}${j?`
📅 試験日: ${j}`:""}`):m.type==="general_notice"&&(h="📢",d=`お知らせ: ${m.title||"連絡事項"}`,f=`${m.description||""}${j?`
📅 ${j}`:""}`)}}else if(i.schedule_id&&i.schedules){const m=Array.isArray(i.schedules)?i.schedules[0]:i.schedules;if(m){h="📅",d=`スケジュールリマインダー: ${m.title}`;let y="";m.start_time&&(y=new Date(m.start_time).toLocaleString("ja-JP",{month:"long",day:"numeric",weekday:"short",hour:"2-digit",minute:"2-digit"})),f=`${m.description||"スケジュールが近づいています"}${y?`
📅 ${y}`:""}`}}if(console.log("🎯 Notification content:",{title:d,body:f,icon:h}),"Notification"in window&&Notification.permission==="granted"){console.log("🌐 Showing browser notification");const m=new Notification(d,{body:f,icon:"/icon.png",tag:`reminder-${i.id}`,requireInteraction:!1});m.onclick=()=>{window.focus(),m.close()},setTimeout(()=>m.close(),1e4)}else console.log("🚫 Browser notification not available. Permission:","Notification"in window?Notification.permission:"not supported");console.log("🍞 Showing toast notification"),pe(d,{description:f,icon:h,duration:1/0,action:{label:"確認",onClick:()=>{l&&l(),pe.dismiss()}}})};return null};function w8({open:t,onClose:n,onSave:r,initialData:s}){const[i,l]=b.useState(""),[d,f]=b.useState(void 0);b.useEffect(()=>{t&&s?(l(s.description),f(s.date)):t&&!s&&(l(""),f(new Date))},[t,s]);const h=()=>{n()},m=()=>{if(!i.trim()||!d){pe.error("内容と日付を入力してください。");return}const y=i.trim().split(`
`)[0].substring(0,50);r({title:y,description:i,date:d}),pe.success(s?"お知らせを更新しました。":"お知らせを登録しました。"),h()};return u.jsx(Rr,{open:t,onOpenChange:h,children:u.jsxs(gr,{className:"sm:max-w-md p-0",children:[u.jsx(vr,{className:"px-6 pt-6 pb-4 border-b border-border",children:u.jsx(yr,{children:s?"お知らせを編集":"その他のお知らせを追加"})}),u.jsxs("div",{className:"px-6 py-4 space-y-5",children:[u.jsxs("div",{className:"space-y-2.5",children:[u.jsxs(Pt,{htmlFor:"description",className:"text-sm text-foreground",children:["内容 (500字まで) ",u.jsx("span",{className:"text-destructive",children:"*"})]}),u.jsx(gc,{id:"description",placeholder:"時間割変更、教室移動の連絡など",value:i,onChange:y=>l(y.target.value.substring(0,500)),rows:5,className:"rounded-xl border-2 border-border bg-white p-4 hover:border-primary/50 focus:border-primary transition-colors resize-none min-h-[120px]"})]}),u.jsxs("div",{className:"space-y-2.5",children:[u.jsxs(Pt,{htmlFor:"date",className:"text-sm text-foreground",children:["日付 ",u.jsx("span",{className:"text-destructive",children:"*"})]}),u.jsxs(Gd,{children:[u.jsx(Kd,{asChild:!0,children:u.jsxs(de,{variant:"outline",className:je("w-full h-12 justify-start text-left font-normal rounded-xl border-2 border-border bg-white hover:border-primary/50 transition-colors px-4",!d&&"text-muted-foreground"),children:[u.jsx(Os,{className:"mr-2.5 h-5 w-5 shrink-0 text-primary"}),d?_i(d,"yyyy年MM月dd日 (E)",{locale:_s}):u.jsx("span",{children:"日付を選択"})]})}),u.jsx(yc,{className:"w-auto p-0",align:"start",children:u.jsx(mc,{mode:"single",selected:d,onSelect:f,initialFocus:!0,locale:_s})})]})]})]}),u.jsxs(Md,{className:"px-6 py-4 border-t border-border flex gap-3 justify-end",children:[u.jsx(de,{variant:"outline",onClick:h,className:"h-12 rounded-xl border-2 border-border text-foreground hover:bg-muted transition-colors",children:"キャンセル"}),u.jsx(de,{onClick:m,className:"h-12 rounded-xl bg-gray-800 text-white hover:bg-gray-900 shadow-lg shadow-black/25 transition-all",disabled:!i.trim()||!d,children:s?"更新":"登録"})]})]})})}function x8({open:t,onClose:n,notices:r,onSelectNotice:s}){const i=l=>{s(l),n()};return u.jsx(Rr,{open:t,onOpenChange:n,children:u.jsxs(gr,{className:"max-w-[90vw] sm:max-w-md max-h-[85vh] overflow-y-auto w-full p-0",children:[u.jsxs(vr,{className:"px-6 pt-6 pb-2",children:[u.jsx(yr,{className:"text-base sm:text-lg",children:"編集するお知らせを選択"}),u.jsx(aa,{className:"sr-only",children:"編集したいお知らせを下のリストから選択してください"})]}),u.jsx("div",{className:"space-y-3 py-4 px-6 w-full max-w-full",children:r.length===0?u.jsx("p",{className:"text-center text-muted-foreground text-sm py-8",children:"お知らせがありません"}):r.map(l=>u.jsxs("button",{onClick:()=>i(l),className:"w-full max-w-full text-left bg-white rounded-xl p-3 border-2 border-border hover:border-primary transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 w-full max-w-full min-w-0",children:[u.jsx("div",{className:"w-1 h-8 rounded-full shrink-0",style:{backgroundColor:l.subjectColor}}),u.jsx("span",{className:"text-sm px-2 py-1 rounded text-white shrink-0",style:{backgroundColor:l.subjectColor,fontWeight:500},children:l.subject}),u.jsx("span",{className:"text-sm flex-1 min-w-0 break-words overflow-hidden",style:{fontWeight:500},children:l.title||l.description.substring(0,30)+"..."})]}),u.jsxs("div",{className:"text-sm text-muted-foreground px-2 break-words",children:["日付: ",l.date]})]},l.id))}),u.jsx(Md,{className:"px-6 pt-2 pb-4 border-t border-border flex justify-end",children:u.jsx(de,{variant:"outline",onClick:n,className:"text-sm rounded-xl h-10",children:"キャンセル"})})]})})}function S8(){const t=Ia(),[n,r]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState([]),[f,h]=b.useState(!0),[m,y]=b.useState(null),[v,w]=b.useState(!1),[j,N]=b.useState(!1),[_,S]=b.useState(!1),[E,C]=b.useState(null),[T,D]=b.useState(!1),[M,k]=b.useState(!1),[A,U]=b.useState(!1),[F,V]=b.useState(null),[Q,re]=b.useState(null);U_(Q);const[J,le]=b.useState(!1),[fe,R]=b.useState(!1),[L,$]=b.useState(null),oe=new Date,me=`${oe.getMonth()+1}月${oe.getDate()}日`,z=["日","月","火","水","木","金","土"][oe.getDay()];b.useEffect(()=>{(async()=>{const{data:{user:Ae}}=await te.auth.getUser();if(!Ae){t("/");return}const Re=await X(Ae.email);re(Re)})(),q()},[t]);const X=async W=>{if(!W)return console.error("No email provided"),null;try{const{data:Ae,error:Re}=await te.from("users").select("id").eq("email",W).maybeSingle();return Re?(console.error("Error fetching user_id:",Re),null):Ae?Ae.id:(console.error("User not found in users table for email:",W),null)}catch(Ae){return console.error("Exception in getUserIdByEmail:",Ae),null}},q=async()=>{h(!0);const{data:{user:W}}=await te.auth.getUser();if(!W){t("/");return}try{const Ae=await X(W.email);if(!Ae){pe.error("ユーザー情報の取得に失敗しました"),t("/");return}const{data:Re,error:Ve}=await te.from("announcements").select(`
          id,
          title,
          description,
          type,
          due_date,
          submission_method,
          created_at,
          teacher_name,
          subjects ( name ),
          subsubjects ( name, subjects ( name ) )
        `).order("due_date",{ascending:!0}).order("created_at",{ascending:!1});if(Ve)throw Ve;const Ye=[],Xe=[],tt=[],rt=new Date,$e=new Date;$e.setDate(rt.getDate()+3);for(const xe of Re){let We=(Array.isArray(xe.subjects)?xe.subjects[0]?.name:xe.subjects?.name)||"";const Zt=(Array.isArray(xe.subsubjects)?xe.subsubjects[0]?.name:xe.subsubjects?.name)||"";!We&&xe.subsubjects&&(We=(Array.isArray(xe.subsubjects)?xe.subsubjects[0]:xe.subsubjects)?.subjects?.name||"");const Ht=xe.teacher_name||"",yn=Zt?`${We} (${Zt})`:xe.type==="general_notice"?"連絡事項":We;console.log("Subject mapping:",{subjectName:We,hasColor:!!ln[We],color:ln[We],type:xe.type});const It=xe.type==="general_notice"?"#7B9FE8":ln[We]||ln.その他||"#7B9FE8";let un=!1,Vt=!1,dn="",Ot="";if(xe.due_date){const kt=xe.due_date.split("T")[0],[gt,Wt,yt]=kt.split("-").map(Number),Dn=new Date(gt,Wt-1,yt);dn=Dn.toLocaleDateString("ja-JP",{month:"long",day:"numeric",weekday:"short"});const He=new Date(rt.getFullYear(),rt.getMonth(),rt.getDate()),ge=new Date(Dn.getFullYear(),Dn.getMonth(),Dn.getDate());ge<He?(un=!0,Vt=!0):ge<=$e&&(un=!0)}if(xe.type==="general_notice"&&xe.due_date){const kt=xe.due_date.split("T")[0],[gt,Wt,yt]=kt.split("-").map(Number);Ot=new Date(gt,Wt-1,yt).toLocaleDateString("ja-JP",{month:"long",day:"numeric",weekday:"short"})}if(xe.type==="assignment"){const{data:kt,error:gt}=await te.from("submissions").select("status").eq("announcement_id",xe.id).eq("user_id",Ae).single();gt&&gt.code!=="PGRST116"&&console.error("Error fetching submission:",gt),Ye.push({id:xe.id,subject:yn,subjectColor:It,teacher:Ht,description:xe.description,deadline:dn,isUrgent:un,isOverdue:Vt,isCompleted:kt?.status==="submitted",submission_method:xe.submission_method,rawSubjectName:We,rawSubsubjectName:Zt,rawDueDate:xe.due_date})}else xe.type==="test"?Xe.push({id:xe.id,subject:yn,subjectColor:It,description:xe.description,deadline:dn,isCompleted:!1,rawSubjectName:We,rawSubsubjectName:Zt,rawDueDate:xe.due_date}):xe.type==="general_notice"&&tt.push({id:xe.id,subject:yn,subjectColor:It,title:xe.title||"",description:xe.description,date:Ot})}r(Ye),i(Xe),d(tt)}catch(Ae){y(Ae.message),console.error("Error fetching announcements:",Ae)}finally{h(!1)}},ne=async W=>{h(!0);const{data:{user:Ae}}=await te.auth.getUser();if(!Ae){pe.error("ユーザーが認証されていません。"),h(!1);return}try{const Re=await X(Ae.email);if(!Re){pe.error("ユーザー情報の取得に失敗しました"),h(!1);return}const{data:Ve,error:Ye}=await te.from("subjects").select("id").eq("name",W.subject).maybeSingle();if(Ye){console.error("Error fetching subject:",Ye),pe.error("教科の取得に失敗しました"),h(!1);return}const{data:Xe,error:tt}=await te.from("subsubjects").select("id").eq("name",W.subsubject).maybeSingle();if(tt){console.error("Error fetching subsubject:",tt),pe.error("科目の取得に失敗しました"),h(!1);return}const rt=W.subsubject?`${W.subject} (${W.subsubject})`:W.subject,{error:$e}=await te.from("announcements").insert({title:rt,description:W.description,type:"assignment",due_date:W.dueDate,submission_method:W.submission_method,subject_id:Ve?.id||null,subsubject_id:Xe?.id||null,created_by:Re,teacher_name:W.teacher||null});$e?(console.error("Error adding assignment:",$e),pe.error("提出物の登録中にエラーが発生しました。")):(pe.success("提出物を追加しました"),w(!1),await q())}catch(Re){console.error("Exception in handleAddAssignment:",Re),pe.error("提出物の登録中にエラーが発生しました")}finally{h(!1)}},he=W=>{C(W),S(!0)},ye=async W=>{if(!E){pe.error("編集対象が選択されていません");return}h(!0);try{const{data:Ae,error:Re}=await te.from("subjects").select("id").eq("name",W.subject).maybeSingle();if(Re){console.error("Error fetching subject:",Re),pe.error("教科の取得に失敗しました"),h(!1);return}const{data:Ve,error:Ye}=await te.from("subsubjects").select("id").eq("name",W.subsubject).maybeSingle();if(Ye){console.error("Error fetching subsubject:",Ye),pe.error("科目の取得に失敗しました"),h(!1);return}const Xe=W.subsubject?`${W.subject} (${W.subsubject})`:W.subject,{error:tt}=await te.from("announcements").update({title:Xe,description:W.description,due_date:W.dueDate,submission_method:W.submission_method,subject_id:Ae?.id||null,subsubject_id:Ve?.id||null,teacher_name:W.teacher||null}).eq("id",E.id);tt?(console.error("Error updating assignment:",tt),pe.error("提出物の更新中にエラーが発生しました")):(pe.success("提出物を更新しました"),S(!1),C(null),await q())}catch(Ae){console.error("Exception in handleUpdateAssignment:",Ae),pe.error("提出物の更新中にエラーが発生しました")}finally{h(!1)}},se=async(W,Ae,Re)=>{console.log("📋 handleToggleAssignment called:",{id:W,currentStatus:Ae,subjectTitle:Re});const{data:{user:Ve}}=await te.auth.getUser();if(!Ve){console.error("❌ User not authenticated"),pe.error("ユーザーが認証されていません。");return}console.log("✅ User authenticated:",Ve.email),console.log("🔍 User auth object:",Ve);try{const Ye=await X(Ve.email);if(!Ye){console.error("❌ Failed to get user_id"),pe.error("ユーザー情報の取得に失敗しました");return}console.log("✅ Got userId:",Ye);const Xe=Ae?"pending":"submitted";console.log("🔄 Toggling status:",{currentStatus:Ae,newStatus:Xe});const{data:tt,error:rt}=await te.from("submissions").select("id").eq("announcement_id",W).eq("user_id",Ye).maybeSingle();console.log("🔍 Existing submission check:",{existingSubmission:tt,checkError:rt});let $e;if(tt){console.log("📝 Updating existing submission...");const xe=await te.from("submissions").update({status:Xe,submitted_at:Xe==="submitted"?new Date().toISOString():null}).eq("announcement_id",W).eq("user_id",Ye);$e=xe.error,console.log("📝 Update result:",{error:$e,data:xe.data})}else{console.log("➕ Inserting new submission...");const xe=await te.from("submissions").insert({announcement_id:W,user_id:Ye,status:Xe,submitted_at:Xe==="submitted"?new Date().toISOString():null});$e=xe.error,console.log("➕ Insert result:",{error:$e,data:xe.data})}$e?(console.error("❌ Error updating submission status:",$e),pe.error("提出状況の更新中にエラーが発生しました。")):(console.log("✅ Successfully updated submission status"),r(xe=>xe.map(We=>We.id===W?{...We,isCompleted:!Ae}:We)),Ae?pe.info("未提出に変更",{description:Re}):pe.success("提出完了　よくできました👏",{description:Re}))}catch(Ye){console.error("❌ Error in handleToggleAssignment:",Ye),pe.error("提出状況の更新中にエラーが発生しました")}},ve=async W=>{h(!0);const{data:{user:Ae}}=await te.auth.getUser();if(!Ae){pe.error("ユーザーが認証されていません。"),h(!1);return}try{const Re=await X(Ae.email);if(!Re){pe.error("ユーザー情報の取得に失敗しました"),h(!1);return}const{data:Ve,error:Ye}=await te.from("subjects").select("id").eq("name",W.subject).maybeSingle();if(Ye){console.error("Error fetching subject:",Ye),pe.error("教科の取得に失敗しました"),h(!1);return}const{data:Xe,error:tt}=await te.from("subsubjects").select("id").eq("name",W.course).maybeSingle();if(tt){console.error("Error fetching subsubject:",tt),pe.error("科目の取得に失敗しました"),h(!1);return}let rt;try{const We=W.testDate.match(/(\d+)月(\d+)日/);if(We){const Zt=parseInt(We[1]),Ht=parseInt(We[2]),yn=new Date().getFullYear(),It=String(Zt).padStart(2,"0"),un=String(Ht).padStart(2,"0");rt=`${yn}-${It}-${un}T00:00:00`}else throw new Error("Invalid date format")}catch(We){console.error("Error parsing date:",We),pe.error("日付の形式が正しくありません"),h(!1);return}const $e=W.course?`${W.subject} (${W.course})`:W.subject,{error:xe}=await te.from("announcements").insert({title:$e,description:W.content,type:"test",due_date:rt,submission_method:"none",subject_id:Ve?.id||null,subsubject_id:Xe?.id||null,created_by:Re});xe?(console.error("Error adding test range:",xe),pe.error("テスト範囲の登録中にエラーが発生しました。")):(pe.success("テスト範囲を追加しました"),D(!1),await q())}catch(Re){console.error("Exception in handleAddTest:",Re),pe.error("テスト範囲の登録中にエラーが発生しました")}finally{h(!1)}},Ee=W=>{console.log("handleSelectTestToEdit - selected test:",W),V(W),U(!0)},Pe=async W=>{if(!F){pe.error("編集対象が選択されていません");return}h(!0);try{const{data:Ae,error:Re}=await te.from("subjects").select("id").eq("name",W.subject).maybeSingle();if(Re){console.error("Error fetching subject:",Re),pe.error("教科の取得に失敗しました"),h(!1);return}const{data:Ve,error:Ye}=await te.from("subsubjects").select("id").eq("name",W.course).maybeSingle();if(Ye){console.error("Error fetching subsubject:",Ye),pe.error("科目の取得に失敗しました"),h(!1);return}let Xe;try{const $e=W.testDate.match(/(\d+)月(\d+)日/);if($e){const xe=parseInt($e[1]),We=parseInt($e[2]),Zt=new Date().getFullYear(),Ht=String(xe).padStart(2,"0"),yn=String(We).padStart(2,"0");Xe=`${Zt}-${Ht}-${yn}T00:00:00`}else throw new Error("Invalid date format")}catch($e){console.error("Error parsing date:",$e),pe.error("日付の形式が正しくありません"),h(!1);return}const tt=W.course?`${W.subject} (${W.course})`:W.subject,{error:rt}=await te.from("announcements").update({title:tt,description:W.content,due_date:Xe,subject_id:Ae?.id||null,subsubject_id:Ve?.id||null}).eq("id",F.id);rt?(console.error("Error updating test range:",rt),pe.error("テスト範囲の更新中にエラーが発生しました")):(pe.success("テスト範囲を更新しました"),U(!1),V(null),await q())}catch(Ae){console.error("Exception in handleUpdateTest:",Ae),pe.error("テスト範囲の更新中にエラーが発生しました")}finally{h(!1)}},Me=async({title:W,description:Ae,date:Re})=>{if(!Re){pe.error("日付が選択されていません。");return}h(!0);const{data:{user:Ve}}=await te.auth.getUser();if(!Ve){pe.error("ユーザーが認証されていません。"),h(!1);return}try{const Ye=await X(Ve.email);if(!Ye){pe.error("ユーザー情報の取得に失敗しました"),h(!1);return}const Xe=Re.getFullYear(),tt=String(Re.getMonth()+1).padStart(2,"0"),rt=String(Re.getDate()).padStart(2,"0"),$e=`${Xe}-${tt}-${rt}T00:00:00`,{error:xe}=await te.from("announcements").insert({title:W,description:Ae,type:"general_notice",created_by:Ye,due_date:$e,submission_method:"なし",subject_id:null,subsubject_id:null});xe?(console.error("Error adding general notice:",xe),pe.error("お知らせの登録に失敗しました。")):(pe.success("お知らせを登録しました"),le(!1),await q())}catch(Ye){console.error("Exception in handleAddGeneralNotice:",Ye),pe.error("お知らせの登録中にエラーが発生しました")}finally{h(!1)}},Be=W=>{console.log("Edit general notice selected:",W),$(W),R(!1),le(!0)},Tt=async({title:W,description:Ae,date:Re})=>{if(!L){pe.error("編集対象が選択されていません");return}if(!Re){pe.error("日付が選択されていません。");return}h(!0);try{const Ve=Re.getFullYear(),Ye=String(Re.getMonth()+1).padStart(2,"0"),Xe=String(Re.getDate()).padStart(2,"0"),tt=`${Ve}-${Ye}-${Xe}T00:00:00`,{error:rt}=await te.from("announcements").update({title:W,description:Ae,due_date:tt}).eq("id",L.id);rt?(console.error("Error updating general notice:",rt),pe.error("お知らせの更新中にエラーが発生しました")):(pe.success("お知らせを更新しました"),le(!1),$(null),await q())}catch(Ve){console.error("Exception in handleUpdateGeneralNotice:",Ve),pe.error("お知らせの更新中にエラーが発生しました")}finally{h(!1)}};return f?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"読み込み中..."}):m?u.jsxs("div",{className:"min-h-screen flex items-center justify-center text-red-500",children:["エラー: ",m]}):u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("div",{className:"bg-white border-b border-border px-4 py-3 sticky top-0 z-10",children:u.jsx("div",{className:"flex items-center justify-center max-w-4xl mx-auto",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-xl text-[#7B9FE8]",style:{fontWeight:600},children:"お知らせ一覧"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[me,"(",z,")"]})]})})}),u.jsx(Mn,{className:"h-[calc(100vh-140px)]",children:u.jsxs("div",{className:"w-full max-w-full px-4 py-4 space-y-6 overflow-x-hidden",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg",style:{fontWeight:600},children:"各教科の提出物"}),u.jsx(de,{variant:"ghost",size:"sm",className:"text-primary",onClick:()=>t("/assignments"),children:"すべて見る"})]}),u.jsx("div",{className:"space-y-3",children:n.length===0?u.jsx("p",{className:"text-muted-foreground text-center",children:"提出物はありません。"}):n.map(W=>u.jsx("div",{className:`rounded-2xl p-4 shadow-sm w-full max-w-full cursor-pointer hover:shadow-md transition-shadow ${W.isUrgent?"border-2 border-destructive bg-red-50":"border border-border bg-white"}`,onClick:()=>t(`/detail/${W.id}`),children:u.jsxs("div",{className:"flex gap-3 w-full max-w-full min-w-0",children:[u.jsx("div",{className:"w-1 rounded-full shrink-0",style:{backgroundColor:W.subjectColor}}),u.jsxs("div",{className:"flex-1 min-w-0 space-y-2.5",children:[u.jsx("div",{className:"flex items-center justify-between gap-2",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-lg text-foreground shrink-0",style:{fontWeight:600},children:W.deadline}),W.isUrgent&&!W.isCompleted&&u.jsx(co,{variant:"destructive",className:"text-xs px-2 py-0.5 rounded-full shrink-0",children:W.isOverdue?"締切超過":"締切間近"})]})}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[u.jsx("span",{className:"text-sm px-2.5 py-1 rounded-lg text-white whitespace-nowrap shrink-0",style:{backgroundColor:W.subjectColor,fontWeight:500},children:W.subject}),u.jsx("span",{className:"text-base break-words",style:{fontWeight:500},children:W.description}),W.teacher&&u.jsx("span",{className:"text-base text-muted-foreground whitespace-nowrap",children:W.teacher})]}),u.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:u.jsxs("span",{className:"whitespace-nowrap",children:["📤 ",W.submission_method]})})]}),u.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),se(W.id,W.isCompleted,`${W.subject} ${W.description}`)},className:`w-7 h-7 rounded-lg border-2 flex items-center justify-center shrink-0 self-start transition-colors ${W.isCompleted?"bg-green-500 border-green-500":"bg-white border-muted-foreground/30 hover:border-primary"}`,children:W.isCompleted&&u.jsx(Xt,{className:"w-5 h-5 text-white",strokeWidth:3})})]})},W.id))}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>w(!0),children:[u.jsx(nr,{className:"h-4 w-4 mr-1"}),"追加"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>N(!0),children:[u.jsx(Fr,{className:"h-4 w-4 mr-1"}),"編集"]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("h2",{className:"text-lg",style:{fontWeight:600},children:"テスト範囲"})}),u.jsx("div",{className:"space-y-3",children:s.length===0?u.jsx("p",{className:"text-muted-foreground text-center",children:"テスト範囲はありません。"}):s.map(W=>u.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-border w-full max-w-full cursor-pointer hover:shadow-md transition-shadow",onClick:()=>t(`/detail/${W.id}`),children:u.jsxs("div",{className:"flex gap-3 w-full max-w-full min-w-0",children:[u.jsx("div",{className:"w-1 rounded-full shrink-0",style:{backgroundColor:W.subjectColor}}),u.jsxs("div",{className:"flex-1 min-w-0 space-y-2.5",children:[u.jsx("div",{className:"flex items-center gap-2 min-w-0",children:u.jsxs("span",{className:"text-lg text-foreground shrink-0",style:{fontWeight:600},children:["試験日: ",W.deadline]})}),u.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[u.jsx("span",{className:"text-sm px-2.5 py-1 rounded-lg text-white whitespace-nowrap shrink-0",style:{backgroundColor:W.subjectColor,fontWeight:500},children:W.subject}),u.jsx("div",{className:"flex-1 min-w-0",children:W.description&&u.jsx("p",{className:"text-base text-foreground break-words whitespace-pre-line",style:{fontWeight:500},children:W.description})})]})]})]})},W.id))}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>D(!0),children:[u.jsx(nr,{className:"h-4 w-4 mr-1"}),"追加"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>k(!0),children:[u.jsx(Fr,{className:"h-4 w-4 mr-1"}),"編集"]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("h2",{className:"text-lg",style:{fontWeight:600},children:"その他のお知らせ"})}),u.jsx("div",{className:"space-y-3",children:l.length===0?u.jsx("p",{className:"text-muted-foreground text-center",children:"お知らせはありません。"}):l.map(W=>u.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-border w-full max-w-full cursor-pointer hover:shadow-md transition-shadow",onClick:()=>t(`/detail/${W.id}`),children:u.jsxs("div",{className:"flex gap-3 w-full max-w-full min-w-0",children:[u.jsx("div",{className:"w-1 rounded-full shrink-0",style:{backgroundColor:W.subjectColor}}),u.jsxs("div",{className:"flex-1 min-w-0 space-y-2.5",children:[u.jsx("div",{className:"flex items-center gap-2 min-w-0",children:u.jsx("span",{className:"text-sm text-muted-foreground shrink-0",style:{fontWeight:500},children:W.date})}),u.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[u.jsx("span",{className:"text-sm px-2.5 py-1 rounded-lg text-white whitespace-nowrap shrink-0",style:{backgroundColor:W.subjectColor,fontWeight:500},children:W.subject}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-base break-words",style:{fontWeight:600},children:W.title}),W.description&&u.jsx("p",{className:"text-sm text-foreground mt-1 break-words whitespace-pre-line",children:W.description})]})]})]})]})},W.id))}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>le(!0),children:[u.jsx(nr,{className:"h-4 w-4 mr-1"}),"追加"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>R(!0),children:[u.jsx(Fr,{className:"h-4 w-4 mr-1"}),"編集"]})]})]})]})}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-border",children:u.jsx("div",{className:"max-w-4xl mx-auto px-4 py-2",children:u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs(de,{variant:"ghost",size:"sm",className:"flex-col h-auto py-2 gap-1",children:[u.jsx(Up,{className:"h-5 w-5 text-primary"}),u.jsx("span",{className:"text-xs text-primary",children:"お知らせ"})]}),u.jsxs(de,{onClick:()=>t("/calendar"),variant:"ghost",size:"sm",className:"flex-col h-auto py-2 gap-1",children:[u.jsx(Os,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"スケジュール"})]}),u.jsxs(de,{onClick:()=>t("/history"),variant:"ghost",size:"sm",className:"flex-col h-auto py-2 gap-1",children:[u.jsx(hd,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"履歴"})]})]})})}),u.jsx(xp,{open:v,onClose:()=>w(!1),onSave:ne}),u.jsx(Az,{open:j,onClose:()=>N(!1),assignments:n.map(W=>({id:W.id,subject:W.subject,subjectColor:W.subjectColor,teacher:W.teacher,description:W.description,deadline:W.deadline,isUrgent:W.isUrgent,isCompleted:W.isCompleted,submission_method:W.submission_method,rawSubjectName:W.rawSubjectName,rawSubsubjectName:W.rawSubsubjectName,rawDueDate:W.rawDueDate})),onSelectAssignment:he}),u.jsx(xp,{open:_,onClose:()=>{S(!1),C(null)},onSave:ye,editingAssignment:E?{subject:E.rawSubjectName,subsubject:E.rawSubsubjectName,teacher:E.teacher||"",description:E.description,submission_method:E.submission_method,dueDate:E.rawDueDate}:void 0}),u.jsx(Sp,{open:T,onClose:()=>D(!1),onSave:ve}),u.jsx(b8,{open:M,onClose:()=>k(!1),tests:s.map(W=>({id:W.id,subject:W.subject,subjectColor:W.subjectColor,description:W.description,deadline:W.deadline,isCompleted:W.isCompleted,rawSubjectName:W.rawSubjectName,rawSubsubjectName:W.rawSubsubjectName,rawDueDate:W.rawDueDate})),onSelectTest:Ee}),u.jsx(Sp,{open:A,onClose:()=>{U(!1),V(null)},onSave:Pe,initialData:F?{subject:F.rawSubjectName,subjectColor:F.subjectColor,course:F.rawSubsubjectName,content:F.description,testDate:F.rawDueDate}:void 0}),u.jsx(w8,{open:J,onClose:()=>{le(!1),$(null)},onSave:L?Tt:Me,initialData:L?{id:String(L.id),title:L.title,description:L.description,date:L.date?(()=>{const Ae=L.date.match(/(\d+)月(\d+)日/);if(Ae){const Re=parseInt(Ae[1]),Ve=parseInt(Ae[2]),Ye=new Date().getFullYear();return new Date(Ye,Re-1,Ve)}return new Date})():new Date}:void 0}),fe&&u.jsx(x8,{open:fe,onClose:()=>R(!1),notices:l,onSelectNotice:Be})]})}const Ow=[{name:"現代の国語",category:"国語"},{name:"言語文化",category:"国語"},{name:"論理国語",category:"国語"},{name:"文学国語",category:"国語"},{name:"国語表現",category:"国語"},{name:"古典探究",category:"国語"},{name:"数学I",category:"数学"},{name:"数学II",category:"数学"},{name:"数学III",category:"数学"},{name:"数学A",category:"数学"},{name:"数学B",category:"数学"},{name:"数学C",category:"数学"},{name:"英語コミュニケーションI",category:"英語"},{name:"英語コミュニケーションII",category:"英語"},{name:"英語コミュニケーションIII",category:"英語"},{name:"論理・表現I",category:"英語"},{name:"論理・表現II",category:"英語"},{name:"論理・表現III",category:"英語"},{name:"物理基礎",category:"理科"},{name:"物理",category:"理科"},{name:"化学基礎",category:"理科"},{name:"化学",category:"理科"},{name:"生物基礎",category:"理科"},{name:"生物",category:"理科"},{name:"地学基礎",category:"理科"},{name:"地学",category:"理科"},{name:"地理総合",category:"社会"},{name:"地理探究",category:"社会"},{name:"歴史総合",category:"社会"},{name:"日本史探究",category:"社会"},{name:"世界史探究",category:"社会"},{name:"公共",category:"社会"},{name:"倫理",category:"社会"},{name:"政治・経済",category:"社会"},{name:"体育",category:"保健体育"},{name:"保健",category:"保健体育"},{name:"音楽I",category:"芸術"},{name:"音楽II",category:"芸術"},{name:"音楽III",category:"芸術"},{name:"美術I",category:"芸術"},{name:"美術II",category:"芸術"},{name:"美術III",category:"芸術"},{name:"工芸I",category:"芸術"},{name:"工芸II",category:"芸術"},{name:"工芸III",category:"芸術"},{name:"書道I",category:"芸術"},{name:"書道II",category:"芸術"},{name:"書道III",category:"芸術"},{name:"家庭基礎",category:"家庭"},{name:"家庭総合",category:"家庭"},{name:"情報I",category:"情報"},{name:"情報II",category:"情報"},{name:"総合的な探究の時間",category:"その他"},{name:"LHR",category:"その他"},{name:"特別活動",category:"その他"}];function j8({open:t,onClose:n,onSave:r,initialData:s,dateStr:i,timeSlot:l}){const[d,f]=b.useState(s?.course||""),[h,m]=b.useState(s?.memo||"");b.useEffect(()=>{t&&(f(s?.course||""),m(s?.memo||""))},[t,s]);const y=()=>{if(!d&&!h.trim())return;const _=Ow.find(S=>S.name===d)?.category||"";r({subject:_,course:d||"",subjectColor:ln[_]||"#7B9FE8",memo:h}),n()},v=()=>{r({subject:"",course:"",subjectColor:"",memo:""}),n()},w=()=>{f(""),m("")};if(!t)return null;const j=typeof l=="number"&&l===7?"放課後":`${l}時間目`;return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-border px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl",style:{fontWeight:600},children:"スケジュール編集"}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[i," ",j]})]}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:u.jsx(Ut,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pt,{children:"科目"}),u.jsxs(Ra,{value:d,onValueChange:f,children:[u.jsx(Qr,{className:"w-full rounded-xl",children:u.jsx(Ma,{placeholder:"科目を選択"})}),u.jsx(Zr,{children:Ow.map(N=>u.jsx(Jr,{value:N.name,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ln[N.category]||"#7B9FE8"}}),N.name]})},N.name))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pt,{children:"メモ"}),u.jsx(gc,{value:h,onChange:N=>m(N.target.value),placeholder:"授業内容、持ち物、課題など...",className:"min-h-[120px] rounded-xl resize-none"})]})]}),u.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-border px-6 py-4 flex gap-3 rounded-b-2xl",children:[s&&(s.course||s.memo)&&u.jsx(de,{variant:"outline",onClick:v,className:"rounded-xl text-destructive hover:text-destructive",children:"削除"}),u.jsx(de,{variant:"outline",onClick:w,disabled:!d&&!h.trim(),className:"rounded-xl",children:"消去"}),u.jsx("div",{className:"flex-1"}),u.jsx(de,{variant:"outline",onClick:n,className:"rounded-xl",children:"キャンセル"}),u.jsx(de,{onClick:y,disabled:!d&&!h.trim(),className:"rounded-xl bg-primary hover:bg-primary/90",children:"保存"})]})]})})}const _8=["月","火","水","木","金","土","日"],E8=t=>{const n=[],r=t.getDay(),s=r===0?-6:1-r,i=new Date(t);i.setDate(t.getDate()+s);for(let l=0;l<7;l++){const d=new Date(i);d.setDate(i.getDate()+l);const f=d.getMonth()+1,h=d.getDate(),m=_8[l];n.push({dateStr:`${f}/${h}`,dayOfWeek:m,fullDate:d,isWeekend:d.getDay()===0||d.getDay()===6})}return n};function N8(){const t=Ia(),[n,r]=b.useState(new Date),[s,i]=b.useState([]),[l,d]=b.useState(!1),[f,h]=b.useState(null),[m,y]=b.useState([]),[v,w]=b.useState(!0),[j,N]=b.useState(null);U_(j),b.useEffect(()=>{(async()=>{const{data:{user:Q}}=await te.auth.getUser();if(Q){const re=await _(Q.email);N(re)}})(),S()},[]);const _=async V=>{if(!V)return console.error("No email provided"),null;try{const{data:Q,error:re}=await te.from("users").select("id").eq("email",V).maybeSingle();return re?(console.error("Error fetching user_id:",re),null):Q?Q.id:(console.error("User not found in users table for email:",V),null)}catch(Q){return console.error("Exception in getUserIdByEmail:",Q),null}},S=async()=>{w(!0);const{data:{user:V}}=await te.auth.getUser();if(!V){t("/");return}try{const Q=await _(V.email);if(!Q){pe.error("ユーザー情報の取得に失敗しました"),t("/home");return}const re=Q,{data:J,error:le}=await te.from("announcements").select(`
          id,
          title,
          description,
          type,
          due_date,
          submission_method,
          teacher_name,
          subjects ( name ),
          subsubjects ( name, subjects ( name ) )
        `).eq("type","assignment").order("due_date",{ascending:!0});if(le)throw le;const fe=[];for(const R of J){let L=(Array.isArray(R.subjects)?R.subjects[0]?.name:R.subjects?.name)||"";const $=(Array.isArray(R.subsubjects)?R.subsubjects[0]?.name:R.subsubjects?.name)||"";!L&&R.subsubjects&&(L=(Array.isArray(R.subsubjects)?R.subsubjects[0]:R.subsubjects)?.subjects?.name||"");const oe=R.teacher_name||"",me=$?`${L} (${$})`:L,z=ln[L]||"#7B9FE8";let X="",q=new Date;if(R.due_date){const ye=R.due_date.split("T")[0],[se,ve,Ee]=ye.split("-").map(Number);q=new Date(se,ve-1,Ee),X=q.toLocaleDateString("ja-JP",{month:"long",day:"numeric",weekday:"short"}).replace(/\s/g,"")}const{data:ne,error:he}=await te.from("submissions").select("status").eq("announcement_id",R.id).eq("user_id",re).single();he&&he.code!=="PGRST116"&&console.error("Error fetching submission:",he),fe.push({id:R.id,subject:me,subjectColor:z,teacher:oe,description:R.description,deadline:X,deadlineDate:q,submission_method:R.submission_method,isCompleted:ne?.status==="submitted"})}y(fe),await E(re)}catch(Q){console.error("Error fetching data:",Q),pe.error("データの取得中にエラーが発生しました")}finally{w(!1)}},E=async V=>{try{const{data:Q,error:re}=await te.from("schedules").select(`
          id,
          start_time,
          end_time,
          title,
          description,
          subjects ( name ),
          subsubjects ( name )
        `).eq("user_id",V);if(re)throw console.error("Schedules error:",re),re;const J=[];for(const le of Q){const fe=le.start_time.replace("T"," "),[R,L]=fe.split(" "),[$,oe,me]=R.split("-").map(Number),[z]=L.split(":").map(Number),X=`${oe}/${me}`;console.log("📖 Reading schedule:",{id:le.id,start_time:le.start_time,parsedHour:z,dateStr:X});let q=7;z===8?q=1:z===9?q=2:z===10?q=3:z===11?q=4:z===13?q=5:z===14?q=6:q=7,console.log("➡️ Converted to slot:",q);const ne=(Array.isArray(le.subjects)?le.subjects[0]?.name:le.subjects?.name)||"",he=(Array.isArray(le.subsubjects)?le.subsubjects[0]?.name:le.subsubjects?.name)||"",ye=ln[ne]||"#7B9FE8";J.push({id:le.id,date:X,timeSlot:q,subject:ne,course:he||le.title,subjectColor:ye,memo:le.description})}i(J)}catch(Q){console.error("Error fetching schedules:",Q),pe.error("スケジュールの取得に失敗しました")}},C=E8(n||new Date),T=[1,2,3,4,5,6,7],D=m.filter(V=>!V.isCompleted),M=D.length,k=(V,Q)=>s.find(re=>re.date===V&&re.timeSlot===Q),A=(V,Q)=>{h({date:V,slot:Q}),d(!0)},U=async V=>{if(!f)return;const{data:{user:Q}}=await te.auth.getUser();if(Q)try{const re=await _(Q.email);if(!re){pe.error("ユーザー情報の取得に失敗しました");return}const J=re;if(!V.course&&!V.memo.trim()){const q=k(f.date,f.slot);if(q?.id){const{error:ne}=await te.from("schedules").delete().eq("id",q.id);if(ne)throw ne;await E(J),pe.success("スケジュールを削除しました")}return}const[le,fe]=f.date.split("/").map(Number),R=new Date().getFullYear();console.log("🔍 Saving schedule:",{selectedSlot:f.slot,slotType:typeof f.slot,date:f.date});let L;f.slot===1?L=8:f.slot===2?L=9:f.slot===3?L=10:f.slot===4?L=11:f.slot===5?L=13:f.slot===6?L=14:L=15,console.log("⏰ Calculated startHour:",L);const $=`${R}-${String(le).padStart(2,"0")}-${String(fe).padStart(2,"0")} ${String(L).padStart(2,"0")}:00:00`,oe=`${R}-${String(le).padStart(2,"0")}-${String(fe).padStart(2,"0")} ${String(L+1).padStart(2,"0")}:00:00`;console.log("📅 Times:",{startTime:$,endTime:oe});const{data:me}=await te.from("subsubjects").select("id, subject_id").eq("name",V.course).single(),z={user_id:J,subject_id:me?.subject_id||null,subsubject_id:me?.id||null,location_id:null,title:V.course||"メモ",description:V.memo,start_time:$,end_time:oe},X=k(f.date,f.slot);if(X?.id){const{error:q}=await te.from("schedules").update(z).eq("id",X.id);if(q)throw q}else{const{error:q}=await te.from("schedules").insert(z);if(q)throw q}await E(J),pe.success("スケジュールを保存しました")}catch(re){console.error("Error saving schedule:",re),pe.error("スケジュールの保存中にエラーが発生しました")}},F=async(V,Q)=>{console.log("📋 [CalendarScreen] handleToggleAssignment called:",{id:V,currentStatus:Q});const{data:{user:re}}=await te.auth.getUser();if(!re){console.error("❌ [CalendarScreen] User not authenticated"),pe.error("ユーザーが認証されていません");return}console.log("✅ [CalendarScreen] User authenticated:",re.email);try{const J=await _(re.email);if(!J){console.error("❌ [CalendarScreen] Failed to get user_id"),pe.error("ユーザー情報の取得に失敗しました");return}const le=J;console.log("✅ [CalendarScreen] Got userId:",le);const fe=Q?"pending":"submitted";console.log("🔄 [CalendarScreen] Toggling status:",{currentStatus:Q,newStatus:fe});const{data:R,error:L}=await te.from("submissions").select("id").eq("announcement_id",V).eq("user_id",le).maybeSingle();console.log("🔍 [CalendarScreen] Existing submission check:",{existingSubmission:R,checkError:L});let $;if(R){console.log("📝 [CalendarScreen] Updating existing submission...");const oe=await te.from("submissions").update({status:fe,submitted_at:fe==="submitted"?new Date().toISOString():null}).eq("announcement_id",V).eq("user_id",le);$=oe.error,console.log("📝 [CalendarScreen] Update result:",{error:$,data:oe.data})}else{console.log("➕ [CalendarScreen] Inserting new submission...");const oe=await te.from("submissions").insert({announcement_id:V,user_id:le,status:fe,submitted_at:fe==="submitted"?new Date().toISOString():null});$=oe.error,console.log("➕ [CalendarScreen] Insert result:",{error:$,data:oe.data})}$?(console.error("❌ [CalendarScreen] Error updating submission status:",$),pe.error("提出状況の更新中にエラーが発生しました")):(console.log("✅ [CalendarScreen] Successfully updated submission status"),y(oe=>oe.map(me=>me.id===V?{...me,isCompleted:!Q}:me)),pe.success(fe==="submitted"?"提出完了 よくできました":"未提出に変更"))}catch(J){console.error("❌ [CalendarScreen] Error toggling assignment:",J),pe.error("提出状況の更新中にエラーが発生しました")}};return v?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"読み込み中..."}):u.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background border-b border-border",children:u.jsx("div",{className:"flex items-center justify-center px-4 py-3",children:u.jsx("h1",{className:"text-2xl text-primary",style:{fontWeight:600},children:"スケジュール"})})}),u.jsx(Mn,{className:"h-[calc(100vh-131px)]",children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{className:"flex gap-4 items-start",children:[u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[u.jsx("span",{style:{fontWeight:500},children:"📣 未提出"}),u.jsxs("span",{className:"text-primary",style:{fontWeight:600},children:[M,"件"]})]}),u.jsx("div",{className:"space-y-2",children:D.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-4",children:"未提出の課題はありません"}):D.map(V=>u.jsx("div",{className:"rounded-xl p-2 shadow-sm border border-border bg-white w-full max-w-full",children:u.jsxs("div",{className:"flex gap-1.5 w-full max-w-full min-w-0",children:[u.jsx("div",{className:"w-0.5 rounded-full shrink-0",style:{backgroundColor:V.subjectColor}}),u.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[u.jsx("div",{className:"flex items-center gap-1 min-w-0",children:u.jsx("span",{className:"text-sm text-foreground shrink-0",style:{fontWeight:600},children:V.deadline})}),u.jsxs("div",{className:"flex items-center gap-1 flex-wrap text-xs",children:[u.jsx("span",{className:"px-1.5 py-0.5 rounded text-white whitespace-nowrap",style:{backgroundColor:V.subjectColor,fontWeight:500},children:V.subject}),V.teacher&&u.jsx("span",{style:{fontWeight:500},children:V.teacher})]}),V.description&&u.jsx("div",{className:"text-xs text-foreground",style:{fontWeight:500},children:V.description}),V.submission_method&&u.jsx("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:u.jsxs("span",{className:"whitespace-nowrap",children:["📤 ",V.submission_method]})})]}),u.jsx("button",{onClick:Q=>{Q.stopPropagation(),F(V.id,V.isCompleted)},className:`w-5 h-5 rounded border-2 flex items-center justify-center shrink-0 self-start transition-colors ${V.isCompleted?"bg-green-500 border-green-500":"bg-white border-muted-foreground/30 hover:border-primary"}`,children:V.isCompleted&&u.jsx(Xt,{className:"w-3 h-3 text-white",strokeWidth:3})})]})},V.id))})]}),u.jsx("div",{className:"w-[280px] shrink-0",children:u.jsx("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-border sticky top-4",children:u.jsx(mc,{mode:"single",selected:n,onSelect:r,weekStartsOn:1,className:"rounded-md"})})})]}),u.jsxs("div",{id:"weekly-schedule",className:"scroll-mt-20",children:[u.jsx("div",{className:"mb-3 flex items-center justify-between",children:u.jsxs("h2",{className:"text-lg",style:{fontWeight:600},children:["週間スケジュール",n&&u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",C[0].dateStr," - ",C[6].dateStr,")"]})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-border overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("div",{className:"min-w-max",children:[u.jsxs("div",{className:"flex border-b border-border",children:[u.jsx("div",{className:"w-12 border-r border-border shrink-0"}),C.map((V,Q)=>u.jsx("div",{className:"flex-1 min-w-[100px] px-3 py-2 border-r border-border last:border-r-0",style:{backgroundColor:V.isWeekend?V.dayOfWeek==="土"?"#E8F4FD":"#FFE8F0":"white"},children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-sm",style:{fontWeight:500},children:V.dateStr}),u.jsx("div",{className:"text-xs text-muted-foreground",children:V.dayOfWeek})]})},Q))]}),T.map(V=>u.jsxs("div",{className:"flex border-b border-border last:border-b-0",children:[u.jsx("div",{className:"w-12 border-r border-border shrink-0 flex items-center justify-center py-3",children:u.jsx("span",{className:"text-sm text-muted-foreground",children:V===7?"放課後":V})}),C.map((Q,re)=>{const J=k(Q.dateStr,V);return u.jsx("div",{onClick:()=>A(Q.dateStr,V),className:"flex-1 min-w-[100px] px-2 py-2 border-r border-border last:border-r-0 min-h-[80px] cursor-pointer hover:bg-muted/30 transition-colors relative group",style:{backgroundColor:Q.isWeekend?Q.dayOfWeek==="土"?"#E8F4FD":"#FFE8F0":"white"},children:J?u.jsxs("div",{className:"h-full flex flex-col gap-1",children:[J.course&&u.jsx("div",{className:"text-xs px-1.5 py-0.5 rounded inline-block self-start",style:{backgroundColor:J.subjectColor,color:"white",fontWeight:500},children:J.course}),J.memo&&u.jsx("div",{className:"text-xs text-foreground whitespace-pre-wrap break-words leading-relaxed",children:J.memo})]}):u.jsx("div",{className:"w-full h-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(nr,{className:"w-4 h-4 text-muted-foreground"})})},re)})]},V))]})})})]})]})}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-border",children:u.jsx("div",{className:"max-w-4xl mx-auto px-4 py-2",children:u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs(de,{onClick:()=>t("/home"),variant:"ghost",size:"sm",className:"flex-col h-auto py-2 gap-1",children:[u.jsx(Up,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"お知らせ"})]}),u.jsxs(de,{variant:"ghost",size:"sm",className:"flex-col h-auto py-2 gap-1",children:[u.jsx(Os,{className:"h-5 w-5 text-primary"}),u.jsx("span",{className:"text-xs text-primary",children:"スケジュール"})]}),u.jsxs(de,{onClick:()=>t("/history"),variant:"ghost",size:"sm",className:"flex-col h-auto py-2 gap-1",children:[u.jsx(hd,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"履歴"})]})]})})}),u.jsx(j8,{open:l,onClose:()=>{d(!1),h(null)},onSave:U,initialData:f?k(f.date,f.slot):void 0,dateStr:f?.date||"",timeSlot:f?.slot||1})]})}const C8=async t=>{if(!t)return console.error("No email provided"),null;try{const{data:n,error:r}=await te.from("users").select("id").eq("email",t).maybeSingle();return r?(console.error("Error fetching user_id:",r),null):n?n.id:(console.error("User not found in users table for email:",t),null)}catch(n){return console.error("Exception in getUserIdByEmail:",n),null}};function T8(){const t=Ia(),[n,r]=b.useState([]),[s,i]=b.useState(!0),[l,d]=b.useState("all"),[f,h]=b.useState(null),m=new Date,y=`${m.getMonth()+1}月${m.getDate()}日`,v=["日","月","火","水","木","金","土"][m.getDay()];b.useEffect(()=>{w()},[]);const w=async()=>{i(!0);const{data:{user:S}}=await te.auth.getUser();if(!S){t("/");return}try{const E=await C8(S.email);if(!E){pe.error("ユーザー情報の取得に失敗しました"),t("/");return}h(E);const C=new Date,{data:T,error:D}=await te.from("announcements").select(`
          id,
          title,
          description,
          type,
          due_date,
          submission_method,
          teacher_name,
          subjects ( name ),
          subsubjects ( name, subjects ( name ) )
        `).eq("type","assignment").order("due_date",{ascending:!1});if(D)throw D;const M=[];for(const k of T){let A=(Array.isArray(k.subjects)?k.subjects[0]?.name:k.subjects?.name)||"";const U=(Array.isArray(k.subsubjects)?k.subsubjects[0]?.name:k.subsubjects?.name)||"";!A&&k.subsubjects&&(A=(Array.isArray(k.subsubjects)?k.subsubjects[0]:k.subsubjects)?.subjects?.name||"");const F=k.teacher_name||"",V=U?`${A} (${U})`:A;console.log("HistoryScreen - Subject mapping:",{subjectName:A,hasColor:!!ln[A],color:ln[A]});const Q=ln[A]||ln.その他||"#7B9FE8",re=k.due_date.split("T")[0],[J,le,fe]=re.split("-").map(Number),R=new Date(J,le-1,fe),L=R.toLocaleDateString("ja-JP",{month:"long",day:"numeric",weekday:"short"}),{data:$,error:oe}=await te.from("submissions").select("status, submitted_at").eq("announcement_id",k.id).eq("user_id",E).maybeSingle();oe&&oe.code!=="PGRST116"&&console.error("Error fetching submission:",oe);const me=$?.status==="submitted",z=$?.submitted_at?new Date($.submitted_at).toLocaleDateString("ja-JP",{month:"long",day:"numeric"}):void 0,X=R<C;(me||X)&&M.push({id:k.id,subject:V,subjectColor:Q,title:k.title,teacher:F,description:k.description,deadline:L,deadlineDate:R,isSubmitted:me,submittedDate:z,submission_method:k.submission_method})}r(M)}catch(E){console.error("Error fetching history:",E),pe.error("データの取得に失敗しました")}finally{i(!1)}},j=n.filter(S=>l==="submitted"?S.isSubmitted:l==="unsubmitted"?!S.isSubmitted:!0),N=n.filter(S=>S.isSubmitted).length,_=n.filter(S=>!S.isSubmitted).length;return s?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"読み込み中..."}):u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("div",{className:"bg-white border-b border-border px-4 py-3 sticky top-0 z-10",children:u.jsx("div",{className:"flex items-center justify-center max-w-4xl mx-auto",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-xl text-[#7B9FE8]",style:{fontWeight:600},children:"提出履歴"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[y,"(",v,")"]})]})})}),u.jsx(Mn,{className:"h-[calc(100vh-200px)]",children:u.jsxs("div",{className:"w-full max-w-full px-4 py-4 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("button",{onClick:()=>d("all"),className:`bg-white rounded-xl p-3 border text-center transition-all hover:shadow-md ${l==="all"?"border-primary border-2 shadow-sm":"border-border"}`,children:[u.jsx("div",{className:"text-2xl",style:{fontWeight:600},children:n.length}),u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"全課題"})]}),u.jsxs("button",{onClick:()=>d("submitted"),className:`bg-green-50 rounded-xl p-3 border text-center transition-all hover:shadow-md ${l==="submitted"?"border-green-500 border-2 shadow-sm":"border-green-200"}`,children:[u.jsx("div",{className:"text-2xl text-green-600",style:{fontWeight:600},children:N}),u.jsx("div",{className:"text-xs text-green-600 mt-1",children:"提出済み"})]}),u.jsxs("button",{onClick:()=>d("unsubmitted"),className:`bg-red-50 rounded-xl p-3 border text-center transition-all hover:shadow-md ${l==="unsubmitted"?"border-destructive border-2 shadow-sm":"border-red-200"}`,children:[u.jsx("div",{className:"text-2xl text-destructive",style:{fontWeight:600},children:_}),u.jsx("div",{className:"text-xs text-destructive mt-1",children:"未提出"})]})]}),u.jsx("div",{className:"space-y-3",children:j.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(hd,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),u.jsx("p",{className:"text-muted-foreground",children:"課題がありません"})]}):j.map(S=>u.jsx("div",{className:`rounded-2xl p-4 shadow-sm w-full max-w-full cursor-pointer hover:shadow-md transition-shadow ${S.isSubmitted?"border border-border bg-white":"border-2 border-red-200 bg-red-50"}`,onClick:()=>t(`/detail/${S.id}`),children:u.jsxs("div",{className:"flex gap-3 w-full max-w-full min-w-0",children:[u.jsx("div",{className:"w-1 rounded-full shrink-0",style:{backgroundColor:S.subjectColor}}),u.jsxs("div",{className:"flex-1 min-w-0 space-y-2.5",children:[u.jsx("div",{className:"flex items-center justify-between gap-2",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-lg text-foreground shrink-0",style:{fontWeight:600},children:S.deadline}),S.isSubmitted?u.jsx(co,{className:"text-xs px-2 py-0.5 rounded-full shrink-0 bg-green-500 hover:bg-green-500",children:"提出済み"}):u.jsx(co,{variant:"destructive",className:"text-xs px-2 py-0.5 rounded-full shrink-0",children:"未提出"})]})}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[u.jsx("span",{className:"text-sm px-2.5 py-1 rounded-lg text-white whitespace-nowrap shrink-0",style:{backgroundColor:S.subjectColor,fontWeight:500},children:S.subject}),u.jsx("span",{className:"text-base break-words",style:{fontWeight:500},children:S.description}),S.teacher&&u.jsx("span",{className:"text-base text-muted-foreground whitespace-nowrap",children:S.teacher})]}),u.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:u.jsxs("span",{className:"whitespace-nowrap",children:["📤 ",S.submission_method]})}),S.isSubmitted&&S.submittedDate&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[u.jsx(Xt,{className:"h-4 w-4"}),u.jsxs("span",{children:[S.submittedDate," 提出"]})]})]}),u.jsx("div",{className:"shrink-0 self-start",children:S.isSubmitted?u.jsx("div",{className:"w-7 h-7 rounded-lg bg-green-500 flex items-center justify-center",children:u.jsx(Xt,{className:"w-5 h-5 text-white",strokeWidth:3})}):u.jsx("div",{className:"w-7 h-7 rounded-lg bg-red-100 border-2 border-destructive flex items-center justify-center",children:u.jsx(Ut,{className:"w-5 h-5 text-destructive",strokeWidth:3})})})]})},S.id))})]})}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-border",children:u.jsx("div",{className:"max-w-4xl mx-auto px-4 py-2",children:u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs(de,{onClick:()=>t("/home"),variant:"ghost",size:"sm",className:"flex-col h-auto py-2 gap-1",children:[u.jsx(Up,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"お知らせ"})]}),u.jsxs(de,{onClick:()=>t("/calendar"),variant:"ghost",size:"sm",className:"flex-col h-auto py-2 gap-1",children:[u.jsx(Os,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"スケジュール"})]}),u.jsxs(de,{variant:"ghost",size:"sm",className:"flex-col h-auto py-2 gap-1",children:[u.jsx(hd,{className:"h-5 w-5 text-primary"}),u.jsx("span",{className:"text-xs text-primary",children:"履歴"})]})]})})})]})}const Wl=b.forwardRef(({className:t,...n},r)=>u.jsx("div",{ref:r,className:`shrink-0 bg-border h-[1px] w-full ${t||""}`,...n}));Wl.displayName="Separator";const Aw=[{id:"1day",label:"1日前",description:"提出期限の1日前 9:00",calculateTime:t=>{const n=new Date(t);return n.setDate(n.getDate()-1),n.setHours(9,0,0,0),n}},{id:"morning",label:"当日の朝",description:"提出日の朝 8:00",calculateTime:t=>{const n=new Date(t);return n.setHours(8,0,0,0),n}},{id:"1hour",label:"1時間前",description:"提出期限の1時間前",calculateTime:t=>{const n=new Date(t);return n.setHours(n.getHours()-1),n}}];function O8({open:t,onClose:n,announcementId:r,announcementTitle:s,dueDate:i,noticeType:l}){const[d,f]=b.useState(null),[h,m]=b.useState(!1),[y,v]=b.useState([]),[w,j]=b.useState(""),[N,_]=b.useState("");console.log("Current selected option:",d),b.useEffect(()=>{t&&r&&E()},[t,r]);const S=async M=>{if(!M)return console.error("No email provided"),null;try{const{data:k,error:A}=await te.from("users").select("id").eq("email",M).maybeSingle();return A?(console.error("Error fetching user_id:",A),null):k?k.id:(console.error("User not found in users table for email:",M),null)}catch(k){return console.error("Exception in getUserIdByEmail:",k),null}},E=async()=>{const{data:{user:M}}=await te.auth.getUser();if(M)try{const k=await S(M.email);if(!k)return;const{data:A,error:U}=await te.from("reminders").select("*").eq("announcement_id",r).eq("user_id",k);if(U)throw U;v(A||[])}catch(k){console.error("Error fetching reminders:",k)}},C=async()=>{if(!d){pe.error("通知予定オプションを選択してください");return}if(d==="custom"){if(!w){pe.error("日付を選択してください");return}if(!N){pe.error("時刻を入力してください");return}}else if(!i){pe.error("提出期限が設定されていません");return}const{data:{user:M}}=await te.auth.getUser();if(!M){pe.error("ユーザー情報が取得できません");return}m(!0);try{const k=await S(M.email);if(!k){pe.error("ユーザー情報の取得に失敗しました");return}let A;if(d==="custom"){const[re,J]=N.split(":").map(Number),le=new Date(w);A=new Date(le.getFullYear(),le.getMonth(),le.getDate(),re,J,0,0)}else{const re=Aw.find($=>$.id===d);if(!re)throw new Error("Invalid option");const J=i?i.split("T")[0]:"",[le,fe,R]=J.split("-").map(Number),L=new Date(le,fe-1,R);A=re.calculateTime(L)}const U=A.getTimezoneOffset()*60*1e3,F=new Date(A.getTime()-U);console.log("Attempting to insert reminder:",{user_id:k,announcement_id:r,remind_at:F.toISOString()});const{data:V,error:Q}=await te.from("reminders").insert({user_id:k,announcement_id:r,remind_at:F.toISOString()}).select();if(Q)throw console.error("Supabase error details:",{message:Q.message,details:Q.details,hint:Q.hint,code:Q.code}),Q;console.log("Successfully inserted reminder:",V),pe.success("通知予定を設定しました"),f(null),j(""),_(""),E(),n()}catch(k){console.error("Error saving reminder:",k),pe.error("通知予定の設定に失敗しました")}finally{m(!1)}},T=async M=>{try{const{error:k}=await te.from("reminders").delete().eq("id",M);if(k)throw k;pe.success("通知予定を削除しました"),E()}catch(k){console.error("Error deleting reminder:",k),pe.error("通知予定の削除に失敗しました")}},D=M=>new Date(M).toLocaleString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return u.jsx(Rr,{open:t,onOpenChange:n,children:u.jsx(gr,{className:"max-w-md rounded-3xl p-0 gap-0","aria-describedby":"reminder-description",children:u.jsxs(u.Fragment,{children:[u.jsxs(vr,{className:"p-6 pb-4",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(yr,{className:"text-2xl",style:{fontWeight:600},children:"通知予定設定"})}),u.jsx(aa,{id:"reminder-description",className:"text-sm text-muted-foreground mt-2",children:"提出期限の通知タイミングを選択してください"})]}),y.length>0&&u.jsxs("div",{className:"px-6 pb-4 space-y-2",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"設定済み通知予定"}),u.jsx("div",{className:"space-y-2",children:y.map(M=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[u.jsx("span",{className:"text-sm",children:D(M.remind_at)}),u.jsx(de,{variant:"ghost",size:"sm",onClick:()=>T(M.id),children:u.jsx(Ut,{className:"h-4 w-4"})})]},M.id))})]}),u.jsxs("div",{className:"px-6 pb-6 space-y-3",children:[Aw.map(M=>u.jsx("button",{onClick:()=>f(M.id),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${d===M.id?"border-primary bg-primary/5":"border-border hover:border-primary/50 bg-white"}`,children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mt-0.5 ${d===M.id?"border-primary bg-primary":"border-muted-foreground"}`,children:d===M.id&&u.jsx(Xt,{className:"h-3 w-3 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-base mb-1",style:{fontWeight:500},children:M.label}),u.jsx("p",{className:"text-sm text-muted-foreground",children:M.description})]})]})},M.id)),u.jsx("button",{onClick:()=>f("custom"),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${d==="custom"?"border-primary bg-primary/5":"border-border hover:border-primary/50 bg-white"}`,children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mt-0.5 ${d==="custom"?"border-primary bg-primary":"border-muted-foreground"}`,children:d==="custom"&&u.jsx(Xt,{className:"h-3 w-3 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-base mb-1",style:{fontWeight:500},children:"カスタム設定"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"任意の日時を設定"}),d==="custom"&&u.jsxs("div",{className:"mt-4 space-y-3",children:[u.jsx(Pt,{htmlFor:"custom-date",children:"日付"}),u.jsx(Dt,{id:"custom-date",type:"date",value:w,onChange:M=>j(M.target.value),className:"w-full"}),u.jsx(Pt,{htmlFor:"custom-time",children:"時刻"}),u.jsx(Dt,{id:"custom-time",type:"time",value:N,onChange:M=>_(M.target.value),className:"w-full"})]})]})]})})]}),u.jsxs("div",{className:"p-6 pt-0 space-y-3",children:[u.jsxs(de,{onClick:C,disabled:!d||h,className:"w-full h-12 rounded-xl bg-primary hover:bg-primary/90",children:[u.jsx(op,{className:"mr-2 h-5 w-5"}),h?"設定中...":"設定する"]}),u.jsx(de,{variant:"outline",onClick:n,className:"w-full h-12 rounded-xl",disabled:h,children:"キャンセル"})]})]})})})}function A8(){const t=Ia(),{id:n}=eC(),[r,s]=b.useState(null),[i,l]=b.useState(!0),[d,f]=b.useState(!1),[h,m]=b.useState("");b.useEffect(()=>{n&&v(parseInt(n))},[n]);const y=async N=>{if(!N)return console.error("No email provided"),null;try{const{data:_,error:S}=await te.from("users").select("id").eq("email",N).maybeSingle();return S?(console.error("Error fetching user_id:",S),null):_?_.id:(console.error("User not found in users table for email:",N),null)}catch(_){return console.error("Exception in getUserIdByEmail:",_),null}},v=async N=>{l(!0);const{data:{user:_}}=await te.auth.getUser();if(!_){t("/");return}try{const S=await y(_.email);if(!S){pe.error("ユーザー情報の取得に失敗しました"),t("/");return}const{data:E,error:C}=await te.from("announcements").select(`
          id,
          title,
          description,
          type,
          due_date,
          submission_method,
          teacher_name,
          subjects ( name ),
          subsubjects ( name, subjects ( name ) )
        `).eq("id",N).single();if(C)throw C;const{data:T,error:D}=await te.from("submissions").select("status").eq("announcement_id",N).eq("user_id",S).single();D&&D.code!=="PGRST116"&&console.error("Error fetching submission:",D);const M=new Date;let k=null,A=null;if(E.due_date){const re=E.due_date.split("T")[0],[J,le,fe]=re.split("-").map(Number);k=new Date(J,le-1,fe),A=Math.ceil((k.getTime()-M.getTime())/(1e3*60*60*24))}const U=A!==null&&A>0&&A<=3;let F=(Array.isArray(E.subjects)?E.subjects[0]?.name:E.subjects?.name)||"";const V=(Array.isArray(E.subsubjects)?E.subsubjects[0]?.name:E.subsubjects?.name)||"";!F&&E.subsubjects&&(F=(Array.isArray(E.subsubjects)?E.subsubjects[0]:E.subsubjects)?.subjects?.name||"");const Q=E.teacher_name||"";console.log("DetailScreen - Subject mapping:",{subjectName:F,hasColor:!!ln[F],color:ln[F]}),s({id:E.id,type:E.type,title:E.title,description:E.description||"",due_date:E.due_date||"",submission_method:E.submission_method,subject:F,subjectColor:ln[F]||ln.その他||"#7B9FE8",subsubject:V,teacher:Q,isCompleted:T?.status==="submitted",isUrgent:U,daysUntilDue:A||void 0})}catch(S){console.error("Error fetching announcement detail:",S),pe.error("詳細情報の取得に失敗しました"),t(-1)}finally{l(!1)}},w=async()=>{if(!r)return;const{data:{user:N}}=await te.auth.getUser();if(N)try{const _=await y(N.email);if(!_){pe.error("ユーザー情報の取得に失敗しました");return}const S=r.isCompleted?"pending":"submitted",{error:E}=await te.from("submissions").upsert({announcement_id:r.id,user_id:_,status:S,submitted_at:S==="submitted"?new Date().toISOString():null,submission_method:"unknown"},{onConflict:"announcement_id,user_id"});E?(console.error("Error updating submission status:",E),pe.error("提出状況の更新に失敗しました")):(s(C=>C?{...C,isCompleted:!C.isCompleted}:null),pe.success(S==="submitted"?"完了にしました":"未完了に変更しました"))}catch(_){console.error("Error in handleToggleComplete:",_),pe.error("エラーが発生しました")}},j=N=>{if(!N)return"";const _=N.split("T")[0],[S,E,C]=_.split("-").map(Number);return new Date(S,E-1,C).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"short"})};return i?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"読み込み中..."}):r?u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("div",{className:"bg-white border-b border-border px-4 py-3 sticky top-0 z-10",children:u.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[u.jsx(de,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>t(-1),children:u.jsx(zp,{className:"h-5 w-5"})}),u.jsx("h1",{className:"text-xl",style:{fontWeight:600},children:"詳細"}),u.jsx("div",{className:"w-10"})]})}),u.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm px-3 py-1 rounded-lg text-white",style:{backgroundColor:r.subjectColor,fontWeight:500},children:r.subject}),r.subsubject&&u.jsx("span",{className:"text-sm text-muted-foreground",children:r.subsubject})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-border overflow-hidden",children:[u.jsx("div",{className:"h-2",style:{background:`linear-gradient(90deg, ${r.subjectColor} 0%, ${r.subjectColor}CC 100%)`}}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl mb-2",style:{fontWeight:600},children:r.title}),u.jsx("p",{className:"text-muted-foreground",children:r.description})]}),u.jsx(Wl,{}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Os,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:r.type==="assignment"?"提出期限":"試験日"}),u.jsx("p",{className:"text-base",style:{fontWeight:500},children:j(r.due_date)}),r.isUrgent&&r.daysUntilDue!==void 0&&u.jsxs(co,{variant:"destructive",className:"mt-2 rounded-md",children:["締切まであと",r.daysUntilDue,"日"]})]})]}),r.submission_method&&u.jsxs(u.Fragment,{children:[u.jsx(Wl,{}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ik,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"提出方法"}),u.jsxs("p",{className:"text-base",style:{fontWeight:500},children:["📤 ",r.submission_method]})]})]})]}),u.jsx(Wl,{}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(op,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"通知予定"}),u.jsxs(de,{variant:"outline",className:"w-full rounded-xl",onClick:()=>f(!0),children:[u.jsx(op,{className:"mr-2 h-4 w-4"}),"通知予定を設定"]})]})]})]}),u.jsx(Wl,{}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"メモ"}),u.jsx("textarea",{className:"w-full h-24 p-3 bg-muted rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"メモを入力...",value:h,onChange:N=>m(N.target.value)})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[r.type==="assignment"&&u.jsxs(de,{className:`w-full h-12 rounded-xl ${r.isCompleted?"bg-green-500 hover:bg-green-600":"bg-primary hover:bg-primary/90"}`,onClick:w,children:[u.jsx(Xt,{className:"mr-2 h-5 w-5"}),r.isCompleted?"完了済み":"完了にする"]}),u.jsx(de,{variant:"outline",className:"w-full h-12 rounded-xl",onClick:()=>t(-1),children:"戻る"})]})]}),u.jsx(O8,{open:d,onClose:()=>f(!1),announcementId:r.id,announcementTitle:r.title,dueDate:r.due_date,noticeType:r.type})]}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"データが見つかりません"})}var $m="rovingFocusGroup.onEntryFocus",D8={bubbles:!1,cancelable:!0},bc="RovingFocusGroup",[jp,P_,k8]=_S(bc),[R8,I_]=La(bc,[k8]),[M8,z8]=R8(bc),L_=b.forwardRef((t,n)=>u.jsx(jp.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(jp.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(U8,{...t,ref:n})})}));L_.displayName=bc;var U8=b.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:i=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...v}=t,w=b.useRef(null),j=pt(n,w),N=zd(l),[_,S]=fo({prop:d,defaultProp:f??null,onChange:h,caller:bc}),[E,C]=b.useState(!1),T=zn(m),D=P_(r),M=b.useRef(!1),[k,A]=b.useState(0);return b.useEffect(()=>{const U=w.current;if(U)return U.addEventListener($m,T),()=>U.removeEventListener($m,T)},[T]),u.jsx(M8,{scope:r,orientation:s,dir:N,loop:i,currentTabStopId:_,onItemFocus:b.useCallback(U=>S(U),[S]),onItemShiftTab:b.useCallback(()=>C(!0),[]),onFocusableItemAdd:b.useCallback(()=>A(U=>U+1),[]),onFocusableItemRemove:b.useCallback(()=>A(U=>U-1),[]),children:u.jsx(Qe.div,{tabIndex:E||k===0?-1:0,"data-orientation":s,...v,ref:j,style:{outline:"none",...t.style},onMouseDown:Fe(t.onMouseDown,()=>{M.current=!0}),onFocus:Fe(t.onFocus,U=>{const F=!M.current;if(U.target===U.currentTarget&&F&&!E){const V=new CustomEvent($m,D8);if(U.currentTarget.dispatchEvent(V),!V.defaultPrevented){const Q=D().filter(R=>R.focusable),re=Q.find(R=>R.active),J=Q.find(R=>R.id===_),fe=[re,J,...Q].filter(Boolean).map(R=>R.ref.current);H_(fe,y)}}M.current=!1}),onBlur:Fe(t.onBlur,()=>C(!1))})})}),B_="RovingFocusGroupItem",$_=b.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:i=!1,tabStopId:l,children:d,...f}=t,h=ka(),m=l||h,y=z8(B_,r),v=y.currentTabStopId===m,w=P_(r),{onFocusableItemAdd:j,onFocusableItemRemove:N,currentTabStopId:_}=y;return b.useEffect(()=>{if(s)return j(),()=>N()},[s,j,N]),u.jsx(jp.ItemSlot,{scope:r,id:m,focusable:s,active:i,children:u.jsx(Qe.span,{tabIndex:v?0:-1,"data-orientation":y.orientation,...f,ref:n,onMouseDown:Fe(t.onMouseDown,S=>{s?y.onItemFocus(m):S.preventDefault()}),onFocus:Fe(t.onFocus,()=>y.onItemFocus(m)),onKeyDown:Fe(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){y.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const E=L8(S,y.orientation,y.dir);if(E!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let T=w().filter(D=>D.focusable).map(D=>D.ref.current);if(E==="last")T.reverse();else if(E==="prev"||E==="next"){E==="prev"&&T.reverse();const D=T.indexOf(S.currentTarget);T=y.loop?B8(T,D+1):T.slice(D+1)}setTimeout(()=>H_(T))}}),children:typeof d=="function"?d({isCurrentTabStop:v,hasTabStop:_!=null}):d})})});$_.displayName=B_;var P8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function I8(t,n){return n!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function L8(t,n,r){const s=I8(t.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return P8[s]}function H_(t,n=!1){const r=document.activeElement;for(const s of t)if(s===r||(s.focus({preventScroll:n}),document.activeElement!==r))return}function B8(t,n){return t.map((r,s)=>t[(n+s)%t.length])}var $8=L_,H8=$_,Xd="Tabs",[W8]=La(Xd,[I_]),W_=I_(),[F8,cg]=W8(Xd),F_=b.forwardRef((t,n)=>{const{__scopeTabs:r,value:s,onValueChange:i,defaultValue:l,orientation:d="horizontal",dir:f,activationMode:h="automatic",...m}=t,y=zd(f),[v,w]=fo({prop:s,onChange:i,defaultProp:l??"",caller:Xd});return u.jsx(F8,{scope:r,baseId:ka(),value:v,onValueChange:w,orientation:d,dir:y,activationMode:h,children:u.jsx(Qe.div,{dir:y,"data-orientation":d,...m,ref:n})})});F_.displayName=Xd;var q_="TabsList",Y_=b.forwardRef((t,n)=>{const{__scopeTabs:r,loop:s=!0,...i}=t,l=cg(q_,r),d=W_(r);return u.jsx($8,{asChild:!0,...d,orientation:l.orientation,dir:l.dir,loop:s,children:u.jsx(Qe.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:n})})});Y_.displayName=q_;var V_="TabsTrigger",G_=b.forwardRef((t,n)=>{const{__scopeTabs:r,value:s,disabled:i=!1,...l}=t,d=cg(V_,r),f=W_(r),h=Q_(d.baseId,s),m=Z_(d.baseId,s),y=s===d.value;return u.jsx(H8,{asChild:!0,...f,focusable:!i,active:y,children:u.jsx(Qe.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...l,ref:n,onMouseDown:Fe(t.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?d.onValueChange(s):v.preventDefault()}),onKeyDown:Fe(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&d.onValueChange(s)}),onFocus:Fe(t.onFocus,()=>{const v=d.activationMode!=="manual";!y&&!i&&v&&d.onValueChange(s)})})})});G_.displayName=V_;var K_="TabsContent",X_=b.forwardRef((t,n)=>{const{__scopeTabs:r,value:s,forceMount:i,children:l,...d}=t,f=cg(K_,r),h=Q_(f.baseId,s),m=Z_(f.baseId,s),y=s===f.value,v=b.useRef(y);return b.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),u.jsx(pr,{present:i||y,children:({present:w})=>u.jsx(Qe.div,{"data-state":y?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":h,hidden:!w,id:m,tabIndex:0,...d,ref:n,style:{...t.style,animationDuration:v.current?"0s":void 0},children:w&&l})})});X_.displayName=K_;function Q_(t,n){return`${t}-trigger-${n}`}function Z_(t,n){return`${t}-content-${n}`}var q8=F_,Y8=Y_,V8=G_,G8=X_;function od({className:t,...n}){return u.jsx(q8,{className:je("flex flex-col gap-2",t),...n})}function id({className:t,...n}){return u.jsx(Y8,{className:je("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...n})}function Hr({className:t,...n}){return u.jsx(V8,{className:je("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function Wr({className:t,...n}){return u.jsx(G8,{className:je("flex-1 outline-none",t),...n})}const K8=Hp,X8=Wp,J_=b.forwardRef(({className:t,...n},r)=>u.jsx(oc,{ref:r,className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n}));J_.displayName=oc.displayName;const Q8=Ed("fixed z-50 bg-background shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out overflow-y-auto",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),e1=b.forwardRef(({side:t="right",className:n,children:r,...s},i)=>u.jsxs(X8,{children:[u.jsx(J_,{}),u.jsx(ic,{ref:i,className:je(Q8({side:t}),n),...s,children:r})]}));e1.displayName=ic.displayName;const t1=({className:t,...n})=>u.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",t),...n});t1.displayName="SheetHeader";const n1=b.forwardRef(({className:t,...n},r)=>u.jsx(lc,{ref:r,className:je("text-lg font-semibold text-foreground",t),...n}));n1.displayName=lc.displayName;const r1=b.forwardRef(({className:t,...n},r)=>u.jsx(cc,{ref:r,className:je("text-sm text-muted-foreground",t),...n}));r1.displayName=cc.displayName;const Dw=async t=>{if(!t)return console.error("No email provided"),null;try{const{data:n,error:r}=await te.from("users").select("id").eq("email",t).maybeSingle();return r?(console.error("Error fetching user_id:",r),null):n?n.id:(console.error("User not found in users table for email:",t),null)}catch(n){return console.error("Exception in getUserIdByEmail:",n),null}};function Z8(){const t=Ia(),[n,r]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState(!0),[f,h]=b.useState(!1),[m,y]=b.useState("all"),[v,w]=b.useState(null),[j,N]=b.useState([]);b.useEffect(()=>{_()},[]);const _=async()=>{d(!0);const{data:{user:k}}=await te.auth.getUser();if(!k){t("/");return}try{const A=await Dw(k.email);if(!A){pe.error("ユーザー情報の取得に失敗しました"),t("/");return}const{data:U,error:F}=await te.from("announcements").select(`
          id,
          title,
          description,
          type,
          due_date,
          subjects ( name ),
          subsubjects ( name, subjects ( name ) )
        `).in("type",["assignment","test"]).order("due_date",{ascending:!0});if(F)throw F;const{data:V,error:Q}=await te.from("submissions").select("announcement_id, status").eq("user_id",A);if(Q)throw Q;const re=new Map(V?.map(L=>[L.announcement_id,L.status])||[]),J=new Date,le=(U||[]).map(L=>{let $=null,oe=null;if(L.due_date){const q=L.due_date.split("T")[0],[ne,he,ye]=q.split("-").map(Number);$=new Date(ne,he-1,ye),oe=Math.ceil(($.getTime()-J.getTime())/(1e3*60*60*24))}const me=oe!==null&&oe>0&&oe<=3;let z=(Array.isArray(L.subjects)?L.subjects[0]?.name:L.subjects?.name)||"";const X=(Array.isArray(L.subsubjects)?L.subsubjects[0]?.name:L.subsubjects?.name)||"";return!z&&L.subsubjects&&(z=(Array.isArray(L.subsubjects)?L.subsubjects[0]:L.subsubjects)?.subjects?.name||""),console.log("AssignmentsScreen - Subject mapping:",{subjectName:z,hasColor:!!ln[z],color:ln[z]}),{id:L.id,subject:z,subjectColor:ln[z]||ln.その他||"#7B9FE8",subsubject:X,title:L.title,description:L.description||"",deadline:$?$.toLocaleDateString("ja-JP",{month:"long",day:"numeric",weekday:"short"}):"",type:L.type,isUrgent:me,isCompleted:re.get(L.id)==="submitted",daysUntilDue:oe||void 0}});r(le.filter(L=>!L.isCompleted)),i(le.filter(L=>L.isCompleted));const{data:fe,error:R}=await te.from("subjects").select("name").order("id",{ascending:!0});if(R)console.error("Error fetching subjects:",R);else{const L=(fe||[]).map($=>$.name);N(L)}}catch(A){console.error("Error fetching assignments:",A),pe.error("データの取得に失敗しました")}finally{d(!1)}},S=async(k,A)=>{const{data:{user:U}}=await te.auth.getUser();if(U)try{const F=await Dw(U.email);if(!F){pe.error("ユーザー情報の取得に失敗しました");return}const V=A?"pending":"submitted",{error:Q}=await te.from("submissions").upsert({announcement_id:k,user_id:F,status:V,submitted_at:V==="submitted"?new Date().toISOString():null,submission_method:"unknown"},{onConflict:"announcement_id,user_id"});Q?(console.error("Error updating submission status:",Q),pe.error("提出状況の更新に失敗しました")):(pe.success(V==="submitted"?"完了にしました":"未完了に変更しました"),_())}catch(F){console.error("Error in handleToggleComplete:",F),pe.error("提出状況の更新に失敗しました")}},E=k=>{let A=k;return m!=="all"&&(A=A.filter(U=>U.type===m)),v&&(A=A.filter(U=>U.subject===v)),A},C=E(n),T=E(s),D=()=>{y("all"),w(null)},M=m!=="all"||v!==null;return l?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"読み込み中..."}):u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("div",{className:"bg-white border-b border-border px-4 py-3 sticky top-0 z-10",children:u.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[u.jsx(de,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>t(-1),children:u.jsx(zp,{className:"h-5 w-5"})}),u.jsx("h1",{className:"text-xl",style:{fontWeight:600},children:"提出物・テスト"}),u.jsxs(de,{variant:"ghost",size:"icon",className:"rounded-full relative",onClick:()=>h(!0),children:[u.jsx(ek,{className:"h-5 w-5"}),M&&u.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-primary rounded-full"})]})]})}),u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs(od,{defaultValue:"pending",className:"w-full",children:[u.jsx("div",{className:"bg-white border-b border-border px-4",children:u.jsxs(id,{className:"w-full bg-transparent",children:[u.jsxs(Hr,{value:"pending",className:"flex-1 data-[state=active]:bg-transparent data-[state=active]:text-primary data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none",children:[u.jsx(H0,{className:"h-4 w-4 mr-2"}),"未提出 (",C.length,")"]}),u.jsxs(Hr,{value:"completed",className:"flex-1 data-[state=active]:bg-transparent data-[state=active]:text-primary data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none",children:[u.jsx($0,{className:"h-4 w-4 mr-2"}),"完了 (",T.length,")"]})]})}),u.jsxs(Mn,{className:"h-[calc(100vh-160px)]",children:[u.jsx(Wr,{value:"pending",className:"p-4 space-y-3 m-0",children:C.length===0?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-muted-foreground",children:M?"フィルターに一致する項目がありません":"未提出の項目がありません"})}):C.map(k=>u.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-border cursor-pointer hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-1 h-20 rounded-full",style:{backgroundColor:k.subjectColor}}),u.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>t(`/detail/${k.id}`),children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-sm px-2 py-0.5 rounded-md text-white",style:{backgroundColor:k.subjectColor,fontWeight:500},children:k.subject}),u.jsx("span",{className:"text-sm text-muted-foreground",children:k.title})]}),u.jsx("p",{className:"text-sm mb-2 whitespace-pre-line",children:k.description}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[u.jsx(H0,{className:"h-3 w-3"}),"期限: ",k.deadline]}),k.type==="test"&&u.jsx(co,{variant:"outline",className:"text-xs rounded-md border-[#7B9FE8] text-[#7B9FE8]",children:"テスト"}),k.isUrgent&&u.jsx(co,{variant:"destructive",className:"text-xs rounded-md",children:"締切間近"})]})]}),u.jsx(de,{variant:"ghost",size:"icon",className:"rounded-full shrink-0",onClick:A=>{A.stopPropagation(),S(k.id,k.isCompleted)},children:u.jsx(uk,{className:"h-5 w-5 text-muted-foreground"})})]})},k.id))}),u.jsx(Wr,{value:"completed",className:"p-4 space-y-3 m-0",children:T.length===0?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-muted-foreground",children:M?"フィルターに一致する項目がありません":"完了した項目がありません"})}):T.map(k=>u.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-border opacity-75",onClick:()=>t(`/detail/${k.id}`),children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-1 h-20 rounded-full",style:{backgroundColor:k.subjectColor}}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-sm px-2 py-0.5 rounded-md text-white",style:{backgroundColor:k.subjectColor,fontWeight:500},children:k.subject}),u.jsx("span",{className:"text-sm text-muted-foreground",children:k.title})]}),u.jsx("p",{className:"text-sm mb-2 whitespace-pre-line line-through text-muted-foreground",children:k.description}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(co,{className:"text-xs rounded-md bg-green-500",children:"完了"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:k.deadline})]})]}),u.jsx($0,{className:"h-5 w-5 text-green-500 shrink-0"})]})},k.id))})]})]})}),u.jsx(K8,{open:f,onOpenChange:h,children:u.jsxs(e1,{side:"right",className:"w-[90%] sm:max-w-md p-0",children:[u.jsxs(t1,{className:"p-6 pb-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(n1,{className:"text-2xl",style:{fontWeight:600},children:"フィルター"}),u.jsx(de,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>h(!1),children:u.jsx(Ut,{className:"h-5 w-5"})})]}),u.jsx(r1,{className:"text-sm text-muted-foreground mt-2",children:"表示する項目を絞り込みます"})]}),u.jsxs("div",{className:"px-6 pb-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-3",style:{fontWeight:500},children:"種類"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{onClick:()=>y("all"),className:`w-full p-3 rounded-xl border-2 transition-all text-left ${m==="all"?"border-primary bg-primary/5":"border-border hover:border-primary/50 bg-white"}`,children:"すべて"}),u.jsx("button",{onClick:()=>y("assignment"),className:`w-full p-3 rounded-xl border-2 transition-all text-left ${m==="assignment"?"border-primary bg-primary/5":"border-border hover:border-primary/50 bg-white"}`,children:"提出物のみ"}),u.jsx("button",{onClick:()=>y("test"),className:`w-full p-3 rounded-xl border-2 transition-all text-left ${m==="test"?"border-primary bg-primary/5":"border-border hover:border-primary/50 bg-white"}`,children:"テストのみ"})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-3",style:{fontWeight:500},children:"教科"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{onClick:()=>w(null),className:`w-full p-3 rounded-xl border-2 transition-all text-left ${v===null?"border-primary bg-primary/5":"border-border hover:border-primary/50 bg-white"}`,children:"すべて"}),j.map(k=>u.jsx("button",{onClick:()=>w(k),className:`w-full p-3 rounded-xl border-2 transition-all text-left ${v===k?"border-primary bg-primary/5":"border-border hover:border-primary/50 bg-white"}`,children:k},k))]})]}),u.jsxs("div",{className:"space-y-3 pt-4",children:[M&&u.jsx(de,{variant:"outline",onClick:D,className:"w-full h-12 rounded-xl",children:"フィルターをクリア"}),u.jsx(de,{onClick:()=>h(!1),className:"w-full h-12 rounded-xl bg-primary hover:bg-primary/90",children:"適用"})]})]})]})})]})}var Qd="Checkbox",[J8]=La(Qd),[eU,ug]=J8(Qd);function tU(t){const{__scopeCheckbox:n,checked:r,children:s,defaultChecked:i,disabled:l,form:d,name:f,onCheckedChange:h,required:m,value:y="on",internal_do_not_use_render:v}=t,[w,j]=fo({prop:r,defaultProp:i??!1,onChange:h,caller:Qd}),[N,_]=b.useState(null),[S,E]=b.useState(null),C=b.useRef(!1),T=N?!!d||!!N.closest("form"):!0,D={checked:w,disabled:l,setChecked:j,control:N,setControl:_,name:f,form:d,value:y,hasConsumerStoppedPropagationRef:C,required:m,defaultChecked:Es(i)?!1:i,isFormControl:T,bubbleInput:S,setBubbleInput:E};return u.jsx(eU,{scope:n,...D,children:nU(v)?v(D):s})}var a1="CheckboxTrigger",s1=b.forwardRef(({__scopeCheckbox:t,onKeyDown:n,onClick:r,...s},i)=>{const{control:l,value:d,disabled:f,checked:h,required:m,setControl:y,setChecked:v,hasConsumerStoppedPropagationRef:w,isFormControl:j,bubbleInput:N}=ug(a1,t),_=pt(i,y),S=b.useRef(h);return b.useEffect(()=>{const E=l?.form;if(E){const C=()=>v(S.current);return E.addEventListener("reset",C),()=>E.removeEventListener("reset",C)}},[l,v]),u.jsx(Qe.button,{type:"button",role:"checkbox","aria-checked":Es(h)?"mixed":h,"aria-required":m,"data-state":u1(h),"data-disabled":f?"":void 0,disabled:f,value:d,...s,ref:_,onKeyDown:Fe(n,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Fe(r,E=>{v(C=>Es(C)?!0:!C),N&&j&&(w.current=E.isPropagationStopped(),w.current||E.stopPropagation())})})});s1.displayName=a1;var dg=b.forwardRef((t,n)=>{const{__scopeCheckbox:r,name:s,checked:i,defaultChecked:l,required:d,disabled:f,value:h,onCheckedChange:m,form:y,...v}=t;return u.jsx(tU,{__scopeCheckbox:r,checked:i,defaultChecked:l,disabled:f,required:d,onCheckedChange:m,name:s,form:y,value:h,internal_do_not_use_render:({isFormControl:w})=>u.jsxs(u.Fragment,{children:[u.jsx(s1,{...v,ref:n,__scopeCheckbox:r}),w&&u.jsx(c1,{__scopeCheckbox:r})]})})});dg.displayName=Qd;var o1="CheckboxIndicator",i1=b.forwardRef((t,n)=>{const{__scopeCheckbox:r,forceMount:s,...i}=t,l=ug(o1,r);return u.jsx(pr,{present:s||Es(l.checked)||l.checked===!0,children:u.jsx(Qe.span,{"data-state":u1(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:n,style:{pointerEvents:"none",...t.style}})})});i1.displayName=o1;var l1="CheckboxBubbleInput",c1=b.forwardRef(({__scopeCheckbox:t,...n},r)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:d,required:f,disabled:h,name:m,value:y,form:v,bubbleInput:w,setBubbleInput:j}=ug(l1,t),N=pt(r,j),_=XS(l),S=PS(s);b.useEffect(()=>{const C=w;if(!C)return;const T=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(T,"checked").set,k=!i.current;if(_!==l&&M){const A=new Event("click",{bubbles:k});C.indeterminate=Es(l),M.call(C,Es(l)?!1:l),C.dispatchEvent(A)}},[w,_,l,i]);const E=b.useRef(Es(l)?!1:l);return u.jsx(Qe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??E.current,required:f,disabled:h,name:m,value:y,form:v,...n,tabIndex:-1,ref:N,style:{...n.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});c1.displayName=l1;function nU(t){return typeof t=="function"}function Es(t){return t==="indeterminate"}function u1(t){return Es(t)?"indeterminate":t?"checked":"unchecked"}const Ss=b.forwardRef(({className:t,...n},r)=>u.jsx(dg,{ref:r,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...n,children:u.jsx(i1,{className:je("flex items-center justify-center text-current"),children:u.jsx(Xt,{className:"h-4 w-4"})})}));Ss.displayName=dg.displayName;const kw=[{value:"国語",color:"#FF9F9F"},{value:"数学",color:"#7B9FE8"},{value:"英語",color:"#FFD6A5"},{value:"理科",color:"#A8E8D8"},{value:"社会",color:"#B8A8E8"},{value:"保健体育",color:"#FFA8C8"},{value:"芸術",color:"#E8D8A8"},{value:"家庭",color:"#D8E8A8"},{value:"情報",color:"#A8D8E8"},{value:"専門教科",color:"#E8A8D8"},{value:"その他",color:"#D8D8D8"}];function rU({open:t,onClose:n,onSave:r}){const[s,i]=b.useState([{id:"1",category:"",categoryColor:"",courseName:""}]),l=()=>{const w=(Math.max(...s.map(j=>parseInt(j.id)),0)+1).toString();i([...s,{id:w,category:"",categoryColor:"",courseName:""}])},d=w=>{s.length>1&&i(s.filter(j=>j.id!==w))},f=(w,j)=>{const N=kw.find(_=>_.value===j)?.color||"";i(s.map(_=>_.id===w?{..._,category:j,categoryColor:N}:_))},h=(w,j)=>{i(s.map(N=>N.id===w?{...N,courseName:j}:N))},m=()=>{const w=s.filter(j=>j.category&&j.courseName.trim()!=="");w.length>0&&(r(w.map(({category:j,categoryColor:N,courseName:_})=>({category:j,categoryColor:N,courseName:_.trim()}))),y())},y=()=>{i([{id:"1",category:"",categoryColor:"",courseName:""}]),n()},v=!s.some(w=>w.category&&w.courseName.trim()!=="");return u.jsx(Rr,{open:t,onOpenChange:y,children:u.jsxs(gr,{className:"max-w-3xl max-h-[80vh] p-0",children:[u.jsxs(vr,{className:"px-6 pt-6 pb-4 border-b border-border",children:[u.jsx(yr,{children:"教科・科目を追加"}),u.jsx(aa,{children:"複数の教科・科目を一括で追加できます。教科を選択し、科目名を入力してください。"})]}),u.jsx(Mn,{className:"max-h-[calc(80vh-180px)]",children:u.jsxs("div",{className:"px-6 py-4",children:[u.jsx("div",{className:"bg-white rounded-2xl border border-border overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,width:"30%"},children:"教科"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,width:"60%"},children:"科目"}),u.jsx("th",{className:"px-4 py-3 text-center text-sm",style:{fontWeight:600,width:"10%"},children:"操作"})]})}),u.jsx("tbody",{children:s.map(w=>u.jsxs("tr",{className:"border-b border-border last:border-0",children:[u.jsx("td",{className:"px-4 py-3",children:u.jsxs(Ra,{value:w.category,onValueChange:j=>f(w.id,j),children:[u.jsx(Qr,{className:"w-full h-9 rounded-lg",children:u.jsx(Ma,{placeholder:"選択してください"})}),u.jsx(Zr,{children:kw.map(j=>u.jsx(Jr,{value:j.value,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:j.color}}),j.value]})},j.value))})]})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(Dt,{value:w.courseName,onChange:j=>h(w.id,j.target.value),placeholder:"科目名を入力",className:"h-9 rounded-lg bg-input-background"})}),u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx(de,{variant:"ghost",size:"sm",onClick:()=>d(w.id),disabled:s.length===1,className:"h-8 w-8 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",children:u.jsx(On,{className:"h-4 w-4"})})})]},w.id))})]})}),u.jsx("div",{className:"mt-4",children:u.jsxs(de,{variant:"outline",onClick:l,className:"w-full rounded-xl border-dashed",children:[u.jsx(nr,{className:"h-4 w-4 mr-2"}),"行を追加"]})})]})}),u.jsxs("div",{className:"px-6 py-4 border-t border-border flex justify-end gap-3",children:[u.jsx(de,{variant:"outline",onClick:y,className:"rounded-xl",children:"キャンセル"}),u.jsx(de,{onClick:m,className:"rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",disabled:v,children:"保存"})]})]})})}const Zd={国語:"#FF9F9F",数学:"#7B9FE8",英語:"#FFD6A5",理科:"#A8E8D8",社会:"#B8A8E8",保健体育:"#FFA8C8",芸術:"#FFB8E8",家庭:"#FFE8A8",情報:"#C8D8FF",その他:"#D8D8D8"},aU={行事:"#FFA8C8",連絡事項:"#A8D8E8",持ち物:"#FFE8A8",その他:"#D8D8D8"};async function fg(){try{const{data:{user:t}}=await te.auth.getUser();if(!t?.email)return null;const{data:n,error:r}=await te.from("users").select("id").eq("email",t.email).maybeSingle();return r?(console.error("Error fetching user ID:",r),null):n?.id||null}catch(t){return console.error("Error in getCurrentUserIdFromDatabase:",t),null}}async function sU(){try{const{data:t,error:n}=await te.from("announcements").select(`
        id,
        title,
        description,
        due_date,
        submission_method,
        subjects ( name ),
        subsubjects ( name )
      `).eq("type","assignment").order("due_date",{ascending:!0});if(n)throw n;return(t||[]).map(r=>({id:r.id.toString(),subject:r.subjects?.name||"その他",subjectColor:Zd[r.subjects?.name||"その他"]||"#D8D8D8",course:r.subsubjects?.name||"",content:r.description||r.title||"",submitTo:r.submission_method||"先生",deadline:r.due_date?hg(new Date(r.due_date)):"",isChecked:!1}))}catch(t){return console.error("Error fetching assignments:",t),[]}}async function oU(){try{const{data:t,error:n}=await te.from("announcements").select(`
        id,
        title,
        description,
        due_date,
        subjects ( name ),
        subsubjects ( name )
      `).eq("type","test").order("due_date",{ascending:!0});if(n)throw n;return(t||[]).map(r=>({id:r.id.toString(),subject:r.subjects?.name||"その他",subjectColor:Zd[r.subjects?.name||"その他"]||"#D8D8D8",course:r.subsubjects?.name||"",content:r.description||r.title||"",testDate:r.due_date?hg(new Date(r.due_date)):""}))}catch(t){return console.error("Error fetching test ranges:",t),[]}}async function iU(){try{const{data:t,error:n}=await te.from("announcements").select(`
        id,
        title,
        description,
        due_date
      `).eq("type","general_notice").order("due_date",{ascending:!1});if(n)throw n;return(t||[]).map(r=>({id:r.id.toString(),title:r.title||"",content:r.description||"",category:r.category||"その他",categoryColor:aU[r.category||"その他"]||"#D8D8D8",date:r.due_date?hg(new Date(r.due_date)):""}))}catch(t){return console.error("Error fetching other notices:",t),[]}}async function lU(){try{const{data:t,error:n}=await te.from("roles").select("id").eq("name","teacher");if(n||!t||t.length===0)return console.error("Could not find 'teacher' role in database. Returning empty teacher list.",n),[];const r=t[0].id,{data:s,error:i}=await te.from("user_roles").select("user_id").eq("role_id",r);if(i)throw console.error("Error fetching from user_roles:",i),i;if(!s||s.length===0)return[];const l=s.map(C=>C.user_id),{data:d,error:f}=await te.from("users").select("id, name, email").in("id",l).order("name",{ascending:!0});if(f)throw console.error("Error fetching users:",f),f;if(!d)return[];const{data:h,error:m}=await te.from("subject_teachers").select("teacher_id, subject_id").in("teacher_id",l);if(m)throw m;const{data:y,error:v}=await te.from("subsubject_teachers").select("teacher_id, subsubject_id").in("teacher_id",l);if(v)throw v;const{data:w,error:j}=await te.from("subjects").select("id, name");if(j)throw j;const N=new Map((w||[]).map(C=>[C.id,C.name])),{data:_,error:S}=await te.from("subsubjects").select("id, name");if(S)throw S;const E=new Map((_||[]).map(C=>[C.id,C.name]));return d.map(C=>{const D=(h||[]).filter(A=>A.teacher_id===C.id).map(A=>A.subject_id).map(A=>N.get(A)).filter(Boolean),k=(y||[]).filter(A=>A.teacher_id===C.id).map(A=>A.subsubject_id).map(A=>E.get(A)).filter(Boolean);return{id:C.id.toString(),name:C.name||C.email||"名前なし",email:C.email||"",subjects:D,courses:k}})}catch(t){return console.error("Error in fetchTeachers function:",t),[]}}async function cU(){try{const{data:t,error:n}=await te.from("roles").select("id").eq("name","teacher");let r=[];if(n||!t||t.length===0)console.error("Could not find 'teacher' role for student exclusion, proceeding without exclusion.",n);else{const d=t[0].id,{data:f,error:h}=await te.from("user_roles").select("user_id").eq("role_id",d);h?console.error("Error fetching teacher roles for student exclusion:",h):f&&(r=f.map(m=>m.user_id))}let s=te.from("users").select("id, name, email");r.length>0&&(s=s.not("id","in",`(${r.join(",")})`));const{data:i,error:l}=await s.order("name",{ascending:!0});if(l)throw l;return(i||[]).map(d=>({id:d.id.toString(),name:d.name||d.email||"名前なし",email:d.email||"",class:""}))}catch(t){return console.error("Error fetching students:",t),[]}}async function uU(){try{const{data:t,error:n}=await te.from("subjects").select("id, name").order("id",{ascending:!0});if(n)throw n;const{data:r,error:s}=await te.from("subsubjects").select("id, name, subject_id").order("subject_id",{ascending:!0});if(s)throw s;const i=[];let l=1;return(t||[]).sort((f,h)=>f.id-h.id).forEach(f=>{(r||[]).filter(m=>m.subject_id===f.id).sort((m,y)=>m.id-y.id).forEach(m=>{i.push({id:`${f.id}-${m.id}`,category:f.name||"",categoryColor:Zd[f.name||""]||"#D8D8D8",courseName:m.name||"",subjectId:f.id,subsubjectId:m.id})})}),i}catch(t){return console.error("Error fetching subjects:",t),[]}}async function dU(){try{const{data:t,error:n}=await te.from("subjects").select("id, name").order("id",{ascending:!0});if(n)throw n;return(t||[]).map(r=>({id:r.id.toString(),name:r.name,color:Zd[r.name]||"#D8D8D8"}))}catch(t){return console.error("Error fetching subjects:",t),[]}}async function fU(t){try{const n=await fg();if(!n)throw new Error("User not authenticated");const{data:r}=await te.from("subjects").select("id").eq("name",t.subject).maybeSingle(),{data:s}=await te.from("subsubjects").select("id").eq("name",t.course).maybeSingle(),{data:i,error:l}=await te.from("announcements").insert({subject_id:r?.id||null,subsubject_id:s?.id||null,created_by:n,title:t.content.substring(0,100),description:t.content,type:"assignment",due_date:zi(t.deadline),submission_method:t.submitTo}).select().single();if(l)throw l;return i}catch(n){throw console.error("Error creating assignment:",n),n}}async function hU(t){try{const n=await fg();if(!n)throw new Error("User not authenticated");const{data:r}=await te.from("subjects").select("id").eq("name",t.subject).maybeSingle(),{data:s}=await te.from("subsubjects").select("id").eq("name",t.course).maybeSingle(),{data:i,error:l}=await te.from("announcements").insert({subject_id:r?.id||null,subsubject_id:s?.id||null,created_by:n,title:t.content.substring(0,100),description:t.content,type:"test",due_date:zi(t.testDate),submission_method:""}).select().single();if(l)throw l;return i}catch(n){throw console.error("Error creating test range:",n),n}}async function mU(t){try{const n=await fg();if(!n)throw new Error("User not authenticated");const{data:r,error:s}=await te.from("announcements").insert({created_by:n,title:t.title,description:t.content,type:"general_notice",due_date:zi(t.date),submission_method:""}).select().single();if(s)throw s;return r}catch(n){throw console.error("Error creating other notice:",n),n}}async function pU(t){try{const n=t.map(s=>parseInt(s)),{error:r}=await te.from("announcements").delete().in("id",n);if(r)throw r}catch(n){throw console.error("Error deleting assignments:",n),n}}async function gU(t){try{const n=t.map(s=>parseInt(s)),{error:r}=await te.from("announcements").delete().in("id",n);if(r)throw r}catch(n){throw console.error("Error deleting test ranges:",n),n}}async function vU(t){try{const n=t.map(s=>parseInt(s)),{error:r}=await te.from("announcements").delete().in("id",n);if(r)throw r}catch(n){throw console.error("Error deleting other notices:",n),n}}async function yU(t,n){try{const{error:r}=await te.from("announcements").update({description:n.content,submission_method:n.submitTo,due_date:n.deadline?zi(n.deadline):null}).eq("id",parseInt(t));if(r)throw r}catch(r){throw console.error("Error updating assignment:",r),r}}async function bU(t,n){try{const{error:r}=await te.from("announcements").update({description:n.content,due_date:n.testDate?zi(n.testDate):null}).eq("id",parseInt(t));if(r)throw r}catch(r){throw console.error("Error updating test range:",r),r}}async function wU(t,n){try{const{error:r}=await te.from("announcements").update({title:n.title,description:n.content,due_date:n.date?zi(n.date):null}).eq("id",parseInt(t));if(r)throw r}catch(r){throw console.error("Error updating other notice:",r),r}}function hg(t){const n=t.getMonth()+1,r=t.getDate(),i=["日","月","火","水","木","金","土"][t.getDay()];return`${n}月${r}日(${i})`}function zi(t){try{const n=t.match(/(\d+)月(\d+)日/);if(n){const r=parseInt(n[1]),s=parseInt(n[2]),i=new Date().getFullYear();return new Date(i,r-1,s).toISOString()}return null}catch{return null}}async function xU(t){try{let n=null;const{data:r}=await te.from("subjects").select("id").eq("name",t.category).maybeSingle();if(r)n=r.id;else{const{data:l,error:d}=await te.from("subjects").insert({name:t.category}).select().single();if(d)throw d;n=l.id}const{data:s,error:i}=await te.from("subsubjects").insert({subject_id:n,name:t.courseName}).select().single();if(i)throw i;return s}catch(n){throw console.error("Error creating subsubject:",n),n}}async function SU(t,n){try{let r=null;const{data:s}=await te.from("subjects").select("id").eq("name",n.category).maybeSingle();if(s)r=s.id;else{const{data:l,error:d}=await te.from("subjects").insert({name:n.category}).select().single();if(d)throw d;r=l.id}const{error:i}=await te.from("subsubjects").update({subject_id:r,name:n.courseName}).eq("id",t);if(i)throw i}catch(r){throw console.error("Error updating subsubject:",r),r}}async function jU(t){try{const{error:n}=await te.from("subsubjects").delete().in("id",t);if(n)throw n}catch(n){throw console.error("Error deleting subsubjects:",n),n}}async function _U(t){try{const{data:n,error:r}=await te.from("users").insert({name:t.name,email:t.email}).select().single();if(r)throw r;const{data:s,error:i}=await te.from("roles").select("id").eq("name","teacher").single();if(i)throw i;const{error:l}=await te.from("user_roles").insert({user_id:n.id,role_id:s.id});if(l)throw l;if(t.subjects&&t.subjects.length>0){const{data:d,error:f}=await te.from("subjects").select("id, name").in("name",t.subjects);if(f)throw f;const h=(d||[]).map(m=>({teacher_id:n.id,subject_id:m.id}));if(h.length>0){const{error:m}=await te.from("subject_teachers").insert(h);if(m)throw m}}return n}catch(n){throw console.error("Error creating teacher:",n),n}}async function EU(t){try{const{data:n,error:r}=await te.from("users").insert({name:t.name,email:t.email}).select().single();if(r)throw r;const{data:s,error:i}=await te.from("roles").select("id").eq("name","student").single();if(i)throw i;const{error:l}=await te.from("user_roles").insert({user_id:n.id,role_id:s.id});if(l)throw l;return n}catch(n){throw console.error("Error creating student:",n),n}}async function NU(t,n){try{const{error:r}=await te.from("users").update({name:n.name}).eq("id",parseInt(t));if(r)throw r}catch(r){throw console.error("Error updating student:",r),r}}async function CU(t){try{const n=t.map(s=>parseInt(s)),{error:r}=await te.from("users").delete().in("id",n);if(r)throw r}catch(n){throw console.error("Error deleting students:",n),n}}async function TU(t,n){try{const{error:r}=await te.from("users").update({name:n.name}).eq("id",parseInt(t));if(r)throw r;const{error:s}=await te.from("subject_teachers").delete().eq("teacher_id",parseInt(t));if(s)throw s;const{error:i}=await te.from("subsubject_teachers").delete().eq("teacher_id",parseInt(t));if(i)throw i;if(n.subjects&&n.subjects.length>0){const{data:l,error:d}=await te.from("subjects").select("id, name").in("name",n.subjects);if(d)throw d;const f=(l||[]).map(h=>({teacher_id:parseInt(t),subject_id:h.id}));if(f.length>0){const{error:h}=await te.from("subject_teachers").insert(f);if(h)throw h}}if(n.courses&&n.courses.length>0){const{data:l,error:d}=await te.from("subsubjects").select("id, name").in("name",n.courses);if(d)throw d;const f=(l||[]).map(h=>({teacher_id:parseInt(t),subsubject_id:h.id}));if(f.length>0){const{error:h}=await te.from("subsubject_teachers").insert(f);if(h)throw h}}}catch(r){throw console.error("Error updating teacher:",r),r}}async function Rw(t){try{const n=t.map(d=>parseInt(d)),{error:r}=await te.from("user_roles").delete().in("user_id",n);if(r)throw r;const{error:s}=await te.from("subject_teachers").delete().in("teacher_id",n);if(s)throw s;const{error:i}=await te.from("subsubject_teachers").delete().in("teacher_id",n);if(i)throw i;const{error:l}=await te.from("users").delete().in("id",n);if(l)throw l}catch(n){throw console.error("Error deleting teachers:",n),n}}function OU({open:t,onClose:n,onSave:r}){const[s,i]=b.useState([{id:"1",name:"",subjects:[],email:""}]),[l,d]=b.useState([]);b.useEffect(()=>{t&&f()},[t]);const f=async()=>{const _=await dU();d(_)},h=()=>{const _=(Math.max(...s.map(S=>parseInt(S.id)),0)+1).toString();i([...s,{id:_,name:"",subjects:[],email:""}])},m=_=>{s.length>1&&i(s.filter(S=>S.id!==_))},y=(_,S,E)=>{i(s.map(C=>C.id===_?{...C,[S]:E}:C))},v=(_,S)=>{i(s.map(E=>{if(E.id===_){const T=E.subjects.includes(S)?E.subjects.filter(D=>D!==S):[...E.subjects,S];return{...E,subjects:T}}return E}))},w=()=>{const _=s.filter(S=>S.name.trim()!==""&&S.email.trim()!=="");_.length>0&&(r(_.map(({name:S,subjects:E,email:C})=>({name:S.trim(),subjects:E,email:C.trim()}))),j())},j=()=>{i([{id:"1",name:"",subjects:[],email:""}]),n()},N=!s.some(_=>_.name.trim()!==""&&_.email.trim()!=="");return u.jsx(Rr,{open:t,onOpenChange:j,children:u.jsxs(gr,{className:"max-w-5xl max-h-[80vh] p-0",children:[u.jsxs(vr,{className:"px-6 pt-6 pb-4 border-b border-border",children:[u.jsx(yr,{children:"先生名簿を追加"}),u.jsx(aa,{children:"複数の先生を一括で追加できます。氏名、担当教科、メールアドレスを入力してください。"})]}),u.jsx(Mn,{className:"max-h-[calc(80vh-180px)]",children:u.jsxs("div",{className:"px-6 py-4",children:[u.jsx("div",{className:"bg-white rounded-2xl border border-border overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,width:"25%"},children:"氏名"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,width:"40%"},children:"担当教科"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,width:"25%"},children:"メールアドレス"}),u.jsx("th",{className:"px-4 py-3 text-center text-sm",style:{fontWeight:600,width:"10%"},children:"操作"})]})}),u.jsx("tbody",{children:s.map(_=>u.jsxs("tr",{className:"border-b border-border last:border-0",children:[u.jsx("td",{className:"px-4 py-3",children:u.jsx(Dt,{value:_.name,onChange:S=>y(_.id,"name",S.target.value),placeholder:"氏名を入力",className:"h-9 rounded-lg"})}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs(Gd,{children:[u.jsx(Kd,{asChild:!0,children:u.jsxs(de,{variant:"outline",className:"w-full h-9 justify-between rounded-lg font-normal",children:[u.jsx("span",{className:"truncate",children:_.subjects.length>0?_.subjects.join(", "):"担当教科を選択"}),u.jsx(Cd,{className:"h-4 w-4 opacity-50 ml-2 flex-shrink-0"})]})}),u.jsx(yc,{className:"w-[300px] p-3",align:"start",children:u.jsx("div",{className:"space-y-2",children:l.map(S=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Ss,{id:`${_.id}-${S.id}`,checked:_.subjects.includes(S.name),onCheckedChange:()=>v(_.id,S.name)}),u.jsxs("label",{htmlFor:`${_.id}-${S.id}`,className:"text-sm cursor-pointer flex-1 flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:S.color}}),S.name]})]},S.id))})})]})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(Dt,{value:_.email,onChange:S=>y(_.id,"email",S.target.value),placeholder:"メールアドレスを入力",type:"email",className:"h-9 rounded-lg"})}),u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx(de,{variant:"ghost",size:"sm",onClick:()=>m(_.id),disabled:s.length===1,className:"h-8 w-8 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",children:u.jsx(On,{className:"h-4 w-4"})})})]},_.id))})]})}),u.jsx("div",{className:"mt-4",children:u.jsxs(de,{variant:"outline",onClick:h,className:"w-full rounded-xl border-dashed",children:[u.jsx(nr,{className:"h-4 w-4 mr-2"}),"行を追加"]})})]})}),u.jsxs("div",{className:"px-6 py-4 border-t border-border flex justify-end gap-3",children:[u.jsx(de,{variant:"outline",onClick:j,className:"rounded-xl",children:"キャンセル"}),u.jsx(de,{onClick:w,className:"rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",disabled:N,children:"保存"})]})]})})}function AU({open:t,onClose:n,onSave:r}){const[s,i]=b.useState([{id:"1",name:"",email:"",class:""}]),l=()=>{const v=(Math.max(...s.map(w=>parseInt(w.id)),0)+1).toString();i([...s,{id:v,name:"",email:"",class:""}])},d=v=>{s.length>1&&i(s.filter(w=>w.id!==v))},f=(v,w,j)=>{i(s.map(N=>N.id===v?{...N,[w]:j}:N))},h=()=>{const v=s.filter(w=>w.name.trim()!==""&&w.email.trim()!=="");v.length>0&&(r(v.map(({name:w,email:j,class:N})=>({name:w.trim(),email:j.trim(),class:N.trim()}))),m())},m=()=>{i([{id:"1",name:"",email:"",class:""}]),n()},y=!s.some(v=>v.name.trim()!==""&&v.email.trim()!=="");return u.jsx(Rr,{open:t,onOpenChange:m,children:u.jsxs(gr,{className:"max-w-4xl max-h-[80vh] p-0",children:[u.jsxs(vr,{className:"px-6 pt-6 pb-4 border-b border-border",children:[u.jsx(yr,{children:"生徒名簿を追加"}),u.jsx(aa,{children:"複数の生徒を一括で追加できます。氏名、メールアドレス、クラスを入力してください。"})]}),u.jsx(Mn,{className:"max-h-[calc(80vh-180px)]",children:u.jsxs("div",{className:"px-6 py-4",children:[u.jsx("div",{className:"bg-white rounded-2xl border border-border overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,width:"35%"},children:"氏名"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,width:"35%"},children:"メールアドレス"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,width:"20%"},children:"クラス"}),u.jsx("th",{className:"px-4 py-3 text-center text-sm",style:{fontWeight:600,width:"10%"},children:"操作"})]})}),u.jsx("tbody",{children:s.map(v=>u.jsxs("tr",{className:"border-b border-border last:border-0",children:[u.jsx("td",{className:"px-4 py-3",children:u.jsx(Dt,{value:v.name,onChange:w=>f(v.id,"name",w.target.value),placeholder:"氏名を入力",className:"h-9 rounded-lg"})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(Dt,{value:v.email,onChange:w=>f(v.id,"email",w.target.value),placeholder:"メールアドレスを入力",type:"email",className:"h-9 rounded-lg"})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(Dt,{value:v.class,onChange:w=>f(v.id,"class",w.target.value),placeholder:"A組",className:"h-9 rounded-lg"})}),u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx(de,{variant:"ghost",size:"sm",onClick:()=>d(v.id),disabled:s.length===1,className:"h-8 w-8 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",children:u.jsx(On,{className:"h-4 w-4"})})})]},v.id))})]})}),u.jsx("div",{className:"mt-4",children:u.jsxs(de,{variant:"outline",onClick:l,className:"w-full rounded-xl border-dashed",children:[u.jsx(nr,{className:"h-4 w-4 mr-2"}),"行を追加"]})})]})}),u.jsxs("div",{className:"px-6 py-4 border-t border-border flex justify-end gap-3",children:[u.jsx(de,{variant:"outline",onClick:m,className:"rounded-xl",children:"キャンセル"}),u.jsx(de,{onClick:h,className:"rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",disabled:y,children:"保存"})]})]})})}const Mw=[{value:"行事",color:"#FFA8C8"},{value:"連絡事項",color:"#A8D8E8"},{value:"持ち物",color:"#FFE8A8"},{value:"お知らせ",color:"#C8D8FF"},{value:"その他",color:"#D8D8D8"}];function DU({open:t,onClose:n,onSave:r,initialData:s}){const[i,l]=b.useState(""),[d,f]=b.useState(""),[h,m]=b.useState(""),[y,v]=b.useState(""),[w,j]=b.useState(void 0),N=E=>{const C=Mw.find(T=>T.value===E);l(E),f(C?.color||"")},_=()=>{i&&h&&y&&w&&(r({title:h,content:y,category:i,categoryColor:d,date:_i(w,"M月d日(E)",{locale:_s})}),S())},S=()=>{s||(l(""),f(""),m(""),v(""),j(void 0)),n()};return b.useEffect(()=>{if(t&&s){l(s.category),f(s.categoryColor),m(s.title),v(s.content);try{const E=s.date.match(/(\d+)月(\d+)日/);if(E){const C=parseInt(E[1]),T=parseInt(E[2]),D=new Date().getFullYear();j(new Date(D,C-1,T))}}catch(E){console.error("Error parsing date:",E)}}else t&&!s&&(l(""),f(""),m(""),v(""),j(void 0))},[t,s]),u.jsx(Rr,{open:t,onOpenChange:S,children:u.jsxs(gr,{className:"max-w-lg p-0","aria-describedby":"other-notice-description",children:[u.jsxs(vr,{className:"px-6 pt-6 pb-4 border-b border-border",children:[u.jsx(yr,{children:s?"その他のお知らせを編集":"その他のお知らせを追加"}),u.jsx(aa,{id:"other-notice-description",children:"カテゴリー、タイトル、内容、日付を入力してください。"})]}),u.jsxs("div",{className:"px-6 py-4 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pt,{children:"カテゴリー"}),u.jsxs(Ra,{value:i,onValueChange:N,children:[u.jsx(Qr,{className:"w-full rounded-lg",children:u.jsx(Ma,{placeholder:"選択してください"})}),u.jsx(Zr,{children:Mw.map(E=>u.jsx(Jr,{value:E.value,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:E.color}}),E.value]})},E.value))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pt,{children:"タイトル"}),u.jsx(Dt,{value:h,onChange:E=>m(E.target.value),placeholder:"例: 体育祭について",className:"rounded-lg bg-input-background"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pt,{children:"内容"}),u.jsx(gc,{value:y,onChange:E=>v(E.target.value),placeholder:"例: 6月20日(土)に体育祭を実施します。雨天の場合は翌日に順延となります。",className:"rounded-lg bg-input-background min-h-[100px]"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pt,{children:"日付"}),u.jsxs(Gd,{children:[u.jsx(Kd,{asChild:!0,children:u.jsxs("button",{className:"flex w-full items-center justify-start rounded-lg border border-border bg-input-background px-3 py-2 text-left transition-colors hover:bg-accent hover:text-accent-foreground",children:[u.jsx(Os,{className:"mr-2 h-4 w-4"}),w?_i(w,"M月d日(E)",{locale:_s}):"日付を選択"]})}),u.jsx(yc,{className:"w-auto p-0",align:"start",children:u.jsx(mc,{mode:"single",selected:w,onSelect:j,initialFocus:!0,locale:_s})})]})]})]}),u.jsxs("div",{className:"px-6 py-4 border-t border-border flex justify-end gap-3",children:[u.jsx(de,{variant:"outline",onClick:S,className:"rounded-xl",children:"キャンセル"}),u.jsx(de,{onClick:_,className:"rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",disabled:!i||!h||!y||!w,children:"保存"})]})]})})}function kU({onBack:t}){const[n,r]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState([]),[f,h]=b.useState([]),[m,y]=b.useState([]),[v,w]=b.useState([]),[j,N]=b.useState(!1),[_,S]=b.useState(!1),[E,C]=b.useState(!1),[T,D]=b.useState(!1),[M,k]=b.useState(!1),[A,U]=b.useState([]),[F,V]=b.useState(!1),[Q,re]=b.useState([]),[J,le]=b.useState(!1),[fe,R]=b.useState(new Set),[L,$]=b.useState(!1),[oe,me]=b.useState(new Set),[z,X]=b.useState(!1),[q,ne]=b.useState([]),[he,ye]=b.useState(!1),[se,ve]=b.useState(new Set),[Ee,Pe]=b.useState(!1),[Me,Be]=b.useState(new Set),[Tt,W]=b.useState(!1),[Ae,Re]=b.useState(!1),[Ve,Ye]=b.useState([]),[Xe,tt]=b.useState(!1),[rt,$e]=b.useState(new Set),[xe,We]=b.useState(!1),[Zt,Ht]=b.useState([]),[yn,It]=b.useState(!1),[un,Vt]=b.useState(!1),[dn,Ot]=b.useState(new Set),[kt,gt]=b.useState(!1),[Wt,yt]=b.useState([]),[Dn,He]=b.useState([]),[ge,be]=b.useState([]);b.useEffect(()=>{Ne(),ke(),Se(),_e(),qe(),ct(),ut(),Ft()},[]);const Ne=async()=>{const B=await uU();h(B)},ke=async()=>{const B=await lU();y(B)},Se=async()=>{const B=await cU();w(B)},_e=async()=>{const B=await sU();r(B)},qe=async()=>{const B=await oU();i(B)},ct=async()=>{const B=await iU();d(B)},ut=async()=>{const{data:B,error:ie}=await te.from("subjects").select("id, name");ie&&console.error("Error loading all subjects:",ie),He(B||[])},Ft=async()=>{const{data:B,error:ie}=await te.from("subsubjects").select("id, name, subject_id");ie&&console.error("Error loading all subsubjects:",ie),be(B||[])},dt=()=>{console.log("👉 ADD TEACHER BUTTON CLICKED. Attempting to open modal."),S(!0)},Nt=()=>S(!1),Un=async B=>{try{for(const ie of B)await _U(ie);await ke()}catch(ie){console.error("Error saving teachers:",ie),alert("先生の保存に失敗しました")}},fn=()=>{re([...m]),V(!0)},Nn=()=>{V(!1),re([])},$a=async()=>{try{for(const B of Q)await TU(B.id,{name:B.name,subjects:B.subjects,courses:B.courses});V(!1),re([]),await ke()}catch(B){console.error("Error updating teachers:",B),alert("先生の更新に失敗しました")}},Yn=(B,ie)=>{re(we=>we.map(et=>et.id===B?{...et,name:ie}:et))},Ui=(B,ie)=>{re(we=>we.map(et=>{if(et.id===B){const ft=et.subjects.includes(ie)?et.subjects.filter(or=>or!==ie):[...et.subjects,ie];return{...et,subjects:ft}}return et}))},wc=(B,ie)=>{re(we=>we.map(et=>{if(et.id===B){const ft=et.courses.includes(ie)?et.courses.filter(or=>or!==ie):[...et.courses,ie];return{...et,courses:ft}}return et}))},Mr=()=>{me(new Set),$(!0)},hn=()=>{$(!1),me(new Set)},Cn=B=>{me(ie=>{const we=new Set(ie);return we.has(B)?we.delete(B):we.add(B),we})},Ha=()=>{oe.size===m.length?me(new Set):me(new Set(m.map(B=>B.id)))},Pi=async()=>{try{await Rw(Array.from(oe)),$(!1),me(new Set),await ke()}catch(B){console.error("Error deleting teachers:",B),alert("先生の削除に失敗しました")}},Jd=()=>{C(!0)},ef=()=>C(!1),xc=async B=>{try{for(const ie of B)await EU(ie);await Se()}catch(ie){console.error("Error saving students:",ie),alert("生徒の保存に失敗しました")}},Rs=()=>{ne([...v]),X(!0)},Ii=()=>{X(!1),ne([])},Wa=async()=>{try{for(const B of q)await NU(B.id,{name:B.name,class:B.class});X(!1),ne([]),await Se()}catch(B){console.error("Error updating students:",B),alert("生徒の更新に失敗しました")}},la=(B,ie,we)=>{ne(et=>et.map(ft=>ft.id===B?{...ft,[ie]:we}:ft))},Ms=()=>{ve(new Set),ye(!0)},Fa=()=>{ye(!1),ve(new Set)},Jt=B=>{ve(ie=>{const we=new Set(ie);return we.has(B)?we.delete(B):we.add(B),we})},Sc=()=>{se.size===v.length?ve(new Set):ve(new Set(v.map(B=>B.id)))},jc=async()=>{try{await CU(Array.from(se)),ye(!1),ve(new Set),await Se()}catch(B){console.error("Error deleting students:",B),alert("生徒の削除に失敗しました")}},ca=()=>{Be(new Set),Pe(!0)},qa=()=>{Pe(!1),Be(new Set)},tf=B=>{Be(ie=>{const we=new Set(ie);return we.has(B)?we.delete(B):we.add(B),we})},_c=()=>{Me.size===n.length?Be(new Set):Be(new Set(n.map(B=>B.id)))},Ec=async()=>{try{await pU(Array.from(Me)),Pe(!1),Be(new Set),await _e()}catch(B){console.error("Error deleting assignments:",B),alert("提出物の削除に失敗しました")}},nf=async B=>{try{await fU({subject:B.subject,course:B.subsubject||"",content:B.description,submitTo:B.submission_method,deadline:B.dueDate}),await _e()}catch(ie){console.error("Error creating assignment:",ie),alert("提出物の作成に失敗しました")}},bo=()=>{Ye([...n]),Re(!0)},wo=()=>{Re(!1),Ye([])},wr=async()=>{try{for(const B of Ve)await yU(B.id,{content:B.content,submitTo:B.submitTo,deadline:B.deadline});Re(!1),Ye([]),await _e()}catch(B){console.error("Error updating assignments:",B),alert("提出物の更新に失敗しました")}},kn=(B,ie,we)=>{Ye(et=>et.map(ft=>ft.id===B?{...ft,[ie]:we}:ft))},Nc=()=>{$e(new Set),tt(!0)},rf=()=>{tt(!1),$e(new Set)},Li=B=>{$e(ie=>{const we=new Set(ie);return we.has(B)?we.delete(B):we.add(B),we})},Cc=()=>{rt.size===s.length?$e(new Set):$e(new Set(s.map(B=>B.id)))},xo=async()=>{try{await gU(Array.from(rt)),tt(!1),$e(new Set),await qe()}catch(B){console.error("Error deleting test ranges:",B),alert("テスト範囲の削除に失敗しました")}},af=()=>{Ht([...s]),We(!0)},Pn=()=>{We(!1),Ht([])},Bi=async()=>{try{for(const B of Zt)await bU(B.id,{content:B.content,testDate:B.testDate});We(!1),Ht([]),await qe()}catch(B){console.error("Error updating test ranges:",B),alert("テスト範囲の更新に失敗しました")}},$i=(B,ie,we)=>{Ht(et=>et.map(ft=>ft.id===B?{...ft,[ie]:we}:ft))},Hi=async B=>{try{await hU({subject:B.subject,course:B.course,content:B.content,testDate:B.testDate}),await qe()}catch(ie){console.error("Error creating test range:",ie),alert("テスト範囲の作成に失敗しました")}},Ya=async B=>{try{await mU({title:B.title,content:B.content,category:B.category,date:B.date}),await ct()}catch(ie){console.error("Error creating other notice:",ie),alert("お知らせの作成に失敗しました")}},Tc=()=>{yt([...l]),gt(!0)},Oc=()=>{gt(!1),yt([])},Va=async()=>{try{for(const B of Wt)await wU(B.id,{title:B.title,content:B.content,date:B.date});gt(!1),yt([]),await ct()}catch(B){console.error("Error updating other notices:",B),alert("お知らせの更新に失敗しました")}},Wi=(B,ie,we)=>{yt(et=>et.map(ft=>ft.id===B?{...ft,[ie]:we}:ft))},Ac=()=>{Ot(new Set),Vt(!0)},Dc=()=>{Vt(!1),Ot(new Set)},Fi=B=>{Ot(ie=>{const we=new Set(ie);return we.has(B)?we.delete(B):we.add(B),we})},sf=()=>{dn.size===l.length?Ot(new Set):Ot(new Set(l.map(B=>B.id)))},of=async()=>{try{await vU(Array.from(dn)),Vt(!1),Ot(new Set),await ct()}catch(B){console.error("Error deleting other notices:",B),alert("お知らせの削除に失敗しました")}},So=async B=>{try{for(const ie of B)await xU({category:ie.category,courseName:ie.courseName});await Ne()}catch(ie){console.error("Error saving subjects:",ie),alert("教科・科目の保存に失敗しました")}},xr=()=>{U([...f]),k(!0)},qi=()=>{k(!1),U([])},Yi=async()=>{try{console.log("Saving subjects...");let B=0;for(const ie of A){const we=f.find(et=>et.id===ie.id);console.log("Comparing:",{original:we,edited:ie}),we&&(ie.category!==we.category||ie.courseName!==we.courseName)&&(B++,console.log("Change detected! Updating subsubjectId:",ie.subsubjectId),await SU(ie.subsubjectId,{category:ie.category,courseName:ie.courseName}))}console.log(`Found ${B} changes to save.`),k(!1),U([]),console.log("Reloading subjects..."),await Ne(),console.log("Subjects reloaded.")}catch(B){console.error("Error updating subjects:",B),alert("教科・科目の更新に失敗しました")}},ua=[{value:"国語",color:"#FF9F9F"},{value:"数学",color:"#7B9FE8"},{value:"英語",color:"#FFD6A5"},{value:"外国語",color:"#FFD6A5"},{value:"理科",color:"#A8E8D8"},{value:"社会",color:"#B8A8E8"},{value:"地理歴史",color:"#B8A8E8"},{value:"公民",color:"#B8A8E8"},{value:"保健体育",color:"#FFA8C8"},{value:"芸術",color:"#FFB8E8"},{value:"家庭",color:"#FFE8A8"},{value:"情報",color:"#C8D8FF"},{value:"専門教科",color:"#E8A8D8"},{value:"総合",color:"#D8D8D8"},{value:"その他",color:"#D8D8D8"}],Ga=(B,ie)=>{const we=ua.find(et=>et.value===ie)?.color||"";U(et=>et.map(ft=>ft.id===B?{...ft,category:ie,categoryColor:we}:ft))},kc=(B,ie)=>{U(we=>we.map(et=>et.id===B?{...et,courseName:ie}:et))},Vi=()=>{R(new Set),le(!0)},Rc=()=>{le(!1),R(new Set)},zs=B=>{R(ie=>{const we=new Set(ie);return we.has(B)?we.delete(B):we.add(B),we})},Sr=()=>{fe.size===f.length?R(new Set):R(new Set(f.map(B=>B.id)))},Gi=async()=>{try{const B=Array.from(fe).map(ie=>f.find(we=>we.id===ie)?.subsubjectId).filter(ie=>ie!==void 0);B.length>0&&await jU(B),le(!1),R(new Set),await Ne()}catch(B){console.error("Error deleting subjects:",B),alert("教科・科目の削除に失敗しました")}},Us=()=>{if(m.length===0)return u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"先生が登録されていません。"});const B=async ie=>{try{await Rw([ie]),await ke()}catch(we){console.error("Error removing teacher:",we),alert("先生の削除に失敗しました")}};return u.jsx("div",{className:"bg-white rounded-2xl border border-border overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[L&&u.jsx("th",{className:"px-4 py-3 text-center text-sm",style:{fontWeight:600,width:"60px"},children:"選択"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,minWidth:"120px"},children:"名前"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,minWidth:"180px"},children:"メールアドレス"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,minWidth:"120px"},children:"教科"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,minWidth:"150px"},children:"科目"}),F&&u.jsx("th",{className:"px-4 py-3 text-center text-sm",style:{fontWeight:600,width:"80px"},children:"操作"})]})}),u.jsx("tbody",{children:m.map(ie=>u.jsxs("tr",{className:"border-b border-border last:border-b-0 hover:bg-muted/50",children:[L&&u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx(Ss,{checked:oe.has(ie.id),onCheckedChange:()=>Cn(ie.id)})}),u.jsx("td",{className:"px-4 py-3 text-sm",children:F?u.jsx(Dt,{value:Q.find(we=>we.id===ie.id)?.name||ie.name,onChange:we=>Yn(ie.id,we.target.value),className:"h-8"}):ie.name}),u.jsx("td",{className:"px-4 py-3 text-sm",children:ie.email}),u.jsx("td",{className:"px-4 py-3 text-sm",children:F?u.jsx("div",{className:"flex flex-wrap gap-1",children:Dn.map(we=>{const ft=Q.find(or=>or.id===ie.id)?.subjects.includes(we.name)||!1;return u.jsxs("label",{className:"flex items-center gap-1 text-xs cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:ft,onChange:()=>Ui(ie.id,we.name),className:"cursor-pointer"}),we.name]},we.id)})}):ie.subjects.join(", ")||"未設定"}),u.jsx("td",{className:"px-4 py-3 text-sm",children:F?u.jsx("div",{className:"flex flex-wrap gap-1",children:ge.map(we=>{const ft=Q.find(or=>or.id===ie.id)?.courses.includes(we.name)||!1;return u.jsxs("label",{className:"flex items-center gap-1 text-xs cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:ft,onChange:()=>wc(ie.id,we.name),className:"cursor-pointer"}),we.name]},we.id)})}):ie.courses.join(", ")||"未設定"}),F&&u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx(de,{variant:"destructive",size:"sm",onClick:()=>B(ie.id),className:"h-8 w-8 p-0",children:u.jsx(On,{className:"h-4 w-4"})})})]},ie.id))})]})})})};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[u.jsx("button",{onClick:t,className:"p-2 -ml-2 hover:bg-muted rounded-lg transition-colors",children:u.jsx(BD,{className:"w-6 h-6 text-primary"})}),u.jsx("h1",{className:"text-2xl text-primary",style:{fontWeight:600},children:"先生ページ"}),u.jsx("div",{className:"w-10"})]})}),u.jsxs(od,{defaultValue:"announcements",className:"w-full",children:[u.jsx("div",{className:"sticky top-[57px] z-10 bg-white border-b border-border",children:u.jsxs(id,{className:"w-full h-12 bg-transparent rounded-none p-0",children:[u.jsx(Hr,{value:"info",className:"flex-1 h-12 rounded-none data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:bg-transparent",children:"情報管理"}),u.jsx(Hr,{value:"announcements",className:"flex-1 h-12 rounded-none data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:bg-transparent",children:"お知らせ管理"})]})}),u.jsx(Wr,{value:"info",className:"mt-0",children:u.jsxs(od,{defaultValue:"subjects",className:"w-full",children:[u.jsx("div",{className:"sticky top-[121px] z-10 bg-muted/50 px-4 py-3",children:u.jsxs(id,{className:"w-full max-w-2xl mx-auto h-10 bg-white rounded-xl p-1 shadow-sm border border-border grid grid-cols-3",children:[u.jsx(Hr,{value:"subjects",className:"h-8 rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm transition-all",children:"教科・科目"}),u.jsx(Hr,{value:"teachers",className:"h-8 rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm transition-all",children:"先生名簿"}),u.jsx(Hr,{value:"students",className:"h-8 rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm transition-all",children:"生徒名簿"})]})}),u.jsx(Wr,{value:"subjects",className:"mt-0",children:u.jsx(Mn,{className:"h-[calc(100vh-177px)]",children:u.jsx("div",{className:"p-4 space-y-6",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg",style:{fontWeight:600},children:"教科・科目一覧"}),u.jsxs("div",{className:"flex flex-col items-end gap-2",children:[u.jsx("div",{className:"flex gap-2",children:M?u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:qi,children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"キャンセル"]}),u.jsxs(de,{size:"sm",className:"rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",onClick:Yi,children:[u.jsx(Xt,{className:"h-4 w-4 mr-1"}),"保存"]})]}):J?u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Rc,children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"キャンセル"]}),u.jsxs(de,{size:"sm",className:"rounded-xl bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:Gi,disabled:fe.size===0,children:[u.jsx(On,{className:"h-4 w-4 mr-1"}),"削除 (",fe.size,")"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>N(!0),children:[u.jsx(nr,{className:"h-4 w-4 mr-1"}),"追加"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:xr,children:[u.jsx(Fr,{className:"h-4 w-4 mr-1"}),"編集"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl text-destructive hover:text-destructive",onClick:Vi,children:[u.jsx(On,{className:"h-4 w-4 mr-1"}),"消去"]})]})}),J&&u.jsx(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Sr,children:fe.size===f.length?u.jsxs(u.Fragment,{children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"全選択解除"]}):u.jsxs(u.Fragment,{children:[u.jsx(Xt,{className:"h-4 w-4 mr-1"}),"全選択"]})})]})]}),u.jsx("div",{className:"bg-white rounded-2xl border border-border overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[J&&u.jsx("th",{className:"px-4 py-3 text-center text-sm",style:{fontWeight:600,width:"60px"},children:"選択"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,minWidth:"100px"},children:"教科"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,minWidth:"150px"},children:"科目名"})]})}),u.jsx("tbody",{children:(M?A:f).map(B=>u.jsxs("tr",{className:"border-b border-border last:border-b-0 hover:bg-muted/50",children:[J&&u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx(Ss,{checked:fe.has(B.id),onCheckedChange:()=>zs(B.id)})}),u.jsx("td",{className:"px-4 py-3 text-sm",children:M?u.jsxs(Ra,{value:B.category,onValueChange:ie=>Ga(B.id,ie),children:[u.jsx(Qr,{className:"w-[120px] h-8",children:u.jsx(Ma,{placeholder:"教科を選択"})}),u.jsx(Zr,{children:ua.map(ie=>u.jsx(Jr,{value:ie.value,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:ie.color}}),ie.value]})},ie.value))})]}):u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:B.categoryColor}}),B.category]})}),u.jsx("td",{className:"px-4 py-3 text-sm",children:M?u.jsx(Dt,{value:B.courseName,onChange:ie=>kc(B.id,ie.target.value),className:"h-8"}):B.courseName})]},B.id))})]})})})]})})})}),u.jsx(Wr,{value:"teachers",className:"mt-0",children:u.jsx(Mn,{className:"h-[calc(100vh-177px)]",children:u.jsx("div",{className:"p-4 space-y-6",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg",style:{fontWeight:600},children:"先生名簿"}),u.jsxs("div",{className:"flex flex-col items-end gap-2",children:[u.jsx("div",{className:"flex gap-2",children:F?u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Nn,children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"キャンセル"]}),u.jsxs(de,{size:"sm",className:"rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",onClick:$a,children:[u.jsx(Xt,{className:"h-4 w-4 mr-1"}),"保存"]})]}):L?u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:hn,children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"キャンセル"]}),u.jsxs(de,{size:"sm",className:"rounded-xl bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:Pi,disabled:oe.size===0,children:[u.jsx(On,{className:"h-4 w-4 mr-1"}),"削除 (",oe.size,")"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:dt,children:[u.jsx(nr,{className:"h-4 w-4 mr-1"}),"追加"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:fn,children:[u.jsx(Fr,{className:"h-4 w-4 mr-1"}),"編集"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl text-destructive hover:text-destructive",onClick:Mr,children:[u.jsx(On,{className:"h-4 w-4 mr-1"}),"消去"]})]})}),L&&u.jsx(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Ha,children:oe.size===m.length?u.jsxs(u.Fragment,{children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"全選択解除"]}):u.jsxs(u.Fragment,{children:[u.jsx(Xt,{className:"h-4 w-4 mr-1"}),"全選択"]})})]})]}),u.jsx(Us,{})]})})})}),u.jsx(Wr,{value:"students",className:"mt-0",children:u.jsx(Mn,{className:"h-[calc(100vh-177px)]",children:u.jsx("div",{className:"p-4 space-y-6",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg",style:{fontWeight:600},children:"生徒名簿"}),u.jsxs("div",{className:"flex flex-col items-end gap-2",children:[u.jsx("div",{className:"flex gap-2",children:z?u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Ii,children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"キャンセル"]}),u.jsxs(de,{size:"sm",className:"rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",onClick:Wa,children:[u.jsx(Xt,{className:"h-4 w-4 mr-1"}),"保存"]})]}):he?u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Fa,children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"キャンセル"]}),u.jsxs(de,{size:"sm",className:"rounded-xl bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:jc,disabled:se.size===0,children:[u.jsx(On,{className:"h-4 w-4 mr-1"}),"削除 (",se.size,")"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Jd,children:[u.jsx(nr,{className:"h-4 w-4 mr-1"}),"追加"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Rs,children:[u.jsx(Fr,{className:"h-4 w-4 mr-1"}),"編集"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl text-destructive hover:text-destructive",onClick:Ms,children:[u.jsx(On,{className:"h-4 w-4 mr-1"}),"消去"]})]})}),he&&u.jsx(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Sc,children:se.size===v.length?u.jsxs(u.Fragment,{children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"全選択解除"]}):u.jsxs(u.Fragment,{children:[u.jsx(Xt,{className:"h-4 w-4 mr-1"}),"全選択"]})})]})]}),u.jsx("div",{className:"bg-white rounded-2xl border border-border overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[he&&u.jsx("th",{className:"px-4 py-3 text-center text-sm",style:{fontWeight:600,width:"60px"},children:"選択"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,width:"30%"},children:"氏名"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,width:"30%"},children:"メールアドレス"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm",style:{fontWeight:600,width:"20%"},children:"クラス"})]})}),u.jsx("tbody",{children:(z?q:v).map(B=>u.jsxs("tr",{className:"border-b border-border last:border-b-0 hover:bg-muted/50",children:[he&&u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx(Ss,{checked:se.has(B.id),onCheckedChange:()=>Jt(B.id)})}),u.jsx("td",{className:"px-4 py-3 text-sm",children:z?u.jsx(Dt,{value:B.name,onChange:ie=>la(B.id,"name",ie.target.value),className:"h-8"}):B.name}),u.jsx("td",{className:"px-4 py-3 text-sm",children:B.email}),u.jsx("td",{className:"px-4 py-3 text-sm",children:z?u.jsx(Dt,{value:B.class,onChange:ie=>la(B.id,"class",ie.target.value),className:"h-8"}):B.class})]},B.id))})]})})})]})})})})]})}),u.jsx(Wr,{value:"announcements",className:"mt-0",children:u.jsxs(od,{defaultValue:"assignments",className:"w-full",children:[u.jsx("div",{className:"sticky top-[121px] z-10 bg-muted/50 px-4 py-3",children:u.jsxs(id,{className:"w-full max-w-2xl mx-auto h-10 bg-white rounded-xl p-1 shadow-sm border border-border grid grid-cols-3",children:[u.jsx(Hr,{value:"assignments",className:"h-8 rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm transition-all",children:"提出物"}),u.jsx(Hr,{value:"tests",className:"h-8 rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm transition-all",children:"テスト範囲"}),u.jsx(Hr,{value:"other",className:"h-8 rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm transition-all",children:"その他"})]})}),u.jsx(Wr,{value:"assignments",className:"mt-0",children:u.jsx(Mn,{className:"h-[calc(100vh-177px)]",children:u.jsx("div",{className:"p-4 space-y-6",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg",style:{fontWeight:600},children:"提出物一覧"}),u.jsxs("div",{className:"flex flex-col items-end gap-2",children:[u.jsx("div",{className:"flex gap-2",children:Ae?u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:wo,children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"キャンセル"]}),u.jsxs(de,{size:"sm",className:"rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",onClick:wr,children:[u.jsx(Xt,{className:"h-4 w-4 mr-1"}),"保存"]})]}):Ee?u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:qa,children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"キャンセル"]}),u.jsxs(de,{size:"sm",className:"rounded-xl bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:Ec,disabled:Me.size===0,children:[u.jsx(On,{className:"h-4 w-4 mr-1"}),"削除 (",Me.size,")"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>W(!0),children:[u.jsx(nr,{className:"h-4 w-4 mr-1"}),"追加"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:bo,children:[u.jsx(Fr,{className:"h-4 w-4 mr-1"}),"編集"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl text-destructive hover:text-destructive",onClick:ca,children:[u.jsx(On,{className:"h-4 w-4 mr-1"}),"消去"]})]})}),Ee&&u.jsx(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:_c,children:Me.size===n.length?u.jsxs(u.Fragment,{children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"全選択解除"]}):u.jsxs(u.Fragment,{children:[u.jsx(Xt,{className:"h-4 w-4 mr-1"}),"全選択"]})})]})]}),u.jsx("div",{className:"space-y-2",children:(Ae?Ve:n).map(B=>u.jsx("div",{className:"p-4 bg-white rounded-xl border border-border",children:u.jsxs("div",{className:"flex items-start gap-3",children:[Ee&&u.jsx(Ss,{checked:Me.has(B.id),onCheckedChange:()=>tf(B.id),className:"mt-1"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:B.subjectColor}}),Ae?u.jsx(Dt,{value:B.subject,onChange:ie=>kn(B.id,"subject",ie.target.value),className:"h-8 flex-1"}):u.jsx("span",{className:"font-semibold",children:B.subject}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:["・",B.course]})]}),Ae?u.jsx(Dt,{value:B.content,onChange:ie=>kn(B.id,"content",ie.target.value),className:"h-8"}):u.jsx("p",{className:"text-sm",children:B.content}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[u.jsxs("span",{children:["提出先: ",B.submitTo]}),u.jsxs("span",{children:["期限: ",B.deadline]})]})]})]})},B.id))})]})})})}),u.jsx(Wr,{value:"tests",className:"mt-0",children:u.jsx(Mn,{className:"h-[calc(100vh-177px)]",children:u.jsx("div",{className:"p-4 space-y-6",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg",style:{fontWeight:600},children:"テスト範囲一覧"}),u.jsxs("div",{className:"flex flex-col items-end gap-2",children:[u.jsx("div",{className:"flex gap-2",children:xe?u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Pn,children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"キャンセル"]}),u.jsxs(de,{size:"sm",className:"rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",onClick:Bi,children:[u.jsx(Xt,{className:"h-4 w-4 mr-1"}),"保存"]})]}):Xe?u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:rf,children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"キャンセル"]}),u.jsxs(de,{size:"sm",className:"rounded-xl bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:xo,disabled:rt.size===0,children:[u.jsx(On,{className:"h-4 w-4 mr-1"}),"削除 (",rt.size,")"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>D(!0),children:[u.jsx(nr,{className:"h-4 w-4 mr-1"}),"追加"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:af,children:[u.jsx(Fr,{className:"h-4 w-4 mr-1"}),"編集"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl text-destructive hover:text-destructive",onClick:Nc,children:[u.jsx(On,{className:"h-4 w-4 mr-1"}),"消去"]})]})}),Xe&&u.jsx(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Cc,children:rt.size===s.length?u.jsxs(u.Fragment,{children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"全選択解除"]}):u.jsxs(u.Fragment,{children:[u.jsx(Xt,{className:"h-4 w-4 mr-1"}),"全選択"]})})]})]}),u.jsx("div",{className:"space-y-2",children:(xe?Zt:s).map(B=>u.jsx("div",{className:"p-4 bg-white rounded-xl border border-border",children:u.jsxs("div",{className:"flex items-start gap-3",children:[Xe&&u.jsx(Ss,{checked:rt.has(B.id),onCheckedChange:()=>Li(B.id),className:"mt-1"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:B.subjectColor}}),xe?u.jsx(Dt,{value:B.subject,onChange:ie=>$i(B.id,"subject",ie.target.value),className:"h-8 flex-1"}):u.jsx("span",{className:"font-semibold",children:B.subject}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:["・",B.course]})]}),xe?u.jsx(Dt,{value:B.content,onChange:ie=>$i(B.id,"content",ie.target.value),className:"h-8"}):u.jsx("p",{className:"text-sm",children:B.content}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["テスト日: ",B.testDate]})]})]})},B.id))})]})})})}),u.jsx(Wr,{value:"other",className:"mt-0",children:u.jsx(Mn,{className:"h-[calc(100vh-177px)]",children:u.jsx("div",{className:"p-4 space-y-6",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg",style:{fontWeight:600},children:"その他お知らせ一覧"}),u.jsxs("div",{className:"flex flex-col items-end gap-2",children:[u.jsx("div",{className:"flex gap-2",children:kt?u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Oc,children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"キャンセル"]}),u.jsxs(de,{size:"sm",className:"rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",onClick:Va,children:[u.jsx(Xt,{className:"h-4 w-4 mr-1"}),"保存"]})]}):un?u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Dc,children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"キャンセル"]}),u.jsxs(de,{size:"sm",className:"rounded-xl bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:of,disabled:dn.size===0,children:[u.jsx(On,{className:"h-4 w-4 mr-1"}),"削除 (",dn.size,")"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>It(!0),children:[u.jsx(nr,{className:"h-4 w-4 mr-1"}),"追加"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:Tc,children:[u.jsx(Fr,{className:"h-4 w-4 mr-1"}),"編集"]}),u.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl text-destructive hover:text-destructive",onClick:Ac,children:[u.jsx(On,{className:"h-4 w-4 mr-1"}),"消去"]})]})}),un&&u.jsx(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:sf,children:dn.size===l.length?u.jsxs(u.Fragment,{children:[u.jsx(Ut,{className:"h-4 w-4 mr-1"}),"全選択解除"]}):u.jsxs(u.Fragment,{children:[u.jsx(Xt,{className:"h-4 w-4 mr-1"}),"全選択"]})})]})]}),u.jsx("div",{className:"space-y-2",children:(kt?Wt:l).map(B=>u.jsx("div",{className:"p-4 bg-white rounded-xl border border-border",children:u.jsxs("div",{className:"flex items-start gap-3",children:[un&&u.jsx(Ss,{checked:dn.has(B.id),onCheckedChange:()=>Fi(B.id),className:"mt-1"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:B.categoryColor}}),kt?u.jsx(Dt,{value:B.title,onChange:ie=>Wi(B.id,"title",ie.target.value),className:"h-8 flex-1"}):u.jsx("span",{className:"font-semibold",children:B.title}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:["・",B.category]})]}),kt?u.jsx(Dt,{value:B.content,onChange:ie=>Wi(B.id,"content",ie.target.value),className:"h-8"}):u.jsx("p",{className:"text-sm",children:B.content}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["日付: ",kt?u.jsx(Dt,{type:"date",value:B.date,onChange:ie=>Wi(B.id,"date",ie.target.value),className:"h-8 inline-block w-auto ml-2"}):B.date]})]})]})},B.id))})]})})})})]})})]}),u.jsx(OU,{open:_,onClose:Nt,onSave:Un}),u.jsx(AU,{open:E,onClose:ef,onSave:xc}),u.jsx(rU,{open:j,onClose:()=>N(!1),onSave:So}),u.jsx(Sp,{open:T,onClose:()=>D(!1),onSave:Hi}),u.jsx(xp,{open:Tt,onClose:()=>W(!1),onSave:nf}),u.jsx(DU,{open:yn,onClose:()=>It(!1),onSave:Ya})]})}function RU(){const t=Ia();return u.jsx(kU,{onBack:()=>t("/")})}function MU(){return u.jsxs(IC,{children:[u.jsxs(pC,{children:[u.jsx(Ca,{path:"/",element:u.jsx(LR,{})}),u.jsx(Ca,{path:"/auth/callback",element:u.jsx(BR,{})}),u.jsx(Ca,{path:"/home",element:u.jsx(S8,{})}),u.jsx(Ca,{path:"/teacher",element:u.jsx(RU,{})}),u.jsx(Ca,{path:"/detail/:id",element:u.jsx(A8,{})}),u.jsx(Ca,{path:"/assignments",element:u.jsx(Z8,{})}),u.jsx(Ca,{path:"/calendar",element:u.jsx(N8,{})}),u.jsx(Ca,{path:"/history",element:u.jsx(T8,{})})]}),u.jsx(wT,{position:"top-center",expand:!0,richColors:!0,closeButton:!0,visibleToasts:9})]})}_N.createRoot(document.getElementById("root")).render(u.jsx(I.StrictMode,{children:u.jsx(MU,{})}));
